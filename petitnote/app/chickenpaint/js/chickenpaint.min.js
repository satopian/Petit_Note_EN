/*

 Copyright (c) 2016 Federico Zivolo and contributors

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 Bootstrap v4.6.2 (https://getbootstrap.com/)
 Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 jQuery JavaScript Library v3.7.1
 https://jquery.com/

 Copyright OpenJS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2023-08-28T13:37Z
 PEP v0.4.3 | https://github.com/jquery/PEP
 Copyright jQuery Foundation and other contributors | http://jquery.org/license
 EventEmitter v5.2.9 - git.io/ee
 Unlicense - http://unlicense.org/
 Oliver Caldwell - https://oli.me.uk/
 @preserve
*/
(function(k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof define&&define.amd?define([],k):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ChickenPaint=k()})(function(){return function(){function k(L,C,y){function l(c,f){if(!C[c]){if(!L[c]){var x="function"==typeof require&&require;if(!f&&x)return x(c,!0);if(v)return v(c,!0);f=Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",
f;}f=C[c]={exports:{}};L[c][0].call(f.exports,function(a){return l(L[c][1][a]||a)},f,f.exports,k,L,C,y)}return C[c].exports}for(var v="function"==typeof require&&require,E=0;E<y.length;E++)l(y[E]);return l}return k}()({1:[function(k,L,C){function y(J){return J&&J.__esModule?J:{default:J}}function l(J){"@babel/helpers - typeof";return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==
Symbol.prototype?"symbol":typeof N},l(J)}function v(){if(!((0,F.isCanvasSupported)()&&"Uint8Array"in window))throw new c.UnsupportedBrowserException;var J=(-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPhone"))&&-1!=navigator.userAgent.indexOf(" OS 8_0 "),N=-1==navigator.userAgent.indexOf("CriOS")&&-1!=navigator.userAgent.indexOf("Safari");if(J&&N)throw new c.UnsupportedBrowserException("You are using Safari 8.0.0, which is unable to upload drawings. That bug was fixed in the iOS 8.0.2 update, or in Chrome for iOS.");
return!0}function E(){var J=Array(c.T_MAX);J[c.T_PENCIL]=new x.default({toolNb:c.T_PENCIL,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AA,brushMode:x.default.BRUSH_MODE_PAINT,paintMode:x.default.PAINT_MODE_OPACITY});J[c.T_ERASER]=new x.default({toolNb:c.T_ERASER,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!1,tip:x.default.TIP_ROUND_AA,brushMode:x.default.BRUSH_MODE_ERASE,paintMode:x.default.PAINT_MODE_OPACITY});
J[c.T_PEN]=new x.default({toolNb:c.T_PEN,size:2,alpha:128,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!0,pressureAlpha:!1,tip:x.default.TIP_ROUND_AA,brushMode:x.default.BRUSH_MODE_PAINT,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.5});J[c.T_SOFTERASER]=new x.default({toolNb:c.T_SOFTERASER,size:16,alpha:64,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_ERASE,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});
J[c.T_AIRBRUSH]=new x.default({toolNb:c.T_AIRBRUSH,size:50,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_PAINT,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});J[c.T_DODGE]=new x.default({toolNb:c.T_DODGE,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_DODGE,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});
J[c.T_BURN]=new x.default({toolNb:c.T_BURN,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_BURN,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});J[c.T_WATER]=new x.default({toolNb:c.T_WATER,size:30,alpha:70,isAA:!1,minSpacing:.5,spacing:.02,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AA,brushMode:x.default.BRUSH_MODE_WATER,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125,resat:.3,
bleed:.6});J[c.T_BLUR]=new x.default({toolNb:c.T_BLUR,size:20,alpha:255,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_PIXEL,brushMode:x.default.BRUSH_MODE_BLUR,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125});J[c.T_SMUDGE]=new x.default({toolNb:c.T_SMUDGE,size:20,alpha:128,isAA:!1,minSpacing:.5,spacing:.01,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_SMUDGE,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125,
resat:0,bleed:1});J[c.T_BLENDER]=new x.default({toolNb:c.T_BLENDER,size:20,alpha:60,isAA:!1,minSpacing:.5,spacing:.1,pressureSize:!1,pressureAlpha:!0,tip:x.default.TIP_ROUND_AIRBRUSH,brushMode:x.default.BRUSH_MODE_OIL,paintMode:x.default.PAINT_MODE_FLOW,alphaScale:.125,resat:0,bleed:.07});return J}function c(J){function N(ba){this.palName=ba}function S(ba){this.toolNum=ba}function ia(ba){this.modeNum=ba}function da(ba){ya=ba==a.default.EDITING_MODE_IMAGE?c.COLOR_MODE_RGB:c.COLOR_MODE_GREYSCALE;ra.emitEvent("colorModeChange",
[ba==a.default.EDITING_MODE_IMAGE?"rgb":"greyscale"]);switch(ya){case c.COLOR_MODE_RGB:var va=T.clone();break;case c.COLOR_MODE_GREYSCALE:va=new w.default(w.default.greyToRGB(ea))}ra.artwork.setForegroundColor(va.getRgb());ra.emitEvent("colorChange",[va])}function ta(){ra.emitEvent("toolChange",[Ia,Oa[Ia]])}function oa(ba){Ya!=ba&&(ba==c.M_TRANSFORM&&(sb=Ya),Ya=ba,ra.emitEvent("modeChange",[Ya]))}function R(ba){oa(c.M_DRAW);Ia=ba;ra.artwork.setBrush(Oa[ba]);ta()}function pa(){var ba=new r.default({artwork:ra.getArtwork(),
rotation:ab.getRotation90(),swatches:gb.getSwatches()});ba.on("savingComplete",function(){ra.artwork.setHasUnsavedChanges(!1)});ba.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});ba.save()}function ja(){if(ra.isActionSupported("CPContinue")||confirm((0,G._)("Are you sure you want to send your drawing to the server and finish drawing now?"))){var ba=new r.default({artwork:ra.getArtwork(),rotation:ab.getRotation90(),swatches:gb.getSwatches(),
url:J.saveUrl}),va=new A.default(ra,Qa,ba);ba.on("savingComplete",function(){ra.artwork.setHasUnsavedChanges(!1);!ra.isActionSupported("CPContinue")&&ra.isActionSupported("CPPost")&&ra.actionPerformed({action:"CPPost"})});ba.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});va.on("shown",function(){ba.save()});va.show()}}function za(){if((0,F.isEventSupported)("onbeforeunload"))window.addEventListener("beforeunload",function(ba){if(ra.artwork.getHasUnsavedChanges())return ba.returnValue=
"Your drawing has unsaved changes!"});else(0,f.default)("a").on("click",function(ba){if("#"!=this.getAttribute("href")&&ra.artwork.getHasUnsavedChanges())return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?")})}function ua(ba,va){Qa&&(Qa.addEventListener("dblclick",function(Fa){Fa.preventDefault();Fa.stopPropagation()}),ra.artwork.on("editModeChanged",da),gb=new b.default(ra,Qa),ra.emitEvent("fullScreen",[sa]),ra.emitEvent("smallScreen",[Na]),Ka.load(),R(c.T_PEN),
gb.arrangePalettes(),ba&&gb.setSwatches(ba),va&&gb.setRotation90(va),I.default.getRef().detectTablet(),za(),ra.artwork.on("unsavedChanges",function(Fa){J.allowMultipleSends&&ra.emitEvent("unsavedChanges",[Fa])}))}var Ha=this;(0,G.guessLanguage)();J.language&&(0,G.setLanguage)(J.language);var ra=this,Qa=J.uiElem,ab,gb,T=new w.default(0),ea=255,ya=c.COLOR_MODE_RGB,Ia=c.T_PENCIL,Ya=c.M_DRAW,sb=Ya,ub=[4278190080,4294967295],Na=!1,sa=!1,Oa=E(),Ka=new H.default,bb,V,ca={CPFullScreen:{action:function(){ra.setFullScreen(!sa)},
isSupported:function(){return!("disable"===J.fullScreenMode||"force"===J.fullScreenMode||!1===J.allowFullScreen)},modifies:{gui:!0}},CPZoomIn:{action:function(){ab.zoomIn()},modifies:{gui:!0}},CPZoomOut:{action:function(){ab.zoomOut()},modifies:{gui:!0}},CPZoom100:{action:function(){ab.zoom100()},modifies:{gui:!0}},CPToolbarStyle:{action:function(){ra.setToolbarStyle("new"===Ka.toolbarStyle?"old":"new")},modifies:{gui:!0}},CPUndo:{action:function(){ra.artwork.undo()},modifies:{document:!0},allowed:"isUndoAllowed"},
CPRedo:{action:function(){ra.artwork.redo()},modifies:{document:!0},allowed:"isRedoAllowed"},CPClearHistory:{action:function(){confirm("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?")&&ra.artwork.clearHistory()},modifies:{document:!0}},CPPencil:new S(c.T_PENCIL),CPPen:new S(c.T_PEN),CPEraser:new S(c.T_ERASER),CPSoftEraser:new S(c.T_SOFTERASER),CPAirbrush:new S(c.T_AIRBRUSH),CPDodge:new S(c.T_DODGE),CPBurn:new S(c.T_BURN),CPWater:new S(c.T_WATER),
CPBlur:new S(c.T_BLUR),CPSmudge:new S(c.T_SMUDGE),CPBlender:new S(c.T_BLENDER),CPFloodFill:new ia(c.M_FLOODFILL),CPGradientFill:new ia(c.M_GRADIENTFILL),CPRectSelection:new ia(c.M_RECT_SELECTION),CPMoveTool:new ia(c.M_MOVE_TOOL),CPRotateCanvas:new ia(c.M_ROTATE_CANVAS),CPPanCanvas:new ia(c.M_PAN_CANVAS),CPColorPicker:new ia(c.M_COLOR_PICKER),CPTransform:{action:function(){var ba=ra.artwork.getActiveLayer();ba.visible?0==ba.alpha?ra.showLayerNotification(ba,"Whoops! This layer's opacity is currently 0%",
"opacity"):null==ra.artwork.transformAffineBegin()?ra.showLayerNotification(ba,"Whoops! All of the selected pixels are transparent!","layer"):oa(c.M_TRANSFORM):ra.showLayerNotification(ba,"Whoops! This layer is currently hidden","layer")},modifies:{mode:!0},allowed:function(){return 0!=ra.artwork.getActiveLayer().getEffectiveAlpha()}},CPTransformAccept:{action:function(){Ya==c.M_TRANSFORM&&(ra.artwork.transformAffineFinish(),oa(sb))},modifies:{mode:!0}},CPTransformReject:{action:function(){Ya==c.M_TRANSFORM&&
(ra.artwork.transformAffineAbort(),oa(sb))},modifies:{document:!0,mode:!0}},CPFreeHand:{action:function(){Oa[Ia].strokeMode=x.default.STROKE_MODE_FREEHAND;ta()},modifies:{tool:!0}},CPLine:{action:function(){Oa[Ia].strokeMode=x.default.STROKE_MODE_LINE;ta()},modifies:{tool:!0}},CPBezier:{action:function(){Oa[Ia].strokeMode=x.default.STROKE_MODE_BEZIER;ta()},modifies:{tool:!0}},CPAbout:{action:function(){(new e.default(Qa)).show()},modifies:{}},CPShortcuts:{action:function(){(new n.default(Qa)).show()},
modifies:{}},CPTabletSupport:{action:function(){(new p.default(Qa)).show()},modifies:{}},CPLayerDuplicate:{action:function(){ra.artwork.duplicateLayer()},modifies:{document:!0}},CPLayerMergeDown:{action:function(){ra.artwork.mergeDown()},modifies:{document:!0},allowed:"isMergeDownAllowed"},CPGroupMerge:{action:function(){ra.artwork.mergeGroup()},modifies:{document:!0},allowed:"isMergeGroupAllowed"},CPLayerMergeAll:{action:function(){ra.artwork.mergeAllLayers()},modifies:{document:!0},allowed:"isMergeAllLayersAllowed"},
CPExpandLayerGroup:{action:function(ba){ra.artwork.expandLayerGroup(ba.group,ba.expand)},modifies:{document:!0}},CPFill:{action:function(){ra.artwork.fill(ra.getCurColor().getRgb()|4278190080)},modifies:{document:!0},requiresDrawable:!0},CPClear:{action:function(){ra.artwork.clear()},modifies:{document:!0},requiresDrawable:!0},CPSelectAll:{action:function(){ra.artwork.rectangleSelection(ra.artwork.getBounds());ab.repaintAll()},modifies:{document:!0}},CPDeselectAll:{action:function(){ra.artwork.rectangleSelection(new O.default(0,
0,0,0));ab.repaintAll()},modifies:{document:!0}},CPHFlip:{action:function(){ra.artwork.hFlip()},modifies:{document:!0},requiresDrawable:!0},CPVFlip:{action:function(){ra.artwork.vFlip()},modifies:{document:!0},requiresDrawable:!0},CPMNoise:{action:function(){ra.artwork.monochromaticNoise()},modifies:{document:!0},requiresDrawable:!0},CPCNoise:{action:function(){ra.artwork.colorNoise()},modifies:{document:!0},allowed:"isColorNoiseAllowed"},CPFXBoxBlur:{action:function(){bb||=new g.default(Qa,ra);bb.show()},
modifies:{document:!0},requiresDrawable:!0},CPFXInvert:{action:function(){ra.artwork.invert()},modifies:{document:!0},requiresDrawable:!0},CPCut:{action:function(){ra.artwork.cutSelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCutSelectionAllowed"},CPCopy:{action:function(){ra.artwork.copySelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCopySelectionAllowed"},CPCopyMerged:{action:function(){ra.artwork.copySelectionMerged()},modifies:{document:!0},allowed:"isCopySelectionMergedAllowed"},
CPPaste:{action:function(){ra.artwork.pasteClipboard()},modifies:{document:!0},allowed:"isPasteClipboardAllowed"},CPToggleGrid:{action:function(ba){ab.showGrid(ba.selected)},modifies:{gui:!0}},CPGridOptions:{action:function(){V||=new u.default(Qa,ab);V.show()},modifies:{gui:!0}},CPLinearInterpolation:{action:function(ba){ab.setInterpolation(ba.selected)},modifies:{gui:!0},isSupported:function(){return(0,F.isCanvasInterpolationSupported)()}},CPResetCanvasRotation:{action:function(){ab.resetRotation()},
modifies:{gui:!0}},CPAddLayer:{action:function(){ra.artwork.addLayer("layer")},modifies:{document:!0}},CPAddGroup:{action:function(){ra.artwork.addLayer("group")},modifies:{document:!0}},CPAddLayerMask:{action:function(){ra.artwork.addLayerMask()},modifies:{document:!0},allowed:"isAddLayerMaskAllowed"},CPApplyLayerMask:{action:function(){ra.artwork.applyLayerMask(!0)},modifies:{document:!0},allowed:"isApplyLayerMaskAllowed"},CPRemoveLayerMask:{action:function(){ra.artwork.removeLayerMask(!1)},modifies:{document:!0},
allowed:"isRemoveLayerMaskAllowed"},CPRemoveLayer:{action:function(){ra.artwork.removeLayer()||alert("Sorry, you can't remove the last remaining layer in the drawing.")},modifies:{document:!0},allowed:"isRemoveLayerAllowed"},CPCreateClippingMask:{action:function(){ra.artwork.createClippingMask()},modifies:{document:!0},allowed:"isCreateClippingMaskAllowed"},CPReleaseClippingMask:{action:function(){ra.artwork.releaseClippingMask()},modifies:{document:!0},allowed:"isReleaseClippingMaskAllowed"},CPRelocateLayer:{action:function(ba){ra.artwork.relocateLayer(ba.layer,
ba.toGroup,ba.toIndex)},modifies:{document:!0}},CPSetActiveLayer:{action:function(ba){ba.mask&&ba.layer.mask&&!ba.layer.maskVisible&&ra.artwork.setLayerMaskVisible(ba.layer,!0);ra.artwork.setActiveLayer(ba.layer,ba.mask);ra.artwork.performIdleTasks()},modifies:{document:!0}},CPToggleMaskView:{action:function(){var ba=ra.artwork.toggleMaskView();ba&&ra.emitEvent("maskViewOpened",[ba])},modifies:{gui:!0}},CPSetMaskVisible:{action:function(ba){ra.artwork.setLayerMaskVisible(ba.layer,ba.visible)},modifies:{layerProp:!0}},
CPSetLayerVisibility:{action:function(ba){ra.artwork.setLayerVisibility(ba.layer,ba.visible)},modifies:{layerProp:!0}},CPSetLayerName:{action:function(ba){ra.artwork.setLayerName(ba.layer,ba.name)},modifies:{layerProp:!0}},CPSetLayerBlendMode:{action:function(ba){ra.artwork.setLayerBlendMode(ba.blendMode)},modifies:{layerProp:!0}},CPSetLayerAlpha:{action:function(ba){ra.artwork.setLayerAlpha(ba.alpha)},modifies:{layerProp:!0}},CPSetLayerLockAlpha:{action:function(ba){ra.artwork.setLayerLockAlpha(ba.lock)},
modifies:{layerProp:!0}},CPPalColor:new N("color"),CPPalBrush:new N("brush"),CPPalLayers:new N("layers"),CPPalStroke:new N("stroke"),CPPalSwatches:new N("swatches"),CPPalTool:new N("tool"),CPPalMisc:new N("misc"),CPPalTextures:new N("textures"),CPTogglePalettes:{action:function(){gb.togglePalettes()},modifies:{gui:!0}},CPArrangePalettes:{action:function(){gb.arrangePalettes()},modifies:{gui:!0}},CPSave:{action:function(){pa()},isSupported:function(){return!1!==J.allowDownload},modifies:{document:!0}},
CPSend:{action:function(){ja()},isSupported:function(){return!!J.saveUrl},modifies:{document:!0}},CPPost:{action:function(){window.location=J.postUrl},isSupported:function(){return!!J.postUrl},modifies:{document:!0}},CPContinue:{action:function(){},isSupported:function(){return!!J.allowMultipleSends}},CPExit:{action:function(){window.location=J.exitUrl},isSupported:function(){return!!J.exitUrl},modifies:{}}};N.prototype.action=function(ba){gb.showPalette(this.palName,ba.selected)};N.prototype.modifies=
{gui:!0};S.prototype.action=function(){R(this.toolNum)};S.prototype.modifies={mode:!0,tool:!0};S.prototype.requiresDrawable=!0;ia.prototype.action=function(){oa(this.modeNum)};ia.prototype.modifies={mode:!0};this.callToolListeners=function(){ta()};this.getArtwork=function(){return this.artwork};this.setCanvas=function(ba){ab=ba};this.setTransformInterpolation=function(ba){this.artwork.setTransformInterpolation(ba)};this.setCurColor=function(ba){switch(ya){case c.COLOR_MODE_RGB:T.isEqual(ba)||(T.copyFrom(ba),
this.artwork.setForegroundColor(ba.getRgb()),this.emitEvent("colorChange",[ba]));break;case c.COLOR_MODE_GREYSCALE:if(ba=ba.getValue(),ea!=ba){var va=w.default.greyToRGB(ba);this.artwork.setForegroundColor(va);ea=ba;this.emitEvent("colorChange",[new w.default(va)])}}};this.getCurColor=function(){switch(ya){case c.COLOR_MODE_RGB:return T.clone();case c.COLOR_MODE_GREYSCALE:return new w.default(w.default.greyToRGB(ea))}};this.setCurGradient=function(ba){ub=ba.slice(0);this.emitEvent("gradientChange",
[ub])};this.getCurGradient=function(){return ub.slice(0)};this.setBrushSize=function(ba){Oa[Ia].size=Math.max(1,Math.min(200,ba));ta()};this.getBrushSize=function(){return Oa[Ia].size};this.setAlpha=function(ba){Oa[Ia].alpha=ba;ta()};this.getAlpha=function(){return Oa[Ia].alpha};this.getCurMode=function(){return Ya};this.getCurTool=function(){return Ia};this.getBrushInfo=function(){return Oa[Ia]};this.isActionSupported=function(ba){if(ca[ba]){var va=l(ca[ba].isSupported);return"function"==va?ca[ba].isSupported():
"undefined"==va?!0:ca[ba].isSupported}return!1};this.isActionAllowed=function(ba){return(ba=ca[ba])?"function"==typeof ba.allowed?ba.allowed():"string"==typeof ba.allowed?this.artwork[ba.allowed]():!ba.requiresDrawable||this.artwork.isActiveLayerDrawable():!1};this.showLayerNotification=function(ba,va,Fa){this.emitEvent("layerNotification",[ba,va,Fa])};this.actionPerformed=function(ba){if(null!=this.artwork&&null!=ab){var va=ca[ba.action];va&&(Ya==c.M_TRANSFORM&&(va.modifies.document||va.modifies.mode)&&
-1==["CPTransformAccept","CPTransformReject"].indexOf(ba.action)?"CPUndo"==ba.action?ca.CPTransformReject.action():"CPTransform"!=ba.action&&(va=new h.default(Qa,this),va.on("accept",this.actionPerformed.bind(this,ba)),va.on("reject",this.actionPerformed.bind(this,ba)),va.show()):va.action(ba))}};this.setSmallScreenMode=function(ba){Na!==ba&&(Na=ba,(0,f.default)(Qa).toggleClass("chickenpaint-small-screen",Na),ra.emitEvent("smallScreen",[Na]))};this.getSmallScreenMode=function(){return Na};this.setFullScreen=
function(ba){sa!==ba&&(sa=ba,(0,f.default)("body").toggleClass("chickenpaint-full-screen",sa),(0,f.default)(Qa).toggleClass("chickenpaint-full-screen",sa),sa&&0===(0,f.default)("head meta[name=viewport]").length?((0,f.default)("head").append('<meta name="viewport" content="width=device-width,user-scalable=no">'),setTimeout(function(){return ra.emitEvent("fullScreen",[sa])},200)):ra.emitEvent("fullScreen",[sa]))};this.isFullScreen=function(){return sa};this.setToolbarStyle=function(ba){Ka.set("toolbarStyle",
ba);Ka.save()};this.getToolbarStyle=function(){return Ka.get("toolbarStyle")};this.getResourcesRoot=function(){return J.resourcesRoot};v();Qa&&((0,F.isFlexboxSupported)()||(Qa.className+=" no-flexbox"),Qa.className+=" chickenpaint chickenpaint-lang-"+(0,G.currentLanguage)());J.resourcesRoot=J.resourcesRoot||"chickenpaint/";J.disableBootstrapAPI&&(0,f.default)(document).off(".data-api");this.setSmallScreenMode(430>(0,f.default)(window).width()||430>(0,f.default)(window).height());switch(J.fullScreenMode){case "force":this.setFullScreen(!0);
break;case "auto":this.setFullScreen(Na)}Ka.on("toolbarStyle",function(ba){return Ha.emitEvent("toolbarStyleChange",[ba])});if(J.loadImageUrl||J.loadChibiFileUrl){var fa=new m.default(J);new t.default(Qa,fa,J.resourcesRoot);fa.on("loadingComplete",function(ba){ra.artwork=ba.layers||ba.flat;ua(ba.swatches,J.rotation);if(J.onLoaded)J.onLoaded(this)});fa.load()}else if(J.artwork?this.artwork=J.artwork:(this.artwork=new a.default(J.canvasWidth||800,J.canvasHeight||600),this.artwork.addBackgroundLayer()),
ua(),J.onLoaded)J.onLoaded(this)}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;k("core-js/stable/symbol/index.js");k("core-js/stable/promise/index.js");k("core-js/stable/map/index.js");k("core-js/stable/set/index.js");k("core-js/stable/typed-array/slice.js");k("core-js/stable/typed-array/fill.js");k("core-js/stable/array/iterator.js");k("core-js/stable/array/fill.js");k("core-js/stable/string/ends-with.js");var f=y(k("jquery"));k("bootstrap");k("../lib/raf.js");var x=y(k("./engine/CPBrushInfo.js")),
a=y(k("./engine/CPArtwork.js")),m=y(k("./engine/CPResourceLoader.js")),r=y(k("./engine/CPResourceSaver.js")),t=y(k("./gui/CPSplashScreen.js")),b=y(k("./gui/CPMainGUI.js")),e=y(k("./gui/CPAboutDialog.js")),h=y(k("./gui/CPConfirmTransformDialog.js")),n=y(k("./gui/CPShortcutsDialog.js")),g=y(k("./gui/CPBoxBlurDialog.js")),p=y(k("./gui/CPTabletDialog.js")),u=y(k("./gui/CPGridDialog.js")),A=y(k("./gui/CPSendDialog.js")),F=k("./util/CPPolyfill.js"),w=y(k("./util/CPColor.js")),I=y(k("./util/CPWacomTablet.js")),
O=y(k("./util/CPRect.js")),z=y(k("wolfy87-eventemitter")),G=k("./languages/lang.js"),H=y(k("./gui/CPUserPreferences.js"));window.PointerEvent&&(window.hasNativePointerEvents=!0);k("pepjs");c.prototype=Object.create(z.default.prototype);c.prototype.constructor=c;c.UnsupportedBrowserException=function(J){this.message=J};c.UnsupportedBrowserException.prototype.toString=function(){var J="Sorry, your web browser does not support ChickenPaint.";return J=this.message?J+(" "+this.message):J+" Please try a modern browser like Chrome, Safari, Firefox, or Edge."};
c.M_DRAW=0;c.M_FLOODFILL=1;c.M_RECT_SELECTION=2;c.M_MOVE_TOOL=3;c.M_ROTATE_CANVAS=4;c.M_COLOR_PICKER=5;c.M_GRADIENTFILL=6;c.M_TRANSFORM=7;c.M_PAN_CANVAS=8;c.T_PENCIL=0;c.T_ERASER=1;c.T_PEN=2;c.T_SOFTERASER=3;c.T_AIRBRUSH=4;c.T_DODGE=5;c.T_BURN=6;c.T_WATER=7;c.T_BLUR=8;c.T_SMUDGE=9;c.T_BLENDER=10;c.T_MAX=11;c.COLOR_MODE_RGB=0;c.COLOR_MODE_GREYSCALE=1;L.exports=C.default},{"../lib/raf.js":69,"./engine/CPArtwork.js":3,"./engine/CPBrushInfo.js":8,"./engine/CPResourceLoader.js":20,"./engine/CPResourceSaver.js":21,
"./gui/CPAboutDialog.js":23,"./gui/CPBoxBlurDialog.js":24,"./gui/CPConfirmTransformDialog.js":32,"./gui/CPGridDialog.js":34,"./gui/CPMainGUI.js":36,"./gui/CPSendDialog.js":42,"./gui/CPShortcutsDialog.js":43,"./gui/CPSplashScreen.js":45,"./gui/CPTabletDialog.js":48,"./gui/CPUserPreferences.js":51,"./languages/lang.js":54,"./util/CPColor.js":58,"./util/CPPolyfill.js":60,"./util/CPRect.js":63,"./util/CPWacomTablet.js":66,bootstrap:70,"core-js/stable/array/fill.js":287,"core-js/stable/array/iterator.js":288,
"core-js/stable/map/index.js":289,"core-js/stable/promise/index.js":290,"core-js/stable/set/index.js":291,"core-js/stable/string/ends-with.js":292,"core-js/stable/symbol/index.js":293,"core-js/stable/typed-array/fill.js":294,"core-js/stable/typed-array/slice.js":295,jquery:297,pepjs:314,"wolfy87-eventemitter":316}],2:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.createCanvas=function(y,l){var v=document.createElement("canvas");v.width=y;v.height=l;return v};C.createImageData=
function(y,l){return document.createElement("canvas").getContext("2d").createImageData(y,l)}},{}],3:[function(k,L,C){function y(ua){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ha){return typeof Ha}:function(Ha){return Ha&&"function"==typeof Symbol&&Ha.constructor===Symbol&&Ha!==Symbol.prototype?"symbol":typeof Ha},y(ua)}function l(ua){return ua&&ua.__esModule?ua:{default:ua}}function v(){v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():
function(ua,Ha,ra){var Qa;for(Qa=ua;!Object.prototype.hasOwnProperty.call(Qa,Ha)&&(Qa=t(Qa),null!==Qa););if(Qa)return Qa=Object.getOwnPropertyDescriptor(Qa,Ha),Qa.get?Qa.get.call(3>arguments.length?ua:ra):Qa.value};return v.apply(this,arguments)}function E(ua,Ha){if(!(ua instanceof Ha))throw new TypeError("Cannot call a class as a function");}function c(ua,Ha){for(var ra=0;ra<Ha.length;ra++){var Qa=Ha[ra];Qa.enumerable=Qa.enumerable||!1;Qa.configurable=!0;"value"in Qa&&(Qa.writable=!0);var ab=Object,
gb=ab.defineProperty;a:{var T=Qa.key;if("object"===y(T)&&null!==T){var ea=T[Symbol.toPrimitive];if(void 0!==ea){T=ea.call(T,"string");if("object"!==y(T))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}T=String(T)}}T="symbol"===y(T)?T:String(T);gb.call(ab,ua,T,Qa)}}function f(ua,Ha,ra){Ha&&c(ua.prototype,Ha);ra&&c(ua,ra);Object.defineProperty(ua,"prototype",{writable:!1});return ua}function x(ua,Ha){if("function"!==typeof Ha&&null!==Ha)throw new TypeError("Super expression must either be null or a function");
ua.prototype=Object.create(Ha&&Ha.prototype,{constructor:{value:ua,writable:!0,configurable:!0}});Object.defineProperty(ua,"prototype",{writable:!1});Ha&&a(ua,Ha)}function a(ua,Ha){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ra,Qa){ra.__proto__=Qa;return ra};return a(ua,Ha)}function m(ua){var Ha=r();return function(){var ra=t(ua);if(Ha){var Qa=t(this).constructor;ra=Reflect.construct(ra,arguments,Qa)}else ra=ra.apply(this,arguments);if(!ra||"object"!==y(ra)&&"function"!==typeof ra){if(void 0!==
ra)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");ra=this}return ra}}function r(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ua){return!1}}function t(ua){t=Object.setPrototypeOf?Object.getPrototypeOf.bind():
function(Ha){return Ha.__proto__||Object.getPrototypeOf(Ha)};return t(ua)}function b(ua,Ha){var ra="undefined"!==typeof Symbol&&ua[Symbol.iterator]||ua["@@iterator"];if(!ra){if(Array.isArray(ua)||(ra=e(ua))||Ha&&ua&&"number"===typeof ua.length){ra&&(ua=ra);var Qa=0;Ha=function(){};return{s:Ha,n:function(){return Qa>=ua.length?{done:!0}:{done:!1,value:ua[Qa++]}},e:function(ea){throw ea;},f:Ha}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var ab=!0,gb=!1,T;return{s:function(){ra=ra.call(ua)},n:function(){var ea=ra.next();ab=ea.done;return ea},e:function(ea){gb=!0;T=ea},f:function(){try{ab||null==ra.return||ra.return()}finally{if(gb)throw T;}}}}function e(ua,Ha){if(ua){if("string"===typeof ua)return h(ua,Ha);var ra=Object.prototype.toString.call(ua).slice(8,-1);"Object"===ra&&ua.constructor&&(ra=ua.constructor.name);if("Map"===ra||"Set"===ra)return Array.from(ua);if("Arguments"===ra||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ra))return h(ua,
Ha)}}function h(ua,Ha){if(null==Ha||Ha>ua.length)Ha=ua.length;for(var ra=0,Qa=Array(Ha);ra<Ha;ra++)Qa[ra]=ua[ra];return Qa}function n(ua){return ua.substring(0,1).toUpperCase()+ua.substring(1)}function g(ua,Ha){return ua+Ha}function p(ua){return ua?ua.width*ua.height*4:0}function u(ua,Ha){function ra(W){ec=!1;if(0<xc.size||0<rc.size)W?ea():Yb||setTimeout(ea,1E3)}function Qa(){eb.emitEvent("changeSelection",[])}function ab(W){eb.emitEvent("updateRegion",[W])}function gb(){eb.emitEvent("changeStructure");
Ra.resetTree();Oa();ab(eb.getBounds())}function T(W,qa,Ma){eb.emitEvent("changeLayer",[W]);Ma||(Ra.layerPropertyChanged(W,qa),ab(eb.getBounds()))}function ea(){var W=b(xc),qa;try{for(W.s();!(qa=W.n()).done;){var Ma=qa.value;Ma.rebuildImageThumbnail();eb.emitEvent("changeLayerImageThumb",[Ma])}}catch(Pa){W.e(Pa)}finally{W.f()}W=b(rc);var ka;try{for(W.s();!(ka=W.n()).done;){var Ea=ka.value;Ea.rebuildMaskThumbnail();eb.emitEvent("changeLayerMaskThumb",[Ea])}}catch(Pa){W.e(Pa)}finally{W.f()}xc.clear();
Yb&&(clearTimeout(Yb),Yb=null)}function ya(W,qa,Ma,ka){Array.isArray(W)||(W=[W]);W.forEach(function(Xa){return Ra.invalidateLayerRect(Xa,qa)});var Ea=!1;if(Ma){Eb.union(qa);Ma=b(W);var Pa;try{for(Ma.s();!(Pa=Ma.n()).done;){var Ja=Pa.value;Ja instanceof A.default&&(xc.add(Ja),Ea=!0)}}catch(Xa){Ma.e(Xa)}finally{Ma.f()}}ka&&(Ib.union(qa),W.forEach(function(Xa){rc.add(Xa);Ub&&Ub.layer==Xa&&Ub.invalidateRect(qa)}),Ea=!0);Ea&&(Yb&&(clearTimeout(Yb),Yb=null),ec||(Yb=setTimeout(ea,1E3)));ab(qa)}function Ia(W,
qa){ya(W,qa,!pb,pb)}function Ya(){return pb?Ta.mask:Ta.image}function sb(){if(!Mb.isEmpty()){if(pb){var W=Ta.mask;nb.brushMode==J.default.BRUSH_MODE_ERASE?Jb[J.default.BRUSH_MODE_PAINT].mergeOntoMask(W,P,4278190080):Jb[nb.brushMode].mergeOntoMask(W,P,Vb&255)}else{W=Ta.image;var qa=Ta.getLockAlpha();nb.brushMode==J.default.BRUSH_MODE_ERASE&&qa?Jb[J.default.BRUSH_MODE_PAINT].mergeOntoImage(W,Va,16777215):Jb[nb.brushMode].mergeOntoImage(W,Va,Vb);qa&&W.copyAlphaFrom(Va,Mb)}Mb.makeEmpty()}}function ub(){Ta instanceof
A.default&&!Eb.isEmpty()&&(Va.copyBitmapRect(Ta.image,Eb.left,Eb.top,Eb),Eb.makeEmpty())}function Na(){Ta.mask&&!Ib.isEmpty()&&(P.copyBitmapRect(Ta.mask,Ib.left,Ib.top,Ib),Ib.makeEmpty())}function sa(){pb?Na():ub()}function Oa(){var W=eb.getBounds();Eb.set(W);Ib.set(W)}function Ka(W){eb.setHasUnsavedChanges(!0);0<Rb.length&&(Rb=[]);0!==Fb.length&&Fb[Fb.length-1].merge(W)?Fb[Fb.length-1].noChange()&&Fb.pop():(30<=Fb.length&&Fb.shift(),eb.compactUndo(),Fb.push(W))}function bb(W,qa){W||qa||(W=!pb,qa=
pb);var Ma=Cb.clone(),ka=W?Va.copyRectXOR(Ta.image,Ma):null,Ea=qa?P.copyRectXOR(Ta.mask,Ma):null;this.layer=Ta;Cb.makeEmpty();this.redo=this.undo=function(){ka&&this.layer.image.setRectXOR(ka,Ma);Ea&&this.layer.mask.setRectXOR(Ea,Ma);ya(this.layer,Ma,null!=ka,null!=Ea)};this.getMemoryUsed=function(Pa,Ja){return(ka?ka.length:0)+(Ea?Ea.length:0)}}function V(W){var qa=W.maskLinked,Ma=W.maskVisible;this.undo=function(){W.setMask(null);W.maskLinked=qa;W.maskVisible=Ma;gb();eb.setActiveLayer(W,!1)};this.redo=
function(){var ka=new I.default(eb.width,eb.height,8);ka.clearAll(255);W.maskLinked=!0;W.maskVisible=!0;W.setMask(ka);gb();eb.setActiveLayer(W,!0)};this.redo()}function ca(W,qa){var Ma=W.mask,ka=!1;var Ea=qa&&W instanceof A.default?W.image.clone():null;ka=Ta==W&&pb;this.undo=function(){W.setMask(Ma);Ea&&(W.image.copyPixelsFrom(Ea),ya(W,W.image.getBounds(),!0,!1));ka&&eb.setActiveLayer(W,!0);gb()};this.redo=function(){Ea&&(w.default.multiplyAlphaByMask(W.image,100,W.mask),ya(W,eb.getBounds(),!0,!1));
ka&&eb.setActiveLayer(W,!1);W.setMask(null);gb()};this.redo()}function fa(W,qa,Ma){var ka=Ma instanceof A.default&&Ma.clip,Ea=W.layers[qa],Pa=Ea instanceof A.default&&Ea.clip,Ja=pb;this.undo=function(){W.removeLayer(Ma);var Xa=W.layers[qa-1]||W.layers[0]||W;Ea instanceof A.default&&(Ea.clip=Pa);Ma instanceof A.default&&(Ma.clip=ka);gb();eb.setActiveLayer(Xa,Ja)};this.redo=function(){W.insertLayer(qa,Ma);Pa&&(Ma instanceof A.default?Ma.clip=!0:Ea.clip=!1);gb();eb.setActiveLayer(Ma,!1)};this.redo()}
function ba(W){var qa=W.clone(),Ma=pb;this.undo=function(){qa.parent.removeLayer(qa);gb();eb.setActiveLayer(W,Ma)};this.redo=function(){var ka=W.name;ka.endsWith(" Copy")||(ka+=" Copy");qa.name=ka;W.parent.insertLayer(W.parent.indexOf(W)+1,qa);gb();eb.setActiveLayer(qa,!1)};this.redo()}function va(W){var qa=W.parent,Ma=qa.indexOf(W),ka=pb,Ea=0;if(W instanceof A.default&&!W.clip)for(var Pa=Ma+1;Pa<qa.layers.length;Pa++)if(qa.layers[Pa]instanceof A.default&&qa.layers[Pa].clip)Ea++;else break;this.undo=
function(){qa.insertLayer(Ma,W);for(var Ja=0;Ja<Ea;Ja++)qa.layers[Ja+Ma+1].clip=!0;gb();eb.setActiveLayer(W,ka)};this.redo=function(){for(var Ja=0;Ja<Ea;Ja++)qa.layers[Ja+Ma+1].clip=!1;qa.removeLayerAtIndex(Ma);Ja=0==qa.layers.length?W.parent:qa.layers[Math.max(Ma-1,0)];gb();eb.setActiveLayer(Ja,!1)};this.getMemoryUsed=function(Ja,Xa){return Ja?0:W.getMemoryUsed()};this.redo()}function Fa(W){var qa=W.parent.indexOf(W),Ma=pb,ka=new A.default(eb.width,eb.height,"");this.undo=function(){W.parent.setLayerAtIndex(qa,
W);gb();eb.setActiveLayer(W,Ma)};this.redo=function(){W.parent.setLayerAtIndex(qa,ka);gb();eb.setActiveLayer(ka,!1)};this.getMemoryUsed=function(Pa,Ja){return Pa?0:W.getMemoryUsed()};var Ea=new O.default(W,eb.width,eb.height,!1);Ea.buildTree();Ea=Ea.blendTree();ka.name=W.name;ka.alpha=Ea.alpha;ka.image=Ea.image;ka.blendMode=Ea.blendMode;ka.mask=Ea.mask;ka.blendMode==w.default.LM_PASSTHROUGH&&(ka.blendMode=w.default.LM_NORMAL);this.redo()}function Ga(W){var qa=W.parent,Ma=qa.layers[qa.indexOf(W)-1],
ka=new A.default(eb.width,eb.height,""),Ea=pb;this.undo=function(){var Pa=qa.indexOf(ka);qa.removeLayerAtIndex(Pa);qa.insertLayer(Pa,W);qa.insertLayer(Pa,Ma);gb();eb.setActiveLayer(W,Ea)};this.redo=function(){ka.copyFrom(Ma);0<W.getEffectiveAlpha()&&(ka.mask?(w.default.multiplyAlphaByMask(ka.image,ka.alpha,ka.mask),ka.mask=null):w.default.multiplyAlphaBy(ka.image,ka.alpha),ka.alpha=100,w.default.fuseImageOntoImage(ka.image,!0,W.image,W.alpha,W.blendMode,W.getBounds(),W.mask));var Pa=qa.indexOf(Ma);
qa.removeLayerAtIndex(Pa);qa.removeLayerAtIndex(Pa);qa.insertLayer(Pa,ka);gb();eb.setActiveLayer(ka,!1)};this.getMemoryUsed=function(Pa,Ja){return Pa?0:W.getMemoryUsed()+ka.getMemoryUsed()};this.redo()}function na(){var W=eb.getActiveLayer(),qa=Aa.layers.slice(0),Ma=new A.default(eb.width,eb.height,"");this.undo=function(){Aa.layers=qa.slice(0);gb();eb.setActiveLayer(W,!1)};this.redo=function(){var ka=eb.fusionLayers();Ma.copyImageFrom(ka);Aa.clearLayers();Ma.setName(eb.getDefaultLayerName(!1));Aa.addLayer(Ma);
gb();eb.setActiveLayer(Ma,!1)};this.getMemoryUsed=function(ka,Ea){return qa.map(function(Pa){return Pa.getMemoryUsed()}).reduce(g,0)};this.redo()}function X(W,qa,Ma){var ka=W.parent,Ea=W.parent.indexOf(W),Pa=pb,Ja=ka.layers[ka.indexOf(W)+1],Xa=qa.layers[Ma],$a=W instanceof A.default&&W.clip,ob=$a?W.getClippingBase():!1,qb=0,bc=0;if(W instanceof A.default&&!W.clip)for(var Ab=Ea+1;Ab<ka.layers.length;Ab++)if(ka.layers[Ab]instanceof A.default&&ka.layers[Ab].clip)qb++;else break;else if(W instanceof F.default)for(Ab=
Ma;Ab<qa.layers.length;Ab++)if(qa.layers[Ab]instanceof A.default&&qa.layers[Ab].clip)bc++;else break;this.undo=function(){W.parent.removeLayer(W);var Nb=Ja?ka.indexOf(Ja):ka.layers.length;ka.insertLayer(Nb,W);W instanceof A.default&&(W.clip=$a);for(Nb=0;Nb<qb;Nb++)ka.layers[Nb+Ea+1].clip=!0;for(Nb=0;Nb<bc;Nb++)qa.layers[Nb+Ma].clip=!0;gb();eb.setActiveLayer(W,Pa)};this.redo=function(){for(var Nb=0;Nb<qb;Nb++)ka.layers[Nb+Ea+1].clip=!1;W.parent.removeLayer(W);Nb=Xa?qa.indexOf(Xa):qa.layers.length;
qa.insertLayer(Nb,W);for(var mc=0;mc<bc;mc++)qa.layers[mc+Nb+1].clip=!1;W instanceof A.default&&(W.clip&&W.getClippingBase()!=ob&&(W.clip=!1),Xa instanceof A.default&&Xa.clip&&(W.clip=!0));for(mc=0;mc<bc;mc++)qa.layers[mc+Nb+1].clip=!1;gb();eb.setActiveLayer(W,!1)};this.redo()}function aa(W,qa){var Ma=n(W),ka=function(Ea,Pa){Array.isArray(Ea)||(Ea=[Ea]);this.layers=Ea;this.from=this.layers.map(function(Ja){return Ja["get"+Ma]()});this.to=Pa;this.redo()};ka.prototype=Object.create(N.default.prototype);
ka.prototype.constructor=ka;ka.prototype.undo=function(){var Ea=this;this.layers.forEach(function(Pa,Ja){return Pa["set"+Ma](Ea.from[Ja])});this.layers.forEach(function(Pa){return T(Pa,W,!qa)})};ka.prototype.redo=function(){var Ea=this;this.layers.forEach(function(Pa){return Pa["set"+Ma](Ea.to)});this.layers.forEach(function(Pa){return T(Pa,W,!qa)})};ka.prototype.merge=function(Ea){var Pa;if(Pa=Ea instanceof ka)a:{Pa=this.layers;var Ja=Ea.layers;if(Pa.length!=Ja.length)Pa=!1;else{for(var Xa=0;Xa<
Pa.length;Xa++)if(Pa[Xa]!=Ja[Xa]){Pa=!1;break a}Pa=!0}}return Pa?(this.to=Ea.to,!0):!1};ka.prototype.noChange=function(){for(var Ea=0;Ea<this.from.length;Ea++)if(this.from[Ea]!=this.to)return!1;return!0};return ka}function D(W,qa){W=W.clone();qa=qa.clone();this.undo=function(){eb.setSelection(W);ab(eb.getBounds())};this.redo=function(){eb.setSelection(qa);ab(eb.getBounds())};this.noChange=function(){return W.equals(qa)}}function K(W,qa,Ma){var ka=qa?W.mask:W.image,Ea=ka.cloneRect(Ma);Ma=Ma.clone();
this.undo=function(){ka.copyBitmapRect(Ea,Ma.left,Ma.top,Ea.getBounds());eb.setActiveLayer(W,qa);eb.setSelection(Ma);ya(W,Ma,!qa,qa)};this.redo=function(){qa?ka.clearRect(Ma,0):ka.clearRect(Ma,16777215);kc=new S.default(Ea,Ma.left,Ma.top);eb.setActiveLayer(W,qa);eb.emptySelection();ya(W,Ma,!qa,qa)};this.getMemoryUsed=function(Pa,Ja){return Ea==Ja?0:Ea.getMemorySize()};this.redo()}function Z(W){var qa=eb.getSelection(),Ma=pb,ka=new A.default(eb.width,eb.height,eb.getDefaultLayerName(!1)),Ea=Ta,Pa=
Ea.parent;this.undo=function(){Pa.removeLayer(ka);eb.setSelection(qa);gb();eb.setActiveLayer(Ea,Ma)};this.redo=function(){var Ja=Pa.indexOf(Ea),Xa=W.bmp.getBounds();Pa.insertLayer(Ja+1,ka);if(Xa.isInside(eb.getBounds())){Ja=W.x;var $a=W.y}else Ja=(eb.width-W.bmp.width)/2|0,$a=(eb.height-W.bmp.height)/2|0;if(W.bmp instanceof I.default){var ob=new G.default(W.bmp.width,W.bmp.height);ob.copyPixelsFromGreyscale(W.bmp);ka.image.copyBitmapRect(ob,Ja,$a,Xa)}else ka.image.copyBitmapRect(W.bmp,Ja,$a,Xa);eb.emptySelection();
gb();eb.setActiveLayer(ka,!1)};this.getMemoryUsed=function(Ja,Xa){return W.bmp==Xa?0:W.bmp.getMemorySize()};this.redo()}ua|=0;Ha|=0;var Aa=new F.default("Root",w.default.LM_NORMAL),Ra=new O.default(Aa,ua,Ha,!0),Va=new G.default(ua,Ha),Eb=new da.default(0,0,ua,Ha),P=new I.default(ua,Ha,8),Ib=new da.default(0,0,ua,Ha),cc=new I.default(ua,Ha,32),Mb=new da.default(0,0,0,0),sc=new H.default,eb=this,Jb=[],Ta=Aa,pb=!1,Ub=null,Cb=new da.default(0,0,0,0),Ac=!1,lc=new da.default(0,0,0,0),tc=null,gc=new ta.default,
yb=null,kc=null,Fb=[],Rb=[],nb=null,hc=0,Zb=0,mb=0,Ob=!1,ec=!1,rc=new Set,xc=new Set,Yb=null,Vb=0,nc="smooth";this.getLayersRoot=function(){return Aa};this.getSelectionAutoSelect=function(){return lc.isEmpty()?this.getBounds():this.getSelection()};this.getSelection=function(){return lc.clone()};this.setHasUnsavedChanges=function(W){W!=Ac&&(Ac=W,this.emitEvent("unsavedChanges",[W]))};this.getHasUnsavedChanges=function(){return Ac};this.isAddLayerMaskAllowed=function(){return!Ta.mask};this.addLayerMask=
function(){this.isAddLayerMaskAllowed()&&Ka(new V(Ta))};this.isRemoveLayerMaskAllowed=function(){return null!==Ta.mask};this.removeLayerMask=function(){this.isRemoveLayerMaskAllowed()&&Ka(new ca(Ta,!1))};this.isApplyLayerMaskAllowed=function(){return null!==Ta.mask&&Ta instanceof A.default};this.applyLayerMask=function(W){this.isApplyLayerMaskAllowed()&&Ka(new ca(Ta,!0))};this.addLayer=function(W){if(Ta instanceof F.default&&Ta.expanded){var qa=Ta;var Ma=Ta.layers.length}else qa=Ta.parent,Ma=qa.layers.indexOf(Ta)+
1;switch(W){case "group":for(;qa.layers[Ma]instanceof A.default&&qa.layers[Ma].clip;)Ma++;W=new F.default(this.getDefaultLayerName(!0),w.default.LM_PASSTHROUGH);break;default:W=new A.default(this.width,this.height,this.getDefaultLayerName(!1)),W.image.clearAll(16777215)}Ka(new fa(qa,Ma,W));return W};this.addLayerObject=function(W,qa){W.addLayer(qa);W==Aa&&1==Aa.layers.length&&(Ta=qa);gb()};this.addLayerGroupObject=function(W,qa,Ma){for(var ka=[],Ea=0;Ea<Ma;Ea++)ka.unshift(W.layers.pop());ka.forEach(function(Pa){return qa.addLayer(Pa)});
this.addLayerObject(W,qa)};this.isRemoveLayerAllowed=function(){return Ta instanceof A.default?Aa.getLinearizedLayerList(!1).some(function(W){return W instanceof A.default&&W!=Ta}):Ta instanceof F.default?Aa.getLinearizedLayerList(!1).some(function(W){return W instanceof A.default&&!W.hasAncestor(Ta)}):!1};this.removeLayer=function(){return this.isRemoveLayerAllowed()?(Ka(new va(Ta)),!0):!1};this.duplicateLayer=function(){Ka(new ba(Ta))};this.isMergeDownAllowed=function(){var W=Ta.parent.indexOf(Ta);
return 0<W&&Ta instanceof A.default&&Ta.parent.layers[W-1]instanceof A.default};this.mergeDown=function(){this.isMergeDownAllowed()&&Ka(new Ga(Ta))};this.isMergeGroupAllowed=function(){return Ta instanceof F.default&&0<Ta.getEffectiveAlpha()};this.mergeGroup=function(){this.isMergeGroupAllowed()&&Ka(new Fa(Ta))};this.isMergeAllLayersAllowed=function(){return 1<Aa.getLinearizedLayerList(!1).length};this.mergeAllLayers=function(){this.isMergeAllLayersAllowed()&&Ka(new na)};this.relocateLayer=function(W,
qa,Ma){W&&qa&&W!=qa&&!qa.hasAncestor(W)&&Ka(new X(W,qa,Ma))};this.setLayerVisibility=function(W,qa){var Ma=[];if(W.ancestorsAreVisible())W.visible!=qa&&Ka(new Bc(W,qa));else{for(;null!=W;W=W.parent)W.visible||Ma.push(W);Ka(new Bc(Ma,!0))}};this.expandLayerGroup=function(W,qa){W.expanded!=qa&&(W.expanded=qa,!qa&&Ta.hasAncestor(W)&&this.setActiveLayer(W,!1),T(W,"expanded",!0))};this.setLayerAlpha=function(W){Ta.getAlpha()!=W&&Ka(new yc(Ta,W))};this.setLayerMaskLinked=function(W){Ta.maskLinked!=W&&Ka(new Sa(Ta,
W))};this.setLayerMaskVisible=function(W,qa){W.maskVisible!=qa&&Ka(new uc(W,qa))};this.setLayerBlendMode=function(W){Ta.getBlendMode()!=W&&(W!=w.default.LM_PASSTHROUGH||Ta instanceof F.default)&&Ka(new Gc(Ta,W))};this.setLayerName=function(W,qa){W.getName()!=qa&&Ka(new ha(W,qa))};this.paintDab=function(W,qa,Ma){nb.applyPressure(Ma);0<nb.scattering&&(W+=gc.nextGaussian()*nb.curScattering/4,qa+=gc.nextGaussian()*nb.curScattering/4);Ma=Jb[nb.brushMode];W=sc.getDab(W,qa,nb);qa=new da.default(0,0,W.width,
W.height);var ka=new da.default(0,0,W.width,W.height);ka.translate(W.x,W.y);eb.getBounds().clipSourceDest(qa,ka);if(!ka.isEmpty()){Cb.union(ka);var Ea=pb?Ta.mask:Ta.image;Ma.paintDab(Ea,ka,Ob&&!pb?tc:Ea,nb,qa,W,Vb);!pb&&Ma.noMergePhase&&Ta.getLockAlpha()&&Ea.copyAlphaFrom(Va,ka);Ma.wantsOutputAsInput&&(sb(),Ob&&!pb&&eb.fusionLayers());Ia(Ta,ka)}};this.getDefaultLayerName=function(W){var qa=W?"Group ":"Layer ";W=W?/^Group [0-9]+$/:/^Layer [0-9]+$/;for(var Ma=0,ka=Aa.getLinearizedLayerList(!1),Ea=0;Ea<
ka.length;Ea++){var Pa=ka[Ea];W.test(Pa.name)&&(Ma=Math.max(Ma,parseInt(Pa.name.substring(qa.length),10)))}return qa+(Ma+1)};this.addBackgroundLayer=function(){var W=new A.default(eb.width,eb.height,this.getDefaultLayerName(!1));W.image.clearAll(4294967295);this.addLayerObject(this.getLayersRoot(),W)};this.fusionLayers=function(){sb();Ra.buildTree();return tc=Ra.blendTree().image};this.upgradeMultiplyLayers=function(W){for(var qa=this.getLayersRoot().getLinearizedLayerList(!1,[]),Ma=-1,ka=0;ka<qa.length;ka++){var Ea=
qa[ka];if(!(Ea instanceof A.default)||Ea.mask||Ea.blendMode>w.default.LM_LAST_CHIBIPAINT)throw Error("Bad layer type during multiply upgrade");Ea.blendMode===w.default.LM_MULTIPLY&&(Ma=ka)}if(-1!==Ma){ka=new G.default(this.width,this.height);var Pa=Ea=!0,Ja=this.getBounds();ka.clearAll(Ja,16777215);for(var Xa=0;Xa<=Ma;Xa++){var $a=qa[Xa];Pa||(Ea=Ea&&ka.hasAlphaInRect(Ja));if($a.blendMode===w.default.LM_MULTIPLY)switch(W){case "bake":!Ea&&0<$a.getEffectiveAlpha()&&(100===$a.alpha?w.default.upgradeMultiplyOfOpaqueLayer(ka,
$a.image,100,Ja):w.default.upgradeMultiplyOfTransparentLayer(ka,$a.image,$a.alpha,Ja),$a.setBlendMode(w.default.LM_MULTIPLY2));break;default:Ea&&$a.setBlendMode(w.default.LM_MULTIPLY2)}0<$a.getEffectiveAlpha()&&(Pa=!1,w.default.fuseImageOntoImage(ka,Ea,$a.image,$a.alpha,$a.blendMode,Ja,null))}}};this.isCreateClippingMaskAllowed=function(){var W=Ta.parent.indexOf(Ta);W=Ta.parent.layers[W-1];return Ta instanceof A.default&&!Ta.clip&&W instanceof A.default};this.createClippingMask=function(){this.isCreateClippingMaskAllowed()&&
Ka(new Fc(Ta,!0))};this.isReleaseClippingMaskAllowed=function(){return Ta instanceof A.default&&Ta.clip};this.releaseClippingMask=function(){this.isReleaseClippingMaskAllowed()&&Ka(new Fc(Ta,!1))};this.setActiveLayer=function(W,qa){if(W){qa=W.mask&&qa;var Ma=qa!=pb;if(Ta!=W||Ma){var ka=Ta;Ta=W;pb=qa;Oa();this.emitEvent("changeActiveLayer",[ka,W,pb]);Ma&&this.emitEvent("editModeChanged",[pb?u.EDITING_MODE_MASK:u.EDITING_MODE_IMAGE]);Ub&&Ub.layer==ka&&(qa?Ub.setLayer(W):this.closeMaskView())}}};this.closeMaskView=
function(){Ub.close();Ub=null};this.toggleMaskView=function(){null!=Ub&&Ub.isOpen()?this.closeMaskView():Ub=Ta.mask?new z.default(Ta,sb):null;return Ub};this.selectTopmostVisibleLayer=function(){for(var W=Aa.getLinearizedLayerList(!1),qa=W.length-1;0<=qa;qa--)if(W[qa]instanceof A.default&&0<W[qa].getEffectiveAlpha()){this.setActiveLayer(W[qa],!1);return}for(qa=W.length-1;0<=qa;qa--)if(W[qa]instanceof A.default){this.setActiveLayer(W[qa],!1);return}this.setActiveLayer(W[W.length-1],!1)};this.getActiveLayer=
function(){return Ta};this.isEditingMask=function(){return pb};this.isActiveLayerDrawable=function(){return pb&&Ta.mask||!pb&&Ta instanceof A.default};this.getUndoMemoryUsed=function(){for(var W=0,qa=0,Ma=Rb;qa<Ma.length;qa++)W+=Ma[qa].getMemoryUsed(!0,null);qa=0;for(Ma=Fb;qa<Ma.length;qa++)W+=Ma[qa].getMemoryUsed(!1,null);return W};this.isUndoAllowed=function(){return 0<Fb.length};this.isRedoAllowed=function(){return 0<Rb.length};this.undo=function(){if(this.isUndoAllowed()){this.setHasUnsavedChanges(!0);
var W=Fb.pop();W.undo();Rb.push(W)}};this.redo=function(){if(this.isRedoAllowed()){this.setHasUnsavedChanges(!0);var W=Rb.pop();W.redo();Fb.push(W)}};this.performIdleTasks=function(){sa();sb();Ra.buildTree()};this.compactUndo=function(){0<Fb.length&&Fb[Fb.length-1].compact()};this.clearHistory=function(){Fb=[];Rb=[]};this.colorPicker=function(W,qa){return pb&&Ta.mask?ia.default.greyToRGB(Ta.mask.getPixel(~~W,~~qa)):tc.getPixel(~~W,~~qa)&16777215};this.setSelection=function(W){lc.set(W);lc.roundNearest();
lc.clipTo(this.getBounds())};this.emptySelection=function(){lc.makeEmpty()};this.floodFill=function(W,qa){var Ma=Ya();Ma&&(sa(),Cb=this.getBounds(),Ma.floodFill(~~W,~~qa,Vb|4278190080),Ka(new bb),Ia(Ta,this.getBounds()))};this.gradientFill=function(W,qa,Ma,ka,Ea){var Pa=this.getSelectionAutoSelect(),Ja=Ya();Ja&&(sa(),Cb=Pa.clone(),Ja.gradient(Pa,W,qa,Ma,ka,Ea,!1),this.getLayerLockAlpha()&&Ja instanceof G.default&&Ja.copyAlphaFrom(Va,Pa),Ka(new bb),Ia(Ta,Pa))};this.fill=function(W){var qa=this.getSelectionAutoSelect(),
Ma=Ya();Ma&&(sa(),Cb=qa.clone(),Ma.clearRect(qa,W),Ka(new bb),Ia(Ta,qa))};this.clear=function(){pb?this.fill(0):this.fill(16777215)};this.flip=function(W){var qa=this.getSelection(),Ma=qa.isEmpty(),ka=Ma&&Ta instanceof A.default&&Ta.mask&&Ta.maskLinked,Ea=(!pb||ka)&&Ta instanceof A.default;ka=(pb||ka)&&Ta.mask;W=W?"copyRegionHFlip":"copyRegionVFlip";if(Ea||ka)Ma&&(qa=this.getBounds()),Cb=qa.clone(),Ea&&(ub(),Ta.image[W](qa,Va)),ka&&(Na(),Ta.mask[W](qa,P)),Ka(new bb(Ea,ka)),ya(Ta,qa,Ea,ka)};this.hFlip=
function(){this.flip(!0)};this.vFlip=function(){this.flip(!1)};this.monochromaticNoise=function(){var W=this.getSelectionAutoSelect(),qa=Ya();qa&&(sa(),Cb=W.clone(),qa.fillWithNoise(W),Ka(new bb),Ia(Ta,W))};this.isColorNoiseAllowed=function(){return!this.isEditingMask()&&this.isActiveLayerDrawable()};this.colorNoise=function(){if(this.isColorNoiseAllowed()){var W=this.getSelectionAutoSelect();sa();Cb=W.clone();Ta.image.fillWithColorNoise(W);Ka(new bb(!0,!1));ya(Ta,W,!0,!1)}};this.invert=function(){var W=
this.getSelectionAutoSelect(),qa=Ya();qa&&(sa(),Cb=W.clone(),qa.invert(W),Ka(new bb),Ia(Ta,W))};this.boxBlur=function(W,qa,Ma){var ka=this.getSelectionAutoSelect(),Ea=Ya();if(Ea){sa();Cb=ka.clone();for(var Pa=0;Pa<Ma;Pa++)Ea.boxBlur(ka,W,qa);Ka(new bb);Ia(Ta,ka)}};this.rectangleSelection=function(W){W=W.clone();W.clipTo(this.getBounds());Ka(new D(this.getSelection(),W));this.setSelection(W)};this.move=function(W,qa,Ma){W|=0;qa|=0;if(0!=W||0!=qa){var ka=0<Fb.length?Fb[Fb.length-1]:null;!Ma&&ka instanceof
hb&&ka.layer==this.getActiveLayer()?(ka.amend(W,qa),Rb=[],this.setHasUnsavedChanges(!0)):(W=new hb(W,qa,Ma),Ka(W),W.redo())}};this.setTransformInterpolation=function(W){nc=W;yb instanceof jb&&yb.setInterpolation(W)};this.transformAffineAbort=function(){yb instanceof jb&&(yb.undo(),yb=null,ra(!0))};this.transformAffineBegin=function(){if(yb instanceof jb)return{transform:yb.getTransform(),rect:yb.getInitialTransformRect(),selection:yb.getInitialSelectionRect()};var W=new oa.default;var qa=new jb(W,
nc);if(qa.getInitialTransformRect().isEmpty())return null;yb=qa;ec=!0;return{transform:W,rect:qa.getInitialTransformRect(),selection:qa.getInitialSelectionRect()}};this.transformAffineFinish=function(){yb instanceof jb&&(Ka(yb),yb=null,ra(!0))};this.transformAffineAmend=function(W){yb instanceof jb&&yb.amend(W)};this.isCopySelectionAllowed=this.isCutSelectionAllowed=function(){return!this.getSelection().isEmpty()&&null!==Ya()};this.cutSelection=function(){this.isCutSelectionAllowed()&&Ka(new K(Ta,
pb,this.getSelection()))};this.copySelection=function(){if(this.isCopySelectionAllowed()){var W=eb.getSelection(),qa=Ya();kc=new S.default(qa.cloneRect(W),W.left,W.top)}};this.isCopySelectionMergedAllowed=function(){return!this.getSelection().isEmpty()};this.copySelectionMerged=function(){if(this.isCopySelectionMergedAllowed()){var W=eb.getSelection();kc=new S.default(this.fusionLayers().cloneRect(W),W.left,W.top)}};this.isPasteClipboardAllowed=function(){return!this.isClipboardEmpty()};this.pasteClipboard=
function(){this.isPasteClipboardAllowed()&&Ka(new Z(kc))};this.getClipboard=function(){return kc};this.setClipboard=function(W){kc=W};this.isClipboardEmpty=function(){return null==kc};this.setSampleAllLayers=function(W){Ob=W};this.getLayerLockAlpha=function(){return this.getActiveLayer().getLockAlpha()};this.setLayerLockAlpha=function(W){Ta.getLockAlpha()!=W&&Ka(new La(Ta,W))};this.setForegroundColor=function(W){Vb=W};this.setBrush=function(W){nb=W};this.setBrushTexture=function(W){sc.setTexture(W)};
this.beginStroke=function(W,qa,Ma){if(null===nb||!this.isActiveLayerDrawable())return!1;sa();Cb.makeEmpty();cc.clearAll(0);Mb.makeEmpty();hc=W;Zb=qa;mb=Ma;ec=!0;Jb[nb.brushMode].beginStroke();this.paintDab(W,qa,Ma);return!0};this.continueStroke=function(W,qa,Ma){if(null!=nb){var ka=Math.sqrt((hc-W)*(hc-W)+(Zb-qa)*(Zb-qa)),Ea=Math.max(nb.minSpacing,nb.curSize*nb.spacing);if(ka>Ea){var Pa=hc,Ja=Zb,Xa=mb;for(Ea=ka=(Ea-.001)/ka;1>=Ea;Ea+=ka)Pa=Ea*W+(1-Ea)*hc,Ja=Ea*qa+(1-Ea)*Zb,Xa=Ea*Ma+(1-Ea)*mb,this.paintDab(Pa,
Ja,Xa);hc=Pa;Zb=Ja;mb=Xa}}};this.endStroke=function(){null!=nb&&(sb(),Jb[nb.brushMode].endStroke(),Cb.clipTo(this.getBounds()),Cb.isEmpty()||(Ka(new bb),sa()),ra(!1))};this.hasAlpha=function(){return tc.hasAlpha()};this.getFlatPNG=function(W){this.fusionLayers();return tc.getAsPNG(W)};this.getFlatPNGBuffer=function(W){this.fusionLayers();return tc.getAsPNGBuffer(W)};this.isSimpleDrawing=function(){return 1==Aa.layers.length&&Aa.layers[0]instanceof A.default&&!Aa.layers[0].mask&&100==Aa.layers[0].getEffectiveAlpha()};
bb.prototype=Object.create(N.default.prototype);bb.prototype.constructor=bb;V.prototype=Object.create(N.default.prototype);V.prototype.constructor=V;ca.prototype=Object.create(N.default.prototype);ca.prototype.constructor=ca;fa.prototype=Object.create(N.default.prototype);fa.prototype.constructor=fa;ba.prototype=Object.create(N.default.prototype);ba.prototype.constructor=ba;va.prototype=Object.create(N.default.prototype);va.prototype.constructor=va;Fa.prototype=Object.create(N.default.prototype);
Fa.prototype.constructor=Fa;Ga.prototype=Object.create(N.default.prototype);Ga.prototype.constructor=Ga;na.prototype=Object.create(N.default.prototype);na.prototype.constructor=na;X.prototype=Object.create(N.default.prototype);X.prototype.constructor=X;var yc=aa("alpha",!0),Gc=aa("blendMode",!0),Bc=aa("visible",!0),Fc=aa("clip",!0),uc=aa("maskVisible",!0),ha=aa("name",!1),La=aa("lockAlpha",!1),Sa=aa("maskLinked",!1);D.prototype=Object.create(N.default.prototype);D.prototype.constructor=D;var ib=function(W){function qa(){E(this,
qa);var ka=Ma.call(this);ka.layer=Ta;ka.fromSelection=eb.getSelection();ka.fromMaskMode=pb;ka.movingWholeLayer=ka.fromSelection.isEmpty();ka.movingImage=!pb||ka.movingWholeLayer&&ka.layer.maskLinked;ka.movingMask=pb||ka.movingWholeLayer&&ka.layer.maskLinked;ka.hasFullUndo=!1;ka.erasesSourceRect=!1;ka.dstRect=new da.default(0,0,0,0);ka.movingLayers=[{layer:ka.layer,moveImage:ka.layer instanceof A.default&&ka.movingImage,moveMask:null!==ka.layer.mask&&ka.movingMask,imageRect:new Map,maskRect:new Map}];
ka.layer instanceof F.default&&ka.movingImage&&ka.movingWholeLayer&&(ka.movingLayers=ka.movingLayers.concat(ka.layer.getLinearizedLayerList(!1).map(function(Xa){return{layer:Xa,moveImage:Xa instanceof A.default,moveMask:null!==Xa.mask&&Xa.maskLinked,imageRect:new Map,maskRect:new Map}})));var Ea=new da.default(0,0,0,0);if(ka.movingWholeLayer){ka.srcRect=eb.getBounds();for(var Pa=0;Pa<ka.movingLayers.length&&!Ea.equals(ka.srcRect);Pa++){var Ja=ka.movingLayers[Pa];Ja.moveMask&&Ea.union(Ja.layer.mask.getValueBounds(ka.srcRect,
255));Ja.moveImage&&Ea.union(Ja.layer.image.getNonTransparentBounds(ka.srcRect))}}else for(ka.srcRect=ka.fromSelection.clone(),Pa=0;Pa<ka.movingLayers.length&&!Ea.equals(ka.srcRect);Pa++)Ja=ka.movingLayers[Pa],Ja.moveMask&&Ea.union(Ja.layer.mask.getValueBounds(ka.srcRect,0)),Ja.moveImage&&Ea.union(Ja.layer.image.getNonTransparentBounds(ka.srcRect));ka.srcRect=Ea;return ka}x(qa,W);var Ma=m(qa);f(qa,[{key:"undo",value:function(){var ka=this,Ea=[];this.dstRect.isEmpty()||Ea.push(this.dstRect);this.erasesSourceRect&&
(Ea.push(this.srcRect),Ea=da.default.union(Ea));this.movingLayers.forEach(function(Pa){ka.hasFullUndo?Ea.forEach(function(Ja){Pa.moveImage&&Pa.layer.image.copyBitmapRect(Pa.imageUndo,Ja.left,Ja.top,Ja);Pa.moveMask&&Pa.layer.mask.copyBitmapRect(Pa.maskUndo,Ja.left,Ja.top,Ja)}):(Pa.moveImage&&Pa.imageRect.forEach(function(Ja,Xa){Pa.layer.image.copyBitmapRect(Ja,Xa.left,Xa.top,Ja.getBounds())}),Pa.moveMask&&Pa.maskRect.forEach(function(Ja,Xa){Pa.layer.mask.copyBitmapRect(Ja,Xa.left,Xa.top,Ja.getBounds())}))});
ya(this.movingLayers.map(function(Pa){return Pa.layer}),Ea.reduce(function(Pa,Ja){return Pa.getUnion(Ja)},new da.default(0,0,0,0)),!0,!0);this.dstRect.makeEmpty();eb.setSelection(this.fromSelection);eb.setActiveLayer(this.layer,this.fromMaskMode);Qa()}},{key:"getMemoryUsed",value:function(ka,Ea){return this.movingLayers.map(function(Pa){return[Pa.imageUndo,Pa.maskUndo,Pa.imageRect,Pa.maskRect].map(function(Ja){return Ja?Ja.getMemorySize():0}).reduce(g,0)}).reduce(g,0)}},{key:"buildFullUndo",value:function(){this.hasFullUndo||
(this.movingLayers.forEach(function(ka){ka.moveImage&&(ka.imageUndo=ka.layer.image.clone());ka.moveMask&&(ka.maskUndo=ka.layer.mask.clone());ka.imageRect.clear();ka.maskRect.clear()}),this.hasFullUndo=!0)}},{key:"compact",value:function(){if(this.hasFullUndo){var ka=[];this.dstRect.isEmpty()||ka.push(this.dstRect);this.erasesSourceRect&&(ka.push(this.srcRect),ka=da.default.union(ka));this.movingLayers.forEach(function(Ea){Ea.imageRect.clear();Ea.maskRect.clear();ka.forEach(function(Pa){Ea.moveImage&&
Ea.imageRect.set(Pa,Ea.imageUndo.cloneRect(Pa));Ea.moveMask&&Ea.maskRect.set(Pa,Ea.maskUndo.cloneRect(Pa))});Ea.imageUndo=null;Ea.maskUndo=null});this.hasFullUndo=!1}}}]);return qa}(N.default),jb=function(W){function qa(ka,Ea){E(this,qa);var Pa=Ma.call(this);Pa.erasesSourceRect=!0;Pa.affineTransform=ka.clone();Pa.interpolation=Ea||"smooth";Pa.composeCanvas=null;Pa.composeCanvasContext=null;return Pa}x(qa,W);var Ma=m(qa);f(qa,[{key:"buildFullUndo",value:function(){var ka=this;this.hasFullUndo||(v(t(qa.prototype),
"buildFullUndo",this).call(this),this.movingLayers.forEach(function(Ea){if(Ea.moveImage){var Pa=(0,pa.createCanvas)(ka.srcRect.getWidth(),ka.srcRect.getHeight());Pa.getContext("2d").putImageData(Ea.layer.image.getImageData(),-ka.srcRect.left,-ka.srcRect.top,ka.srcRect.left,ka.srcRect.top,ka.srcRect.getWidth(),ka.srcRect.getHeight());Ea.imageSourceCanvas=Pa}Ea.moveMask&&(Pa=(0,pa.createCanvas)(ka.srcRect.getWidth(),ka.srcRect.getHeight()),Pa.getContext("2d").putImageData(Ea.layer.mask.getImageData(ka.srcRect.left,
ka.srcRect.top,ka.srcRect.getWidth(),ka.srcRect.getHeight()),0,0),Ea.maskSourceCanvas=Pa)}),this.composeCanvas=(0,pa.createCanvas)(eb.width,eb.height),this.composeCanvasContext=this.composeCanvas.getContext("2d"),(0,R.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.junk=this.composeCanvasContext.getImageData(0,0,1,1))}},{key:"redo",value:function(){var ka=this;this.buildFullUndo();var Ea=this.dstRect.clone(),Pa=this.srcRect.toPoints();this.affineTransform.transformPoints(Pa);
this.dstRect.set(da.default.createBoundingBox(Pa).roundContain().clipTo(eb.getBounds()));var Ja=da.default.subtract(this.dstRect,this.srcRect),Xa=da.default.subtract(Ea.isEmpty()?this.srcRect:this.srcRect.getIntersection(Ea),this.dstRect),$a=this.srcRect.getIntersection(this.dstRect),ob=da.default.subtract(Ea,[this.dstRect,this.srcRect]);Ea=this.srcRect.getUnion(this.dstRect).getUnion(Ea);this.movingLayers.forEach(function(qb){Xa.forEach(function(Ab){qb.moveImage&&qb.layer.image.clearRect(Ab,16777215);
qb.moveMask&&(ka.movingWholeLayer?qb.layer.mask.clearRect(Ab,255):qb.layer.mask.clearRect(Ab,0))});if(!ka.dstRect.isEmpty()){if(qb.moveImage){var bc=qb.imageUndo.getImageData();Ja.forEach(function(Ab){ka.composeCanvasContext.putImageData(bc,0,0,Ab.left,Ab.top,Ab.getWidth(),Ab.getHeight())});ka.composeCanvasContext.clearRect($a.left,$a.top,$a.getWidth(),$a.getHeight());ka.composeCanvasContext.save();ka.composeCanvasContext.setTransform(ka.affineTransform.m[0],ka.affineTransform.m[1],ka.affineTransform.m[2],
ka.affineTransform.m[3],ka.affineTransform.m[4],ka.affineTransform.m[5]);ka.composeCanvasContext.drawImage(qb.imageSourceCanvas,ka.srcRect.left,ka.srcRect.top);ka.composeCanvasContext.restore();qb.layer.image.copyBitmapRect(new G.default(ka.composeCanvasContext.getImageData(ka.dstRect.left,ka.dstRect.top,ka.dstRect.getWidth(),ka.dstRect.getHeight())),ka.dstRect.left,ka.dstRect.top,new da.default(0,0,ka.dstRect.getWidth(),ka.dstRect.getHeight()))}qb.moveMask&&(Ja.forEach(function(Ab){ka.composeCanvasContext.putImageData(qb.layer.mask.getImageData(Ab.left,
Ab.top,Ab.getWidth(),Ab.getHeight()),Ab.left,Ab.top)}),ka.composeCanvasContext.fillStyle=ka.movingWholeLayer?"#FFF":"#000",ka.composeCanvasContext.fillRect($a.left,$a.top,$a.getWidth(),$a.getHeight()),ka.composeCanvasContext.save(),ka.composeCanvasContext.setTransform(ka.affineTransform.m[0],ka.affineTransform.m[1],ka.affineTransform.m[2],ka.affineTransform.m[3],ka.affineTransform.m[4],ka.affineTransform.m[5]),ka.composeCanvasContext.drawImage(qb.maskSourceCanvas,ka.srcRect.left,ka.srcRect.top),ka.composeCanvasContext.restore(),
qb.layer.mask.pasteImageData(ka.composeCanvasContext.getImageData(ka.dstRect.left,ka.dstRect.top,ka.dstRect.getWidth(),ka.dstRect.getHeight()),ka.dstRect.left,ka.dstRect.top))}ob.forEach(function(Ab){qb.moveImage&&qb.layer.image.copyBitmapRect(qb.imageUndo,Ab.left,Ab.top,Ab);qb.moveMask&&qb.layer.mask.copyBitmapRect(qb.maskUndo,Ab.left,Ab.top,Ab)})});ya(this.movingLayers.map(function(qb){return qb.layer}),Ea,!0,!0);this.fromSelection.isEmpty()||(Ea=this.fromSelection.toPoints(),this.affineTransform.transformPoints(Ea),
Ea=da.default.createBoundingBox(Ea),Ea.roundNearest(),eb.setSelection(Ea),Qa());eb.setActiveLayer(this.layer,this.fromMaskMode)}},{key:"amend",value:function(ka){this.hasFullUndo||this.undo();this.affineTransform=ka.clone();this.redo()}},{key:"setInterpolation",value:function(ka){ka!=this.interpolation&&(this.interpolation=ka,this.composeCanvasContext&&(0,R.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.undo(),this.redo())}},{key:"compact",value:function(){v(t(qa.prototype),
"compact",this).call(this);this.composeCanvasContext=this.composeCanvas=null;this.movingLayers.forEach(function(ka){return ka.imageSourceCanvas=null})}},{key:"getMemoryUsed",value:function(ka,Ea){ka=v(t(qa.prototype),"getMemoryUsed",this).call(this,ka,Ea);ka+=p(this.composeCanvas);return ka+=this.movingLayers.map(function(Pa){return p(Pa.imageSourceCanvas)}).reduce(g,0)}},{key:"getTransform",value:function(){return this.affineTransform.clone()}},{key:"getInitialTransformRect",value:function(){return this.srcRect.clone()}},
{key:"getInitialSelectionRect",value:function(){return this.fromSelection.clone()}}]);return qa}(ib),hb=function(W){function qa(ka,Ea,Pa){E(this,qa);var Ja=Ma.call(this);Ja.offsetX=ka;Ja.offsetY=Ea;Ja.erasesSourceRect=!Pa;return Ja}x(qa,W);var Ma=m(qa);f(qa,[{key:"redo",value:function(){var ka=this,Ea=this.dstRect.clone(),Pa=Ea.clone(),Ja=null;this.buildFullUndo();this.dstRect.set(this.srcRect);this.dstRect.translate(this.offsetX,this.offsetY);var Xa=this.dstRect.clone();this.dstRect.clipTo(eb.getBounds());
if(this.erasesSourceRect){Ja=Ea.isEmpty()?this.srcRect:this.srcRect.getIntersection(Ea);Pa.union(Ja);var $a=Ea.subtract(this.srcRect)}else $a=[Ea];this.movingLayers.forEach(function(ob){Ja&&(ob.moveImage&&ob.layer.image.clearRect(Ja,16777215),ob.moveMask&&ob.layer.mask.clearRect(Ja,ka.movingWholeLayer?255:0));$a.forEach(function(qb){ob.moveImage&&ob.layer.image.copyBitmapRect(ob.imageUndo,qb.left,qb.top,qb);ob.moveMask&&ob.layer.mask.copyBitmapRect(ob.maskUndo,qb.left,qb.top,qb)});ob.moveImage&&w.default.normalFuseImageOntoImageAtPosition(ob.layer.image,
ob.imageUndo,Xa.left,Xa.top,ka.srcRect);ob.moveMask&&ob.layer.mask.copyBitmapRect(ob.maskUndo,Xa.left,Xa.top,ka.srcRect)});Pa.union(this.dstRect);ya(this.movingLayers.map(function(ob){return ob.layer}),Pa,!0,!0);this.fromSelection.isEmpty()||(Ea=this.fromSelection.clone(),Ea.translate(this.offsetX,this.offsetY),eb.setSelection(Ea),Qa())}},{key:"amend",value:function(ka,Ea){this.hasFullUndo||this.undo();this.offsetX+=ka;this.offsetY+=Ea;this.redo()}}]);return qa}(ib);K.prototype=Object.create(N.default.prototype);
K.prototype.constructor=K;Z.prototype=Object.create(N.default.prototype);Z.prototype.constructor=Z;Jb=[za.CPBrushTool,za.CPBrushToolEraser,za.CPBrushToolDodge,za.CPBrushToolBurn,za.CPBrushToolWatercolor,za.CPBrushToolBlur,za.CPBrushToolSmudge,za.CPBrushToolOil].map(function(W){return new W(cc,Mb)});this.width=ua;this.height=Ha}Object.defineProperty(C,"__esModule",{value:!0});C.default=u;var A=l(k("./CPImageLayer.js")),F=l(k("./CPLayerGroup.js")),w=l(k("./CPBlend.js"));k("./CPBlendAdditional.js");
var I=l(k("./CPGreyBmp.js")),O=l(k("./CPBlendTree.js")),z=l(k("./CPMaskView.js")),G=l(k("./CPColorBmp.js")),H=l(k("./CPBrushManager.js")),J=l(k("./CPBrushInfo.js")),N=l(k("./CPUndo.js")),S=l(k("./CPClip.js")),ia=l(k("../util/CPColor.js")),da=l(k("../util/CPRect.js")),ta=l(k("../util/CPRandom.js")),oa=l(k("../util/CPTransform.js")),R=k("../util/CPPolyfill.js"),pa=k("../util/Canvas.js"),ja=l(k("wolfy87-eventemitter")),za=k("./CPBrushTool.js");u.prototype=Object.create(ja.default.prototype);u.prototype.constructor=
u;u.prototype.getBounds=function(){return new da.default(0,0,this.width,this.height)};u.prototype.isPointWithin=function(ua,Ha){return 0<=ua&&0<=Ha&&ua<this.width&&Ha<this.height};u.EDITING_MODE_IMAGE=0;u.EDITING_MODE_MASK=1;L.exports=C.default},{"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPRandom.js":62,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/Canvas.js":2,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPBlendTree.js":7,"./CPBrushInfo.js":8,"./CPBrushManager.js":9,
"./CPBrushTool.js":10,"./CPClip.js":12,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPImageLayer.js":15,"./CPLayerGroup.js":17,"./CPMaskView.js":19,"./CPUndo.js":22,"wolfy87-eventemitter":316}],4:[function(k,L,C){function y(v,E){this.width=v|0;this.height=E|0}Object.defineProperty(C,"__esModule",{value:!0});C.default=y;var l=function(v){return v&&v.__esModule?v:{default:v}}(k("../util/CPRect.js"));y.prototype.getBounds=function(){return new l.default(0,0,this.width,this.height)};y.prototype.isInside=
function(v,E){return 0<=v&&0<=E&&v<this.width&&E<this.height};L.exports=C.default},{"../util/CPRect.js":63}],5:[function(k,L,C){function y(c){return c&&c.__esModule?c:{default:c}}function l(){}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;y(k("./CPColorBmp.js"));y(k("./CPGreyBmp.js"));y(k("./CPLayer.js"));y(k("../util/CPRect.js"));var v=Array(256),E=Array(256);l.multiplyOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a];c.data[a]=h-((f.data[a]^255)*h*e/65025|0);h=c.data[a+1];c.data[a+1]=h-((f.data[a+1]^255)*h*e/65025|0);h=c.data[a+2];c.data[a+2]=h-((f.data[a+2]^255)*h*e/65025|0)}}};l.multiplyOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=
c.data[a];c.data[a]=n-((f.data[a]^255)*n*h/65025|0);n=c.data[a+1];c.data[a+1]=n-((f.data[a+1]^255)*n*h/65025|0);n=c.data[a+2];c.data[a+2]=n-((f.data[a+2]^255)*n*h/65025|0)}}};l.multiplyOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];
h=c.data[a];c.data[a]=(e*p+h*u+(e*h*g/255|0))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(e*p+h*u+(e*h*g/255|0))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(e*p+h*u+(e*h*g/255|0))/n|0;c.data[a+3]=n}}};l.multiplyOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,
u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(h*u+n*A+(h*n*p/255|0))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(h*u+n*A+(h*n*p/255|0))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(h*u+n*A+(h*n*p/255|0))/g|0;c.data[a+3]=g}}};l.multiplyOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<
r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b];c.data[b]=p-((f.data[b]^255)*p*g/65025|0);p=c.data[b+1];c.data[b+1]=p-((f.data[b+1]^255)*p*g/65025|0);p=c.data[b+2];c.data[b+2]=p-((f.data[b+2]^255)*p*g/65025|0)}}};l.multiplyOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=
4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e];c.data[e]=u-((f.data[e]^255)*u*p/65025|0);u=c.data[e+1];c.data[e+1]=u-((f.data[e+1]^255)*u*p/65025|0);u=c.data[e+2];c.data[e+2]=u-((f.data[e+2]^255)*u*p/65025|0)}}};l.multiplyOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=
f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(g*F+p*w+(g*p*A/255|0))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(g*F+p*w+(g*p*A/255|0))/u|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(g*F+p*w+(g*p*A/255|0))/u|0;c.data[b+3]=u}}};l.multiplyOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|
0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(p*w+u*I+(p*u*F/255|0))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(p*w+u*I+(p*u*F/255|0))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(p*w+u*I+(p*u*F/255|0))/A|0;c.data[e+3]=A}}};l.multiply2OntoOpaqueFusionWithOpaqueLayer=
function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a];c.data[a]=h-Math.ceil((f.data[a]^255)*h*e/65025);h=c.data[a+1];c.data[a+1]=h-Math.ceil((f.data[a+1]^255)*h*e/65025);h=c.data[a+2];c.data[a+2]=h-Math.ceil((f.data[a+2]^255)*h*e/65025)}}};l.multiply2OntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-
r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a];c.data[a]=n-Math.ceil((f.data[a]^255)*n*h/65025);n=c.data[a+1];c.data[a+1]=n-Math.ceil((f.data[a+1]^255)*n*h/65025);n=c.data[a+2];c.data[a+2]=n-Math.ceil((f.data[a+2]^255)*n*h/65025)}}};l.multiply2OntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,
a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(e*p+h*u+(e*h*g/255|0))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(e*p+h*u+(e*h*g/255|0))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(e*p+h*u+(e*h*g/255|0))/n|0;c.data[a+3]=n}}};l.multiply2OntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(h*u+n*A+(h*n*p/255|0))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(h*u+n*A+(h*n*p/255|0))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(h*u+n*A+(h*n*p/255|0))/g|0;c.data[a+3]=g}}};l.multiply2OntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|
0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b];c.data[b]=p-Math.ceil((f.data[b]^255)*p*g/65025);p=c.data[b+1];c.data[b+1]=p-Math.ceil((f.data[b+1]^255)*p*g/65025);p=c.data[b+2];c.data[b+2]=p-Math.ceil((f.data[b+2]^255)*p*g/65025)}}};l.multiply2OntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=
a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e];c.data[e]=u-Math.ceil((f.data[e]^255)*u*p/65025);u=c.data[e+1];c.data[e+1]=u-Math.ceil((f.data[e+1]^255)*u*p/65025);u=c.data[e+2];c.data[e+2]=u-Math.ceil((f.data[e+2]^255)*u*p/65025)}}};l.multiply2OntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|
0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(g*F+p*w+(g*p*A/255|0))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(g*F+p*w+(g*p*A/255|0))/u|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(g*F+p*w+(g*p*A/255|
0))/u|0;c.data[b+3]=u}}};l.multiply2OntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(p*w+u*I+(p*u*F/255|0))/A|0;p=
f.data[e+1];u=c.data[e+1];c.data[e+1]=(p*w+u*I+(p*u*F/255|0))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(p*w+u*I+(p*u*F/255|0))/A|0;c.data[e+3]=A}}};l.normalOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e)if(255==e)c.data[a]=f.data[a],c.data[a+1]=f.data[a+1],c.data[a+2]=f.data[a+2];else{var h=255-e;var n=f.data[a];c.data[a]=(n*e+c.data[a]*
h)/255|0;n=f.data[a+1];c.data[a+1]=(n*e+c.data[a+1]*h)/255|0;n=f.data[a+2];c.data[a+2]=(n*e+c.data[a+2]*h)/255|0}}};l.normalOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=255-h;var g=f.data[a];c.data[a]=(g*h+c.data[a]*n)/255|0;g=f.data[a+1];c.data[a+1]=(g*h+c.data[a+1]*n)/255|0;g=f.data[a+2];c.data[a+2]=(g*h+c.data[a+
2]*n)/255|0}}};l.normalOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];h=e+h-(e*h/255|0)|0;e=255*e/h|0;var n=255-e;c.data[a]=(f.data[a]*e+c.data[a]*n)/255|0;c.data[a+1]=(f.data[a+1]*e+c.data[a+1]*n)/255|0;c.data[a+2]=(f.data[a+2]*e+c.data[a+2]*n)/255|0;c.data[a+3]=h}}};l.normalOntoTransparentFusionWithTransparentLayer=
function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];n=h+n-(h*n/255|0)|0;h=255*h/n|0;var g=255-h;c.data[a]=(f.data[a]*h+c.data[a]*g)/255|0;c.data[a+1]=(f.data[a+1]*h+c.data[a+1]*g)/255|0;c.data[a+2]=(f.data[a+2]*h+c.data[a+2]*g)/255|0;c.data[a+3]=n}}};l.normalOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|
0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g)if(255==g)c.data[b]=f.data[b],c.data[b+1]=f.data[b+1],c.data[b+2]=f.data[b+2];else{var p=255-g;var u=f.data[b];c.data[b]=(u*g+c.data[b]*p)/255|0;u=f.data[b+1];c.data[b+1]=(u*g+c.data[b+1]*p)/255|0;u=f.data[b+2];c.data[b+2]=(u*g+c.data[b+2]*p)/255|0}}};l.normalOntoOpaqueFusionWithTransparentLayerMasked=
function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=255-p;var A=f.data[e];c.data[e]=(A*p+c.data[e]*u)/255|0;A=f.data[e+1];c.data[e+1]=(A*p+c.data[e+1]*u)/255|0;A=f.data[e+2];c.data[e+2]=(A*p+c.data[e+2]*u)/255|0}}};l.normalOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=
a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];p=g+p-(g*p/255|0)|0;g=255*g/p|0;var u=255-g;c.data[b]=(f.data[b]*g+c.data[b]*u)/255|0;c.data[b+1]=(f.data[b+1]*g+c.data[b+1]*u)/255|0;c.data[b+2]=(f.data[b+2]*g+c.data[b+2]*u)/255|0;c.data[b+3]=p}}};l.normalOntoTransparentFusionWithTransparentLayerMasked=
function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];u=p+u-(p*u/255|0)|0;p=255*p/u|0;var A=255-p;c.data[e]=(f.data[e]*p+c.data[e]*A)/255|0;c.data[e+1]=(f.data[e+1]*p+c.data[e+1]*A)/255|0;c.data[e+2]=(f.data[e+2]*p+c.data[e+2]*A)/255|0;c.data[e+3]=u}}};l.addOntoOpaqueFusionWithOpaqueLayer=
function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];e&&(c.data[a]=c.data[a]+e*f.data[a]/255|0,c.data[a+1]=c.data[a+1]+e*f.data[a+1]/255|0,c.data[a+2]=c.data[a+2]+e*f.data[a+2]/255|0)}};l.addOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<
r;e++,a+=4){var h=f.data[a+3]*x/100|0;h&&(c.data[a]=c.data[a]+h*f.data[a]/255|0,c.data[a+1]=c.data[a+1]+h*f.data[a+1]/255|0,c.data[a+2]=c.data[a+2]+h*f.data[a+2]/255|0)}};l.addOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0;c.data[a]=(h*c.data[a]+e*f.data[a])/n|0;c.data[a+1]=(h*c.data[a+
1]+e*f.data[a+1])/n|0;c.data[a+2]=(h*c.data[a+2]+e*f.data[a+2])/n|0;c.data[a+3]=n}}};l.addOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0;c.data[a]=(n*c.data[a]+h*f.data[a])/g|0;c.data[a+1]=(n*c.data[a+1]+h*f.data[a+1])/g|0;c.data[a+2]=(n*c.data[a+2]+h*f.data[a+2])/g|0;c.data[a+
3]=g}}};l.addOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;g&&(c.data[b]=c.data[b]+g*f.data[b]/255|0,c.data[b+1]=c.data[b+1]+g*f.data[b+1]/255|0,c.data[b+2]=c.data[b+2]+g*f.data[b+2]/255|0)}};l.addOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,
m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;p&&(c.data[e]=c.data[e]+p*f.data[e]/255|0,c.data[e+1]=c.data[e+1]+p*f.data[e+1]/255|0,c.data[e+2]=c.data[e+2]+p*f.data[e+2]/255|0)}};l.addOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,
a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0;c.data[b]=(p*c.data[b]+g*f.data[b])/u|0;c.data[b+1]=(p*c.data[b+1]+g*f.data[b+1])/u|0;c.data[b+2]=(p*c.data[b+2]+g*f.data[b+2])/u|0;c.data[b+3]=u}}};l.addOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,
a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0;c.data[e]=(u*c.data[e]+p*f.data[e])/A|0;c.data[e+1]=(u*c.data[e+1]+p*f.data[e+1])/A|0;c.data[e+2]=(u*c.data[e+2]+p*f.data[e+2])/A|0;c.data[e+3]=A}}};l.subtractOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|
0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];e&&(c.data[a]=c.data[a]+e*f.data[a]/255-e|0,c.data[a+1]=c.data[a+1]+e*f.data[a+1]/255-e|0,c.data[a+2]=c.data[a+2]+e*f.data[a+2]/255-e|0)}};l.subtractOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;h&&(c.data[a]=c.data[a]+h*f.data[a]/255-h|0,c.data[a+1]=c.data[a+
1]+h*f.data[a+1]/255-h|0,c.data[a+2]=c.data[a+2]+h*f.data[a+2]/255-h|0)}};l.subtractOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h;c.data[a]=(h*c.data[a]+e*f.data[a]-g)/n|0;c.data[a+1]=(h*c.data[a+1]+e*f.data[a+1]-g)/n|0;c.data[a+2]=(h*c.data[a+2]+e*f.data[a+2]-g)/n|0;c.data[a+3]=
n}}};l.subtractOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n;c.data[a]=(n*c.data[a]+h*f.data[a]-p)/g|0;c.data[a+1]=(n*c.data[a+1]+h*f.data[a+1]-p)/g|0;c.data[a+2]=(n*c.data[a+2]+h*f.data[a+2]-p)/g|0;c.data[a+3]=g}}};l.subtractOntoOpaqueFusionWithOpaqueLayerMasked=function(c,
f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;g&&(c.data[b]=c.data[b]+g*f.data[b]/255-g|0,c.data[b+1]=c.data[b+1]+g*f.data[b+1]/255-g|0,c.data[b+2]=c.data[b+2]+g*f.data[b+2]/255-g|0)}};l.subtractOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-
t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;p&&(c.data[e]=c.data[e]+p*f.data[e]/255-p|0,c.data[e+1]=c.data[e+1]+p*f.data[e+1]/255-p|0,c.data[e+2]=c.data[e+2]+p*f.data[e+2]/255-p|0)}};l.subtractOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;
a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p;c.data[b]=(p*c.data[b]+g*f.data[b]-A)/u|0;c.data[b+1]=(p*c.data[b+1]+g*f.data[b+1]-A)/u|0;c.data[b+2]=(p*c.data[b+2]+g*f.data[b+2]-A)/u|0;c.data[b+3]=u}}};l.subtractOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|
0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u;c.data[e]=(u*c.data[e]+p*f.data[e]-F)/A|0;c.data[e+1]=(u*c.data[e+1]+p*f.data[e+1]-F)/A|0;c.data[e+2]=(u*c.data[e+2]+p*f.data[e+2]-F)/A|0;c.data[e+3]=A}}};l.screenOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|
0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=c.data[a];c.data[a]=255^((n^255)*h+(f.data[a]^255)*(n^255)*e/255)/255;n=c.data[a+1];c.data[a+1]=255^((n^255)*h+(f.data[a+1]^255)*(n^255)*e/255)/255;n=c.data[a+2];c.data[a+2]=255^((n^255)*h+(f.data[a+2]^255)*(n^255)*e/255)/255}}};l.screenOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=
t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=c.data[a];c.data[a]=255^((g^255)*n+(f.data[a]^255)*(g^255)*h/255)/255;g=c.data[a+1];c.data[a+1]=255^((g^255)*n+(f.data[a+1]^255)*(g^255)*h/255)/255;g=c.data[a+2];c.data[a+2]=255^((g^255)*n+(f.data[a+2]^255)*(g^255)*h/255)/255}}};l.screenOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,
a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=255^((e^255)*p+(h^255)*u+(e^255)*(h^255)*g/255)/n;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=255^((e^255)*p+(h^255)*u+(e^255)*(h^255)*g/255)/n;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=255^((e^255)*p+(h^255)*u+(e^255)*(h^255)*g/255)/n;c.data[a+3]=n}}};l.screenOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|
0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=255^((h^255)*u+(n^255)*A+(h^255)*(n^255)*p/255)/g;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=255^((h^255)*u+(n^255)*A+(h^255)*(n^255)*p/255)/g;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=255^((h^255)*u+(n^255)*A+(h^255)*(n^255)*p/255)/g;c.data[a+3]=
g}}};l.screenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=c.data[b];c.data[b]=255^((u^255)*p+(f.data[b]^255)*(u^255)*g/255)/255;u=c.data[b+1];c.data[b+1]=255^((u^255)*p+(f.data[b+1]^255)*(u^255)*g/255)/255;u=c.data[b+2];c.data[b+2]=
255^((u^255)*p+(f.data[b+2]^255)*(u^255)*g/255)/255}}};l.screenOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=c.data[e];c.data[e]=255^((A^255)*u+(f.data[e]^255)*(A^255)*p/255)/255;A=c.data[e+1];c.data[e+1]=255^((A^255)*u+(f.data[e+
1]^255)*(A^255)*p/255)/255;A=c.data[e+2];c.data[e+2]=255^((A^255)*u+(f.data[e+2]^255)*(A^255)*p/255)/255}}};l.screenOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/
255|0;g=f.data[b];p=c.data[b];c.data[b]=255^((g^255)*F+(p^255)*w+(g^255)*(p^255)*A/255)/u;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=255^((g^255)*F+(p^255)*w+(g^255)*(p^255)*A/255)/u;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=255^((g^255)*F+(p^255)*w+(g^255)*(p^255)*A/255)/u;c.data[b+3]=u}}};l.screenOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;
for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=255^((p^255)*w+(u^255)*I+(p^255)*(u^255)*F/255)/A;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=255^((p^255)*w+(u^255)*I+(p^255)*(u^255)*F/255)/A;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=255^((p^255)*w+(u^255)*I+(p^255)*(u^255)*F/255)/A;c.data[e+3]=A}}};l.lightenOntoOpaqueFusionWithOpaqueLayer=
function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=f.data[a];var g=c.data[a];c.data[a]=g>=n?g:(g*h+n*e)/255|0;n=f.data[a+1];g=c.data[a+1];c.data[a+1]=g>=n?g:(g*h+n*e)/255|0;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=g>=n?g:(g*h+n*e)/255|0}}};l.lightenOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-
r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=p>=g?p:(p*n+g*h)/255|0;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=p>=g?p:(p*n+g*h)/255|0;g=f.data[a+2];p=c.data[a+2];c.data[a+2]=p>=g?p:(p*n+g*h)/255|0}}};l.lightenOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,
a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=h*(e^255)/n|0,p=g^255,u=e*(h^255)/n|0,A=u^255;e=f.data[a];h=c.data[a];c.data[a]=(h>=e?e*u+h*A:h*g+e*p)/255|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(h>=e?e*u+h*A:h*g+e*p)/255|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(h>=e?e*u+h*A:h*g+e*p)/255|0;c.data[a+3]=n}}};l.lightenOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=n*(h^255)/g|0,u=p^255,A=h*(n^255)/g|0,F=A^255;h=f.data[a];n=c.data[a];c.data[a]=(n>=h?h*A+n*F:n*p+h*u)/255|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(n>=h?h*A+n*F:n*p+h*u)/255|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(n>=h?h*A+n*F:n*p+h*u)/255|0;c.data[a+3]=g}}};l.lightenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|
0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];var A=c.data[b];c.data[b]=A>=u?A:(A*p+u*g)/255|0;u=f.data[b+1];A=c.data[b+1];c.data[b+1]=A>=u?A:(A*p+u*g)/255|0;u=f.data[b+2];A=c.data[b+2];c.data[b+2]=A>=u?A:(A*p+u*g)/255|0}}};l.lightenOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,
t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=f.data[e];var F=c.data[e];c.data[e]=F>=A?F:(F*u+A*p)/255|0;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=F>=A?F:(F*u+A*p)/255|0;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=F>=A?F:(F*u+A*p)/255|0}}};l.lightenOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=
a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=p*(g^255)/u|0,F=A^255,w=g*(p^255)/u|0,I=w^255;g=f.data[b];p=c.data[b];c.data[b]=(p>=g?g*w+p*I:p*A+g*F)/255|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(p>=g?g*w+p*I:p*A+g*F)/255|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(p>=
g?g*w+p*I:p*A+g*F)/255|0;c.data[b+3]=u}}};l.lightenOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=u*(p^255)/A|0,w=F^255,I=p*(u^255)/A|0,O=I^255;p=f.data[e];u=c.data[e];c.data[e]=(u>=p?p*I+u*O:u*
F+p*w)/255|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(u>=p?p*I+u*O:u*F+p*w)/255|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(u>=p?p*I+u*O:u*F+p*w)/255|0;c.data[e+3]=A}}};l.darkenOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=f.data[a];var g=c.data[a];c.data[a]=g>=n?(g*h+n*e)/255|0:g;n=f.data[a+1];g=c.data[a+1];c.data[a+
1]=g>=n?(g*h+n*e)/255|0:g;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=g>=n?(g*h+n*e)/255|0:g}}};l.darkenOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=p>=g?(p*n+g*h)/255|0:p;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=p>=g?(p*n+g*h)/255|0:p;g=f.data[a+2];p=c.data[a+2];c.data[a+
2]=p>=g?(p*n+g*h)/255|0:p}}};l.darkenOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*(h^255)/n|0,p=g^255,u=h*(e^255)/n|0,A=u^255;e=f.data[a];h=c.data[a];c.data[a]=(h>=e?h*u+e*A:e*g+h*p)/255|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(h>=e?h*u+e*A:e*g+h*p)/255|0;e=f.data[a+2];h=c.data[a+
2];c.data[a+2]=(h>=e?h*u+e*A:e*g+h*p)/255|0;c.data[a+3]=n}}};l.darkenOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*(n^255)/g|0,u=p^255,A=n*(h^255)/g|0,F=A^255;h=f.data[a];n=c.data[a];c.data[a]=(n>=h?n*A+h*F:h*p+n*u)/255|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(n>=h?
n*A+h*F:h*p+n*u)/255|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(n>=h?n*A+h*F:h*p+n*u)/255|0;c.data[a+3]=g}}};l.darkenOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];var A=c.data[b];c.data[b]=A>=u?(A*p+u*g)/255|0:A;u=f.data[b+
1];A=c.data[b+1];c.data[b+1]=A>=u?(A*p+u*g)/255|0:A;u=f.data[b+2];A=c.data[b+2];c.data[b+2]=A>=u?(A*p+u*g)/255|0:A}}};l.darkenOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=f.data[e];var F=c.data[e];c.data[e]=F>=A?(F*u+A*p)/
255|0:F;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=F>=A?(F*u+A*p)/255|0:F;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=F>=A?(F*u+A*p)/255|0:F}}};l.darkenOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*(p^255)/
u|0,F=A^255,w=p*(g^255)/u|0,I=w^255;g=f.data[b];p=c.data[b];c.data[b]=(p>=g?p*w+g*I:g*A+p*F)/255|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(p>=g?p*w+g*I:g*A+p*F)/255|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(p>=g?p*w+g*I:g*A+p*F)/255|0;c.data[b+3]=u}}};l.darkenOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=
0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*(u^255)/A|0,w=F^255,I=u*(p^255)/A|0,O=I^255;p=f.data[e];u=c.data[e];c.data[e]=(u>=p?u*I+p*O:p*F+u*w)/255|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(u>=p?u*I+p*O:p*F+u*w)/255|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(u>=p?u*I+p*O:p*F+u*w)/255|0;c.data[e+3]=A}}};l.dodgeOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=f.data[a];var g=c.data[a];c.data[a]=(g*h+e*(255==n?255:Math.min(255,255*g/(n^255)|0)))/255|0;n=f.data[a+1];g=c.data[a+1];c.data[a+1]=(g*h+e*(255==n?255:Math.min(255,255*g/(n^255)|0)))/255|0;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=(g*h+e*(255==n?255:Math.min(255,255*g/(n^255)|0)))/255|0}}};l.dodgeOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-
r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=(p*n+h*(255==g?255:Math.min(255,255*p/(g^255)|0)))/255|0;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=(p*n+h*(255==g?255:Math.min(255,255*p/(g^255)|0)))/255|0;g=f.data[a+2];p=c.data[a+2];c.data[a+2]=(p*n+h*(255==g?255:Math.min(255,255*p/(g^255)|0)))/255|0}}};l.dodgeOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|
0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(e*p+h*u+g*(255==e?255:Math.min(255,255*h/(e^255)|0)))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(e*p+h*u+g*(255==e?255:Math.min(255,255*h/(e^255)|0)))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(e*p+h*u+g*(255==e?255:Math.min(255,
255*h/(e^255)|0)))/n|0;c.data[a+3]=n}}};l.dodgeOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(h*u+n*A+p*(255==h?255:Math.min(255,255*n/(h^255)|0)))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+
1]=(h*u+n*A+p*(255==h?255:Math.min(255,255*n/(h^255)|0)))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(h*u+n*A+p*(255==h?255:Math.min(255,255*n/(h^255)|0)))/g|0;c.data[a+3]=g}}};l.dodgeOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];
var A=c.data[b];c.data[b]=(A*p+g*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0;u=f.data[b+1];A=c.data[b+1];c.data[b+1]=(A*p+g*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0;u=f.data[b+2];A=c.data[b+2];c.data[b+2]=(A*p+g*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0}}};l.dodgeOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<
r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=f.data[e];var F=c.data[e];c.data[e]=(F*u+p*(255==A?255:Math.min(255,255*F/(A^255)|0)))/255|0;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=(F*u+p*(255==A?255:Math.min(255,255*F/(A^255)|0)))/255|0;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=(F*u+p*(255==A?255:Math.min(255,255*F/(A^255)|0)))/255|0}}};l.dodgeOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|
0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(g*F+p*w+A*(255==g?255:Math.min(255,255*p/(g^255)|0)))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(g*F+p*w+A*(255==g?255:Math.min(255,255*p/(g^255)|0)))/u|0;g=f.data[b+2];p=c.data[b+
2];c.data[b+2]=(g*F+p*w+A*(255==g?255:Math.min(255,255*p/(g^255)|0)))/u|0;c.data[b+3]=u}}};l.dodgeOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=
f.data[e];u=c.data[e];c.data[e]=(p*w+u*I+F*(255==p?255:Math.min(255,255*u/(p^255)|0)))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(p*w+u*I+F*(255==p?255:Math.min(255,255*u/(p^255)|0)))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(p*w+u*I+F*(255==p?255:Math.min(255,255*u/(p^255)|0)))/A|0;c.data[e+3]=A}}};l.burnOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=
4){var e=f.data[a+3];if(e){var h=e^255;var n=f.data[a];var g=c.data[a];c.data[a]=(g*h+e*(0==n?0:Math.min(255,255*(g^255)/n)^255))/255|0;n=f.data[a+1];g=c.data[a+1];c.data[a+1]=(g*h+e*(0==n?0:Math.min(255,255*(g^255)/n)^255))/255|0;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=(g*h+e*(0==n?0:Math.min(255,255*(g^255)/n)^255))/255|0}}};l.burnOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,
a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=(p*n+h*(0==g?0:Math.min(255,255*(p^255)/g)^255))/255|0;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=(p*n+h*(0==g?0:Math.min(255,255*(p^255)/g)^255))/255|0;g=f.data[a+2];p=c.data[a+2];c.data[a+2]=(p*n+h*(0==g?0:Math.min(255,255*(p^255)/g)^255))/255|0}}};l.burnOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(e*p+h*u+g*(0==e?0:Math.min(255,255*(h^255)/e)^255))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(e*p+h*u+g*(0==e?0:Math.min(255,255*(h^255)/e)^255))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(e*p+h*u+g*(0==e?0:Math.min(255,255*(h^255)/e)^255))/n|0;c.data[a+3]=n}}};l.burnOntoTransparentFusionWithTransparentLayer=
function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(h*u+n*A+p*(0==h?0:Math.min(255,255*(n^255)/h)^255))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(h*u+n*A+p*(0==h?0:Math.min(255,255*(n^255)/h)^255))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+
2]=(h*u+n*A+p*(0==h?0:Math.min(255,255*(n^255)/h)^255))/g|0;c.data[a+3]=g}}};l.burnOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];var A=c.data[b];c.data[b]=(A*p+g*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0;u=f.data[b+1];
A=c.data[b+1];c.data[b+1]=(A*p+g*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0;u=f.data[b+2];A=c.data[b+2];c.data[b+2]=(A*p+g*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0}}};l.burnOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;
var A=f.data[e];var F=c.data[e];c.data[e]=(F*u+p*(0==A?0:Math.min(255,255*(F^255)/A)^255))/255|0;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=(F*u+p*(0==A?0:Math.min(255,255*(F^255)/A)^255))/255|0;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=(F*u+p*(0==A?0:Math.min(255,255*(F^255)/A)^255))/255|0}}};l.burnOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=
0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(g*F+p*w+A*(0==g?0:Math.min(255,255*(p^255)/g)^255))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(g*F+p*w+A*(0==g?0:Math.min(255,255*(p^255)/g)^255))/u|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(g*F+p*w+A*(0==g?0:Math.min(255,255*(p^255)/g)^255))/u|0;c.data[b+3]=u}}};l.burnOntoTransparentFusionWithTransparentLayerMasked=
function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(p*w+u*I+F*(0==p?0:Math.min(255,255*(u^255)/p)^255))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(p*w+u*I+F*(0==p?
0:Math.min(255,255*(u^255)/p)^255))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(p*w+u*I+F*(0==p?0:Math.min(255,255*(u^255)/p)^255))/A|0;c.data[e+3]=A}}};l.overlayOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=f.data[a];var g=c.data[a];c.data[a]=(h*g+(127>=g?2*e*n*g/255:e*(2*(n^255)*(g^255)/255^255)))/255|0;n=f.data[a+
1];g=c.data[a+1];c.data[a+1]=(h*g+(127>=g?2*e*n*g/255:e*(2*(n^255)*(g^255)/255^255)))/255|0;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=(h*g+(127>=g?2*e*n*g/255:e*(2*(n^255)*(g^255)/255^255)))/255|0}}};l.overlayOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=(n*p+(127>=
p?2*h*g*p/255:h*(2*(g^255)*(p^255)/255^255)))/255|0;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=(n*p+(127>=p?2*h*g*p/255:h*(2*(g^255)*(p^255)/255^255)))/255|0;g=f.data[a+2];p=c.data[a+2];c.data[a+2]=(n*p+(127>=p?2*h*g*p/255:h*(2*(g^255)*(p^255)/255^255)))/255|0}}};l.overlayOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+
3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(p*e+u*h+(127>=h?2*g*e*h/255:g*(2*(e^255)*(h^255)/255^255)))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(p*e+u*h+(127>=h?2*g*e*h/255:g*(2*(e^255)*(h^255)/255^255)))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(p*e+u*h+(127>=h?2*g*e*h/255:g*(2*(e^255)*(h^255)/255^255)))/n|0;c.data[a+3]=n}}};l.overlayOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|
0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(u*h+A*n+(127>=n?2*p*h*n/255:p*(2*(h^255)*(n^255)/255^255)))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(u*h+A*n+(127>=n?2*p*h*n/255:p*(2*(h^255)*(n^255)/255^255)))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(u*h+A*n+(127>=n?2*p*h*n/255:p*
(2*(h^255)*(n^255)/255^255)))/g|0;c.data[a+3]=g}}};l.overlayOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];var A=c.data[b];c.data[b]=(p*A+(127>=A?2*g*u*A/255:g*(2*(u^255)*(A^255)/255^255)))/255|0;u=f.data[b+1];A=c.data[b+1];
c.data[b+1]=(p*A+(127>=A?2*g*u*A/255:g*(2*(u^255)*(A^255)/255^255)))/255|0;u=f.data[b+2];A=c.data[b+2];c.data[b+2]=(p*A+(127>=A?2*g*u*A/255:g*(2*(u^255)*(A^255)/255^255)))/255|0}}};l.overlayOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=
p^255;var A=f.data[e];var F=c.data[e];c.data[e]=(u*F+(127>=F?2*p*A*F/255:p*(2*(A^255)*(F^255)/255^255)))/255|0;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=(u*F+(127>=F?2*p*A*F/255:p*(2*(A^255)*(F^255)/255^255)))/255|0;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=(u*F+(127>=F?2*p*A*F/255:p*(2*(A^255)*(F^255)/255^255)))/255|0}}};l.overlayOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(F*g+w*p+(127>=p?2*A*g*p/255:A*(2*(g^255)*(p^255)/255^255)))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(F*g+w*p+(127>=p?2*A*g*p/255:A*(2*(g^255)*(p^255)/255^255)))/u|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(F*g+w*p+(127>=p?2*A*g*p/255:A*(2*(g^255)*(p^255)/255^255)))/
u|0;c.data[b+3]=u}}};l.overlayOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(w*p+I*u+(127>=u?2*F*p*u/255:F*(2*(p^
255)*(u^255)/255^255)))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(w*p+I*u+(127>=u?2*F*p*u/255:F*(2*(p^255)*(u^255)/255^255)))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(w*p+I*u+(127>=u?2*F*p*u/255:F*(2*(p^255)*(u^255)/255^255)))/A|0;c.data[e+3]=A}}};l.hardLightOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=f.data[a];
var g=c.data[a];c.data[a]=(h*g+(127>=n?2*e*n*g/255:e*(2*(n^255)*(g^255)/255^255)))/255|0;n=f.data[a+1];g=c.data[a+1];c.data[a+1]=(h*g+(127>=n?2*e*n*g/255:e*(2*(n^255)*(g^255)/255^255)))/255|0;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=(h*g+(127>=n?2*e*n*g/255:e*(2*(n^255)*(g^255)/255^255)))/255|0}}};l.hardLightOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=
4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=(n*p+(127>=g?2*h*g*p/255:h*(2*(g^255)*(p^255)/255^255)))/255|0;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=(n*p+(127>=g?2*h*g*p/255:h*(2*(g^255)*(p^255)/255^255)))/255|0;g=f.data[a+2];p=c.data[a+2];c.data[a+2]=(n*p+(127>=g?2*h*g*p/255:h*(2*(g^255)*(p^255)/255^255)))/255|0}}};l.hardLightOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(p*e+u*h+(127>=e?2*g*e*h/255:g*(2*(e^255)*(h^255)/255^255)))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(p*e+u*h+(127>=e?2*g*e*h/255:g*(2*(e^255)*(h^255)/255^255)))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(p*e+u*h+(127>=e?2*g*e*h/255:g*(2*(e^255)*(h^255)/255^255)))/n|0;c.data[a+3]=n}}};l.hardLightOntoTransparentFusionWithTransparentLayer=
function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(u*h+A*n+(127>=h?2*p*h*n/255:p*(2*(h^255)*(n^255)/255^255)))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(u*h+A*n+(127>=h?2*p*h*n/255:p*(2*(h^255)*(n^255)/255^255)))/g|0;h=f.data[a+2];n=
c.data[a+2];c.data[a+2]=(u*h+A*n+(127>=h?2*p*h*n/255:p*(2*(h^255)*(n^255)/255^255)))/g|0;c.data[a+3]=g}}};l.hardLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];var A=c.data[b];c.data[b]=(p*A+(127>=u?2*g*u*A/255:g*(2*(u^
255)*(A^255)/255^255)))/255|0;u=f.data[b+1];A=c.data[b+1];c.data[b+1]=(p*A+(127>=u?2*g*u*A/255:g*(2*(u^255)*(A^255)/255^255)))/255|0;u=f.data[b+2];A=c.data[b+2];c.data[b+2]=(p*A+(127>=u?2*g*u*A/255:g*(2*(u^255)*(A^255)/255^255)))/255|0}}};l.hardLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,
e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=f.data[e];var F=c.data[e];c.data[e]=(u*F+(127>=A?2*p*A*F/255:p*(2*(A^255)*(F^255)/255^255)))/255|0;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=(u*F+(127>=A?2*p*A*F/255:p*(2*(A^255)*(F^255)/255^255)))/255|0;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=(u*F+(127>=A?2*p*A*F/255:p*(2*(A^255)*(F^255)/255^255)))/255|0}}};l.hardLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-
r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(F*g+w*p+(127>=g?2*A*g*p/255:A*(2*(g^255)*(p^255)/255^255)))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(F*g+w*p+(127>=g?2*A*g*p/255:A*(2*(g^255)*(p^255)/255^255)))/u|0;g=f.data[b+2];p=c.data[b+
2];c.data[b+2]=(F*g+w*p+(127>=g?2*A*g*p/255:A*(2*(g^255)*(p^255)/255^255)))/u|0;c.data[b+3]=u}}};l.hardLightOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*
u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(w*p+I*u+(127>=p?2*F*p*u/255:F*(2*(p^255)*(u^255)/255^255)))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(w*p+I*u+(127>=p?2*F*p*u/255:F*(2*(p^255)*(u^255)/255^255)))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(w*p+I*u+(127>=p?2*F*p*u/255:F*(2*(p^255)*(u^255)/255^255)))/A|0;c.data[e+3]=A}}};l.softLightOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,
a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=f.data[a];var g=c.data[a];c.data[a]=(h*g+e*(127>=n?((2*n-255)*v[g]/255|0)+g:((2*n-255)*E[g]/255|0)+g))/255|0;n=f.data[a+1];g=c.data[a+1];c.data[a+1]=(h*g+e*(127>=n?((2*n-255)*v[g]/255|0)+g:((2*n-255)*E[g]/255|0)+g))/255|0;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=(h*g+e*(127>=n?((2*n-255)*v[g]/255|0)+g:((2*n-255)*E[g]/255|0)+g))/255|0}}};l.softLightOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=
a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=(n*p+h*(127>=g?((2*g-255)*v[p]/255|0)+p:((2*g-255)*E[p]/255|0)+p))/255|0;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=(n*p+h*(127>=g?((2*g-255)*v[p]/255|0)+p:((2*g-255)*E[p]/255|0)+p))/255|0;g=f.data[a+2];p=c.data[a+2];c.data[a+2]=(n*p+h*(127>=g?((2*g-255)*v[p]/255|0)+p:((2*g-255)*E[p]/255|0)+p))/255|
0}}};l.softLightOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(p*e+u*h+(127>=e?g*(((2*e-255)*v[h]/255|0)+h):g*(((2*e-255)*E[h]/255|0)+h)))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(p*e+u*h+(127>=e?g*
(((2*e-255)*v[h]/255|0)+h):g*(((2*e-255)*E[h]/255|0)+h)))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(p*e+u*h+(127>=e?g*(((2*e-255)*v[h]/255|0)+h):g*(((2*e-255)*E[h]/255|0)+h)))/n|0;c.data[a+3]=n}}};l.softLightOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=
h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(u*h+A*n+(127>=h?p*(((2*h-255)*v[n]/255|0)+n):p*(((2*h-255)*E[n]/255|0)+n)))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(u*h+A*n+(127>=h?p*(((2*h-255)*v[n]/255|0)+n):p*(((2*h-255)*E[n]/255|0)+n)))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(u*h+A*n+(127>=h?p*(((2*h-255)*v[n]/255|0)+n):p*(((2*h-255)*E[n]/255|0)+n)))/g|0;c.data[a+3]=g}}};l.softLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=
a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];var A=c.data[b];c.data[b]=(p*A+g*(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0;u=f.data[b+1];A=c.data[b+1];c.data[b+1]=(p*A+g*(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0;u=f.data[b+2];A=c.data[b+2];c.data[b+2]=(p*A+g*
(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0}}};l.softLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=f.data[e];var F=c.data[e];c.data[e]=(u*F+p*(127>=A?((2*A-255)*v[F]/255|0)+F:((2*A-255)*E[F]/255|0)+
F))/255|0;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=(u*F+p*(127>=A?((2*A-255)*v[F]/255|0)+F:((2*A-255)*E[F]/255|0)+F))/255|0;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=(u*F+p*(127>=A?((2*A-255)*v[F]/255|0)+F:((2*A-255)*E[F]/255|0)+F))/255|0}}};l.softLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,
b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(F*g+w*p+(127>=g?A*(((2*g-255)*v[p]/255|0)+p):A*(((2*g-255)*E[p]/255|0)+p)))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(F*g+w*p+(127>=g?A*(((2*g-255)*v[p]/255|0)+p):A*(((2*g-255)*E[p]/255|0)+p)))/u|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(F*g+w*p+(127>=g?A*(((2*g-255)*v[p]/255|0)+p):A*(((2*g-255)*E[p]/255|0)+p)))/u|0;c.data[b+
3]=u}}};l.softLightOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(w*p+I*u+(127>=p?F*(((2*p-255)*v[u]/255|0)+u):F*
(((2*p-255)*E[u]/255|0)+u)))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(w*p+I*u+(127>=p?F*(((2*p-255)*v[u]/255|0)+u):F*(((2*p-255)*E[u]/255|0)+u)))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(w*p+I*u+(127>=p?F*(((2*p-255)*v[u]/255|0)+u):F*(((2*p-255)*E[u]/255|0)+u)))/A|0;c.data[e+3]=A}}};l.vividLightOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=
f.data[a+3];if(e){var h=e^255;var n=f.data[a];var g=c.data[a];c.data[a]=(h*g+(127>=n?e*(0==n?0:255-Math.min(255,255*(255-g)/(2*n)|0)):e*(255==n?255:Math.min(255,255*g/(2*(255-n))|0))))/255|0;n=f.data[a+1];g=c.data[a+1];c.data[a+1]=(h*g+(127>=n?e*(0==n?0:255-Math.min(255,255*(255-g)/(2*n)|0)):e*(255==n?255:Math.min(255,255*g/(2*(255-n))|0))))/255|0;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=(h*g+(127>=n?e*(0==n?0:255-Math.min(255,255*(255-g)/(2*n)|0)):e*(255==n?255:Math.min(255,255*g/(2*(255-n))|0))))/
255|0}}};l.vividLightOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=(n*p+(127>=g?h*(0==g?0:255-Math.min(255,255*(255-p)/(2*g)|0)):h*(255==g?255:Math.min(255,255*p/(2*(255-g))|0))))/255|0;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=(n*p+(127>=g?h*(0==g?0:255-Math.min(255,
255*(255-p)/(2*g)|0)):h*(255==g?255:Math.min(255,255*p/(2*(255-g))|0))))/255|0;g=f.data[a+2];p=c.data[a+2];c.data[a+2]=(n*p+(127>=g?h*(0==g?0:255-Math.min(255,255*(255-p)/(2*g)|0)):h*(255==g?255:Math.min(255,255*p/(2*(255-g))|0))))/255|0}}};l.vividLightOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-
(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(p*e+u*h+(127>=e?g*(0==e?0:255-Math.min(255,255*(255-h)/(2*e)|0)):g*(255==e?255:Math.min(255,255*h/(2*(255-e))|0))))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(p*e+u*h+(127>=e?g*(0==e?0:255-Math.min(255,255*(255-h)/(2*e)|0)):g*(255==e?255:Math.min(255,255*h/(2*(255-e))|0))))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(p*e+u*h+(127>=e?g*(0==e?0:255-Math.min(255,255*(255-h)/(2*e)|0)):g*(255==e?255:Math.min(255,
255*h/(2*(255-e))|0))))/n|0;c.data[a+3]=n}}};l.vividLightOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(u*h+A*n+(127>=h?p*(0==h?0:255-Math.min(255,255*(255-n)/(2*h)|0)):p*(255==h?255:Math.min(255,
255*n/(2*(255-h))|0))))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(u*h+A*n+(127>=h?p*(0==h?0:255-Math.min(255,255*(255-n)/(2*h)|0)):p*(255==h?255:Math.min(255,255*n/(2*(255-h))|0))))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(u*h+A*n+(127>=h?p*(0==h?0:255-Math.min(255,255*(255-n)/(2*h)|0)):p*(255==h?255:Math.min(255,255*n/(2*(255-h))|0))))/g|0;c.data[a+3]=g}}};l.vividLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,
a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];var A=c.data[b];c.data[b]=(p*A+(127>=u?g*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):g*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0;u=f.data[b+1];A=c.data[b+1];c.data[b+1]=(p*A+(127>=u?g*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):g*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0;u=f.data[b+2];
A=c.data[b+2];c.data[b+2]=(p*A+(127>=u?g*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):g*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0}}};l.vividLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=f.data[e];var F=c.data[e];
c.data[e]=(u*F+(127>=A?p*(0==A?0:255-Math.min(255,255*(255-F)/(2*A)|0)):p*(255==A?255:Math.min(255,255*F/(2*(255-A))|0))))/255|0;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=(u*F+(127>=A?p*(0==A?0:255-Math.min(255,255*(255-F)/(2*A)|0)):p*(255==A?255:Math.min(255,255*F/(2*(255-A))|0))))/255|0;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=(u*F+(127>=A?p*(0==A?0:255-Math.min(255,255*(255-F)/(2*A)|0)):p*(255==A?255:Math.min(255,255*F/(2*(255-A))|0))))/255|0}}};l.vividLightOntoTransparentFusionWithOpaqueLayerMasked=
function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(F*g+w*p+(127>=g?A*(0==g?0:255-Math.min(255,255*(255-p)/(2*g)|0)):A*(255==g?255:Math.min(255,255*p/(2*(255-g))|0))))/u|
0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(F*g+w*p+(127>=g?A*(0==g?0:255-Math.min(255,255*(255-p)/(2*g)|0)):A*(255==g?255:Math.min(255,255*p/(2*(255-g))|0))))/u|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(F*g+w*p+(127>=g?A*(0==g?0:255-Math.min(255,255*(255-p)/(2*g)|0)):A*(255==g?255:Math.min(255,255*p/(2*(255-g))|0))))/u|0;c.data[b+3]=u}}};l.vividLightOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,
a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(w*p+I*u+(127>=p?F*(0==p?0:255-Math.min(255,255*(255-u)/(2*p)|0)):F*(255==p?255:Math.min(255,255*u/(2*(255-p))|0))))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(w*p+I*u+(127>=p?F*(0==p?0:255-Math.min(255,255*(255-u)/
(2*p)|0)):F*(255==p?255:Math.min(255,255*u/(2*(255-p))|0))))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(w*p+I*u+(127>=p?F*(0==p?0:255-Math.min(255,255*(255-u)/(2*p)|0)):F*(255==p?255:Math.min(255,255*u/(2*(255-p))|0))))/A|0;c.data[e+3]=A}}};l.linearLightOntoOpaqueFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=c.data[a];c.data[a]=
(h*n+e*Math.min(255,Math.max(0,n+2*f.data[a]-255)))/255|0;n=c.data[a+1];c.data[a+1]=(h*n+e*Math.min(255,Math.max(0,n+2*f.data[a+1]-255)))/255|0;n=c.data[a+2];c.data[a+2]=(h*n+e*Math.min(255,Math.max(0,n+2*f.data[a+2]-255)))/255|0}}};l.linearLightOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=c.data[a];
c.data[a]=(n*g+h*Math.min(255,Math.max(0,g+2*f.data[a]-255)))/255|0;g=c.data[a+1];c.data[a+1]=(n*g+h*Math.min(255,Math.max(0,g+2*f.data[a+1]-255)))/255|0;g=c.data[a+2];c.data[a+2]=(n*g+h*Math.min(255,Math.max(0,g+2*f.data[a+2]-255)))/255|0}}};l.linearLightOntoTransparentFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=
e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(p*e+u*h+g*Math.min(255,Math.max(0,h+2*e-255)))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(p*e+u*h+g*Math.min(255,Math.max(0,h+2*e-255)))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(p*e+u*h+g*Math.min(255,Math.max(0,h+2*e-255)))/n|0;c.data[a+3]=n}}};l.linearLightOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(u*h+A*n+p*Math.min(255,Math.max(0,n+2*h-255)))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+1]=(u*h+A*n+p*Math.min(255,Math.max(0,n+2*h-255)))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(u*h+A*n+p*Math.min(255,Math.max(0,n+2*h-255)))/g|0;c.data[a+3]=g}}};l.linearLightOntoOpaqueFusionWithOpaqueLayerMasked=
function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=c.data[b];c.data[b]=(p*u+g*Math.min(255,Math.max(0,u+2*f.data[b]-255)))/255|0;u=c.data[b+1];c.data[b+1]=(p*u+g*Math.min(255,Math.max(0,u+2*f.data[b+1]-255)))/255|0;u=c.data[b+2];c.data[b+2]=(p*u+g*Math.min(255,Math.max(0,u+2*
f.data[b+2]-255)))/255|0}}};l.linearLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=c.data[e];c.data[e]=(u*A+p*Math.min(255,Math.max(0,A+2*f.data[e]-255)))/255|0;A=c.data[e+1];c.data[e+1]=(u*A+p*Math.min(255,Math.max(0,A+
2*f.data[e+1]-255)))/255|0;A=c.data[e+2];c.data[e+2]=(u*A+p*Math.min(255,Math.max(0,A+2*f.data[e+2]-255)))/255|0}}};l.linearLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|
0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(F*g+w*p+A*Math.min(255,Math.max(0,p+2*g-255)))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(F*g+w*p+A*Math.min(255,Math.max(0,p+2*g-255)))/u|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(F*g+w*p+A*Math.min(255,Math.max(0,p+2*g-255)))/u|0;c.data[b+3]=u}}};l.linearLightOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,
a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(w*p+I*u+F*Math.min(255,Math.max(0,u+2*p-255)))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(w*p+I*u+F*Math.min(255,Math.max(0,u+2*p-255)))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(w*p+I*u+F*Math.min(255,Math.max(0,u+2*p-255)))/A|0;c.data[e+3]=A}}};l.pinLightOntoOpaqueFusionWithOpaqueLayer=
function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=e^255;var n=f.data[a];var g=c.data[a];c.data[a]=(h*g+e*(g>=2*n?2*n:g<=2*n-255?2*n-255:g))/255|0;n=f.data[a+1];g=c.data[a+1];c.data[a+1]=(h*g+e*(g>=2*n?2*n:g<=2*n-255?2*n-255:g))/255|0;n=f.data[a+2];g=c.data[a+2];c.data[a+2]=(h*g+e*(g>=2*n?2*n:g<=2*n-255?2*n-255:g))/255|0}}};l.pinLightOntoOpaqueFusionWithTransparentLayer=
function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=h^255;var g=f.data[a];var p=c.data[a];c.data[a]=(n*p+h*(p>=2*g?2*g:p<=2*g-255?2*g-255:p))/255|0;g=f.data[a+1];p=c.data[a+1];c.data[a+1]=(n*p+h*(p>=2*g?2*g:p<=2*g-255?2*g-255:p))/255|0;g=f.data[a+2];p=c.data[a+2];c.data[a+2]=(n*p+h*(p>=2*g?2*g:p<=2*g-255?2*g-255:p))/255|0}}};l.pinLightOntoTransparentFusionWithOpaqueLayer=
function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=c.data[a+3];var n=e+h-(e*h/255|0)|0,g=e*h/255|0,p=e*(h^255)/255|0,u=(e^255)*h/255|0;e=f.data[a];h=c.data[a];c.data[a]=(p*e+u*h+g*(h>=2*e?2*e:h<=2*e-255?2*e-255:h))/n|0;e=f.data[a+1];h=c.data[a+1];c.data[a+1]=(p*e+u*h+g*(h>=2*e?2*e:h<=2*e-255?2*e-255:h))/n|0;e=f.data[a+2];h=c.data[a+2];c.data[a+2]=(p*e+u*h+g*(h>=
2*e?2*e:h<=2*e-255?2*e-255:h))/n|0;c.data[a+3]=n}}};l.pinLightOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=c.data[a+3];var g=h+n-(h*n/255|0)|0,p=h*n/255|0,u=h*(n^255)/255|0,A=(h^255)*n/255|0;h=f.data[a];n=c.data[a];c.data[a]=(u*h+A*n+p*(n>=2*h?2*h:n<=2*h-255?2*h-255:n))/g|0;h=f.data[a+1];n=c.data[a+1];c.data[a+
1]=(u*h+A*n+p*(n>=2*h?2*h:n<=2*h-255?2*h-255:n))/g|0;h=f.data[a+2];n=c.data[a+2];c.data[a+2]=(u*h+A*n+p*(n>=2*h?2*h:n<=2*h-255?2*h-255:n))/g|0;c.data[a+3]=g}}};l.pinLightOntoOpaqueFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=g^255;var u=f.data[b];var A=
c.data[b];c.data[b]=(p*A+g*(A>=2*u?2*u:A<=2*u-255?2*u-255:A))/255|0;u=f.data[b+1];A=c.data[b+1];c.data[b+1]=(p*A+g*(A>=2*u?2*u:A<=2*u-255?2*u-255:A))/255|0;u=f.data[b+2];A=c.data[b+2];c.data[b+2]=(p*A+g*(A>=2*u?2*u:A<=2*u-255?2*u-255:A))/255|0}}};l.pinLightOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<
t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=p^255;var A=f.data[e];var F=c.data[e];c.data[e]=(u*F+p*(F>=2*A?2*A:F<=2*A-255?2*A-255:F))/255|0;A=f.data[e+1];F=c.data[e+1];c.data[e+1]=(u*F+p*(F>=2*A?2*A:F<=2*A-255?2*A-255:F))/255|0;A=f.data[e+2];F=c.data[e+2];c.data[e+2]=(u*F+p*(F>=2*A?2*A:F<=2*A-255?2*A-255:F))/255|0}}};l.pinLightOntoTransparentFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|
0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;if(g){var p=c.data[b+3];var u=g+p-(g*p/255|0)|0,A=g*p/255|0,F=g*(p^255)/255|0,w=(g^255)*p/255|0;g=f.data[b];p=c.data[b];c.data[b]=(F*g+w*p+A*(p>=2*g?2*g:p<=2*g-255?2*g-255:p))/u|0;g=f.data[b+1];p=c.data[b+1];c.data[b+1]=(F*g+w*p+A*(p>=2*g?2*g:p<=2*g-255?2*g-255:p))/u|0;g=f.data[b+2];p=c.data[b+2];c.data[b+2]=(F*g+w*p+A*(p>=2*g?2*g:p<=2*g-255?2*g-255:p))/u|
0;c.data[b+3]=u}}};l.pinLightOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;if(p){var u=c.data[e+3];var A=p+u-(p*u/255|0)|0,F=p*u/255|0,w=p*(u^255)/255|0,I=(p^255)*u/255|0;p=f.data[e];u=c.data[e];c.data[e]=(w*p+I*u+F*(u>=2*p?2*p:u<=2*p-255?2*p-
255:u))/A|0;p=f.data[e+1];u=c.data[e+1];c.data[e+1]=(w*p+I*u+F*(u>=2*p?2*p:u<=2*p-255?2*p-255:u))/A|0;p=f.data[e+2];u=c.data[e+2];c.data[e+2]=(w*p+I*u+F*(u>=2*p?2*p:u<=2*p-255?2*p-255:u))/A|0;c.data[e+3]=A}}};l.passthroughOntoOpaqueFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3],n=x/100,g=1-n,p=h*n+255*g;c.data[a]=(f.data[a]*h*n+255*c.data[a]*
g)/p|0;c.data[a+1]=(f.data[a+1]*h*n+255*c.data[a+1]*g)/p|0;c.data[a+2]=(f.data[a+2]*h*n+255*c.data[a+2]*g)/p|0;c.data[a+3]=p}};l.passthroughOntoOpaqueFusionWithOpaqueLayer=l.passthroughOntoOpaqueFusionWithTransparentLayer;l.passthroughOntoTransparentFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3],n=c.data[a+3],g=x/100,p=1-g,u=h*g+n*p;c.data[a]=
(f.data[a]*h*g+c.data[a]*n*p)/u|0;c.data[a+1]=(f.data[a+1]*h*g+c.data[a+1]*n*p)/u|0;c.data[a+2]=(f.data[a+2]*h*g+c.data[a+2]*n*p)/u|0;c.data[a+3]=u}};l.passthroughOntoTransparentFusionWithOpaqueLayer=l.passthroughOntoTransparentFusionWithTransparentLayer;l.passthroughOntoOpaqueFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=
0;g<t;g++,e+=4,a++){var p=f.data[e+3],u=m.data[a]*x/25500,A=1-u,F=p*u+255*A;c.data[e]=(f.data[e]*p*u+255*c.data[e]*A)/F|0;c.data[e+1]=(f.data[e+1]*p*u+255*c.data[e+1]*A)/F|0;c.data[e+2]=(f.data[e+2]*p*u+255*c.data[e+2]*A)/F|0;c.data[e+3]=F}};l.passthroughOntoOpaqueFusionWithOpaqueLayerMasked=l.passthroughOntoOpaqueFusionWithTransparentLayerMasked;l.passthroughOntoTransparentFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,
a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3],u=c.data[e+3],A=m.data[a]*x/25500,F=1-A,w=p*A+u*F;c.data[e]=(f.data[e]*p*A+c.data[e]*u*F)/w|0;c.data[e+1]=(f.data[e+1]*p*A+c.data[e+1]*u*F)/w|0;c.data[e+2]=(f.data[e+2]*p*A+c.data[e+2]*u*F)/w|0;c.data[e+3]=w}};l.passthroughOntoTransparentFusionWithOpaqueLayerMasked=l.passthroughOntoTransparentFusionWithTransparentLayerMasked;l.replaceOntoFusionWithTransparentLayer=
function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<r;e++,a+=4){var h=f.data[a+3]*x/100|0;c.data[a]=f.data[a];c.data[a+1]=f.data[a+1];c.data[a+2]=f.data[a+2];c.data[a+3]=h}};l.replaceOntoFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];c.data[a]=f.data[a];
c.data[a+1]=f.data[a+1];c.data[a+2]=f.data[a+2];c.data[a+3]=e}};l.replaceOntoFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++){var p=f.data[e+3]*m.data[a]*x/25500|0;c.data[e]=f.data[e];c.data[e+1]=f.data[e+1];c.data[e+2]=f.data[e+2];c.data[e+3]=p}};l.replaceOntoFusionWithOpaqueLayerMasked=function(c,
f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++){var g=f.data[b+3]*m.data[a]/255|0;c.data[b]=f.data[b];c.data[b+1]=f.data[b+1];c.data[b+2]=f.data[b+2];c.data[b+3]=g}};l.replaceAlphaOntoFusionWithTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=
t)for(var e=0;e<r;e++,a+=4)c.data[a+3]=f.data[a+3]*x/100|0};l.replaceAlphaOntoFusionWithTransparentLayerMasked=function(c,f,x,a,m){var r=a.getHeight()|0,t=a.getWidth()|0,b=4*(f.width-t)|0,e=f.offsetOfPixel(a.left,a.top)|0,h=m.width-t|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var n=0;n<r;n++,e+=b,a+=h)for(var g=0;g<t;g++,e+=4,a++)c.data[e+3]=f.data[e+3]*m.data[a]*x/25500|0};l.replaceAlphaOntoFusionWithOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4)c.data[a+3]=f.data[a+3]};l.replaceAlphaOntoFusionWithOpaqueLayerMasked=function(c,f,x,a,m){x=a.getHeight()|0;var r=a.getWidth()|0,t=4*(f.width-r)|0,b=f.offsetOfPixel(a.left,a.top)|0,e=m.width-r|0;a=m.offsetOfPixel(a.left,a.top)|0;for(var h=0;h<x;h++,b+=t,a+=e)for(var n=0;n<r;n++,b+=4,a++)c.data[b+3]=f.data[b+3]*m.data[a]/255|0};l.upgradeMultiplyOfOpaqueLayer=function(c,f,x,a){x=a.getHeight()|0;var m=a.getWidth()|0,r=4*(f.width-m)|0;a=f.offsetOfPixel(a.left,
a.top)|0;for(var t=0;t<x;t++,a+=r)for(var b=0;b<m;b++,a+=4){var e=f.data[a+3];if(e){var h=f.data[a];var n=c.data[a];f.data[a]=h+Math.ceil((255-h)*n*e%65025/(n*e));h=f.data[a+1];n=c.data[a+1];f.data[a+1]=h+Math.ceil((255-h)*n*e%65025/(n*e));h=f.data[a+2];n=c.data[a+2];f.data[a+2]=h+Math.ceil((255-h)*n*e%65025/(n*e))}}};l.upgradeMultiplyOfTransparentLayer=function(c,f,x,a){var m=a.getHeight()|0,r=a.getWidth()|0,t=4*(f.width-r)|0;a=f.offsetOfPixel(a.left,a.top)|0;for(var b=0;b<m;b++,a+=t)for(var e=0;e<
r;e++,a+=4){var h=f.data[a+3]*x/100|0;if(h){var n=f.data[a];var g=c.data[a];f.data[a]=n+Math.ceil((255-n)*g*h%65025/(g*h));n=f.data[a+1];g=c.data[a+1];f.data[a+1]=n+Math.ceil((255-n)*g*h%65025/(g*h));n=f.data[a+2];g=c.data[a+2];f.data[a+2]=n+Math.ceil((255-n)*g*h%65025/(g*h))}}};l._normalFuseImageOntoImageAtPosition=function(c,f,x,a,m,r){x=a.getHeight()|0;var t=a.getWidth()|0,b=4*(f.width-t)|0;a=f.offsetOfPixel(a.left,a.top)|0;var e=4*(c.width-t)|0;m=c.offsetOfPixel(m,r)|0;for(r=0;r<x;r++,a+=b,m+=
e)for(var h=0;h<t;h++,a+=4,m+=4){var n=f.data[a+3];if(n){var g=c.data[m+3];g=n+g-(n*g/255|0)|0;n=255*n/g|0;var p=255-n;c.data[m]=(f.data[a]*n+c.data[m]*p)/255|0;c.data[m+1]=(f.data[a+1]*n+c.data[m+1]*p)/255|0;c.data[m+2]=(f.data[a+2]*n+c.data[m+2]*p)/255|0;c.data[m+3]=g}}};l.LM_NORMAL=0;l.LM_MULTIPLY=1;l.LM_ADD=2;l.LM_SCREEN=3;l.LM_LIGHTEN=4;l.LM_DARKEN=5;l.LM_SUBTRACT=6;l.LM_DODGE=7;l.LM_BURN=8;l.LM_OVERLAY=9;l.LM_HARDLIGHT=10;l.LM_SOFTLIGHT=11;l.LM_VIVIDLIGHT=12;l.LM_LINEARLIGHT=13;l.LM_PINLIGHT=
14;l.LM_PASSTHROUGH=15;l.LM_MULTIPLY2=16;l.LM_FIRST=0;l.LM_LAST=16;l.LM_LAST_CHIBIPAINT=l.LM_PINLIGHT;l.BLEND_MODE_CODENAMES="normal multiply add screen lighten darken subtract dodge burn overlay hardLight softLight vividLight linearLight pinLight passthrough multiply2".split(" ");l.BLEND_MODE_DISPLAY_NAMES="Normal;Multiply;Add;Screen;Lighten;Darken;Subtract;Dodge;Burn;Overlay;Hard Light;Soft Light;Vivid Light;Linear Light;Pin Light;Passthrough;Multiply".split(";");(function(){for(var c=0;256>c;c++){var f=
c/255;v[c]=255*(f-f*f)|0}for(c=0;256>c;c++)f=c/255,E[c]=255*(Math.sqrt(f)-f)|0})();L.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPLayer.js":16}],6:[function(k,L,C){function y(c){return c&&c.__esModule?c:{default:c}}var l=y(k("./CPBlend.js")),v=y(k("../util/CPRect.js")),E=y(k("./CPColorBmp.js"));y(k("./CPGreyBmp.js"));l.default.blendFunctionNameForParameters=function(c,f,x,a){x=l.default.BLEND_MODE_CODENAMES[x]+"Onto";x=c?x+"TransparentFusion":x+"OpaqueFusion";
x=100==f?x+"WithOpaqueLayer":x+"WithTransparentLayer";a&&(x+="Masked");return x};l.default.fuseImageOntoImage=function(c,f,x,a,m,r,t){0>=a||(f=l.default.blendFunctionNameForParameters(f,a,m,null!=t),r=c.getBounds().clipTo(r),this[f](c,x,a,r,t))};l.default.normalFuseImageOntoImageAtPosition=function(c,f,x,a,m){m=m.clone();x=new v.default(x,a,0,0);c.getBounds().clipSourceDest(m,x);this._normalFuseImageOntoImageAtPosition(c,f,100,m,x.left,x.top)};l.default.multiplyAlphaBy=function(c,f){if(100>f)if(0==
f)c.clearAll(0);else{c=c.data;for(var x=3;x<c.length;x+=4)c[x]=Math.round(c[x]*f/100)}};l.default.multiplyAlphaByMask=function(c,f,x){f/=25500;for(var a=E.default.ALPHA_BYTE_OFFSET,m=0;a<c.data.length;a+=E.default.BYTES_PER_PIXEL,m++)c.data[a]=Math.round(c.data[a]*x.data[m]*f)};l.default.copyAndMultiplyAlphaBy=function(c,f,x,a){if(100==x)c.copyBitmapRect(f,a.left,a.top,a);else if(0==x)c.clearRect(a,0);else for(c=f.data,f=0;f<c.length;f+=4)c[f]=c[f],c[f+1]=c[f+1],c[f+2]=c[f+2],c[f+3]=Math.round(c[f+
3]*x/100)}},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],7:[function(k,L,C){function y(t){return t&&t.__esModule?t:{default:t}}function l(t,b){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=v(t))||b&&t&&"number"===typeof t.length){e&&(t=e);var h=0;b=function(){};return{s:b,n:function(){return h>=t.length?{done:!0}:{done:!1,value:t[h++]}},e:function(u){throw u;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var n=!0,g=!1,p;return{s:function(){e=e.call(t)},n:function(){var u=e.next();n=u.done;return u},e:function(u){g=!0;p=u},f:function(){try{n||null==e.return||e.return()}finally{if(g)throw p;}}}}function v(t,b){if(t){if("string"===typeof t)return E(t,b);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return E(t,b)}}function E(t,b){if(null==
b||b>t.length)b=t.length;for(var e=0,h=Array(b);e<b;e++)h[e]=t[e];return h}function c(t,b,e){e?(this.isGroup=e instanceof x.default,this.image=e.image,this.mask=e.getEffectiveMask(),this.layer=e,this.blendMode=e.blendMode,this.alpha=e.alpha,this.visible=e.visible):(this.isGroup=!0,this.layer=this.mask=this.image=null,this.blendMode=f.default.LM_PASSTHROUGH,this.alpha=100,this.visible=!0);this.dirtyRect=new r.default(0,0,t,b);this.layers=[];this.parent=null;this.clip=!1}Object.defineProperty(C,"__esModule",
{value:!0});C.default=function(t,b,e,h){function n(){return 0<O.length?O.pop():new a.default(b,e)}function g(G){if(0==G.layers.length)return null;if(1==G.layers.length&&(null==G.mask||null==G.layers[0].mask)){var H=G.layers[0];H.alpha=Math.round(G.alpha*H.alpha/100);G.blendMode!=f.default.LM_PASSTHROUGH&&(H.blendMode=G.blendMode);H.mask=G.mask||H.mask;G.layer&&z.set(G.layer,H);return H}if(G.blendMode==f.default.LM_PASSTHROUGH&&100==G.alpha&&null==G.mask)return G.layers;G.image=n();return G}function p(G){var H=
new c(b,e,G);z.set(G,H);return H}function u(G){if(0==G.getEffectiveAlpha())return null;for(var H=p(G),J=0;J<G.layers.length;J++){var N=G.layers[J],S=G.layers[J+1];if(N instanceof m.default&&S&&S.clip){S=new c(b,e,null);S.blendMode=N.blendMode;S.alpha=100;S.clip=!0;S.addChildren(p(N));for(J+=1;J<G.layers.length;J++)if(G.layers[J].clip)0<G.layers[J].getEffectiveAlpha()&&S.addChildren(p(G.layers[J]));else break;0<N.getEffectiveAlpha()&&H.addChildren(g(S));--J}else N instanceof x.default?H.addChildren(u(N)):
0<N.getEffectiveAlpha()&&H.addChildren(p(N))}return g(H)}function A(G,H){G&&(G.dirtyRect.union(H),A(G.parent,H))}function F(G){if(G.isGroup){G.image&&O.push(G.image);G=l(G.layers);var H;try{for(G.s();!(H=G.n()).done;)F(H.value)}catch(J){G.e(J)}finally{G.f()}}}function w(G){if(!G||!G.isGroup)return G;var H=G.dirtyRect,J=!0,N=!0;G.blendMode==f.default.LM_PASSTHROUGH&&G.parent&&H.union(G.parent.dirtyRect);if(H.isEmpty())return G;if(G.blendMode==f.default.LM_PASSTHROUGH&&G.parent){J=!1;var S=G.image,
ia=G.parent.image;H.getWidth()==S.width&&H.getHeight()==S.height?S.copyPixelsFrom(ia):f.default.replaceOntoFusionWithOpaqueLayer(S,ia,100,H)}for(S=0;S<G.layers.length;S++){var da=w(G.layers[S]);if(J){J=G.image;ia=da.image;var ta=da.alpha,oa=H;da=da.mask;if(100!=ta||da||oa.getWidth()!=J.width||oa.getHeight()!=J.height){var R="replaceOntoFusionWith";R=100==ta?R+"OpaqueLayer":R+"TransparentLayer";da&&(R+="Masked");f.default[R](J,ia,ta,oa,da)}else J.copyPixelsFrom(ia);J=!1}else N=N&&G.image.hasAlphaInRect(H),
f.default.fuseImageOntoImage(G.image,N,da.image,da.alpha,da.blendMode,H,da.mask)}G.clip&&(N=G.layers[0],100>N.alpha?N.mask?f.default.replaceAlphaOntoFusionWithTransparentLayerMasked(G.image,N.image,N.alpha,H,N.mask):f.default.replaceAlphaOntoFusionWithTransparentLayer(G.image,N.image,N.alpha,H):N.mask?f.default.replaceAlphaOntoFusionWithOpaqueLayerMasked(G.image,N.image,100,H,N.mask):f.default.replaceAlphaOntoFusionWithOpaqueLayer(G.image,N.image,100,H));G.dirtyRect.makeEmpty();return G}var I,O=[],
z=new Map;this.invalidateLayerRect=function(G,H){G=z.get(G);A(G,H)};this.buildTree=function(){if(!I){I=u(t);if(!I)I=new c(b,e,{image:n(),blendMode:f.default.LM_NORMAL,alpha:100,getEffectiveMask:function(){return null},visible:!0}),I.image.clearAll(0);else if(Array.isArray(I)||h&&(100>I.alpha||I.mask)){var G=I;I=new c(b,e);I.blendMode=Array.isArray(G)?f.default.LM_NORMAL:G.blendMode;I.alpha=100;I.image=n();I.addChildren(G)}O=[]}};this.resetTree=function(){I&&(F(I),I=null,z.clear())};this.layerPropertyChanged=
function(G,H){var J=z.get(G);J&&J.visible==G.visible&&J.alpha==G.alpha&&null==J.mask==(null==G.getEffectiveMask())&&J.blendMode==f.default.LM_PASSTHROUGH==(G.blendMode==f.default.LM_PASSTHROUGH)&&"clip"!==H?(J.blendMode=G.blendMode,A(J,new r.default(0,0,b,e))):this.resetTree()};this.blendTree=function(){return w(I)}};var f=y(k("./CPBlend.js"));k("./CPBlendAdditional.js");y(k("./CPLayer.js"));var x=y(k("./CPLayerGroup.js")),a=y(k("./CPColorBmp.js")),m=y(k("./CPImageLayer.js")),r=y(k("../util/CPRect.js"));
c.prototype.addChildren=function(t){var b=this;null!=t&&(Array.isArray(t)?(t.forEach(function(e){return e.parent=b}),this.layers=this.layers.concat(t)):(t.parent=this,this.layers.push(t)))};L.exports=C.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"./CPLayer.js":16,"./CPLayerGroup.js":17}],8:[function(k,L,C){function y(l){for(var v in y.DEFAULTS)y.DEFAULTS.hasOwnProperty(v)&&(this[v]=y.DEFAULTS[v]);for(v in l)l.hasOwnProperty(v)&&
(this[v]=l[v])}Object.defineProperty(C,"__esModule",{value:!0});C.default=y;y.STROKE_MODE_FREEHAND=0;y.STROKE_MODE_LINE=1;y.STROKE_MODE_BEZIER=2;y.TIP_ROUND_PIXEL=0;y.TIP_ROUND_AA=1;y.TIP_ROUND_AIRBRUSH=2;y.TIP_SQUARE_PIXEL=3;y.TIP_SQUARE_AA=4;y.BRUSH_MODE_PAINT=0;y.BRUSH_MODE_ERASE=1;y.BRUSH_MODE_DODGE=2;y.BRUSH_MODE_BURN=3;y.BRUSH_MODE_WATER=4;y.BRUSH_MODE_BLUR=5;y.BRUSH_MODE_SMUDGE=6;y.BRUSH_MODE_OIL=7;y.PAINT_MODE_OPACITY=0;y.PAINT_MODE_FLOW=1;y.DEFAULTS={isAA:!1,minSpacing:0,spacing:0,pressureSize:!0,
pressureAlpha:!1,pressureScattering:!1,alphaScale:1,tip:y.TIP_ROUND_PIXEL,brushMode:y.BRUSH_MODE_PAINT,paintMode:y.PAINT_MODE_OPACITY,strokeMode:y.STROKE_MODE_FREEHAND,resat:1,bleed:0,texture:1,size:0,curSize:0,alpha:0,curAlpha:0,scattering:0,curScattering:0,squeeze:0,curSqueeze:0,angle:Math.PI,curAngle:0,smoothing:0};y.prototype.applyPressure=function(l){this.curSize=this.pressureSize&&this.brushMode!=y.BRUSH_MODE_SMUDGE&&this.brushMode!=y.BRUSH_MODE_OIL?Math.max(.1,this.size*l):Math.max(.1,this.size);
16<this.curSize&&(this.curSize=Math.floor(this.curSize));this.curSize=Math.min(this.curSize,400);this.curAlpha=this.pressureAlpha?Math.floor(this.alpha*Math.min(l,1)):this.alpha;this.curSqueeze=this.squeeze;this.curAngle=this.angle;this.curScattering=this.scattering*this.curSize*(this.pressureScattering?l:1)};y.prototype.clone=function(){return new y(this)};L.exports=C.default},{}],9:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){function v(e){if(null!=x&&e.curSize==
a&&e.curSqueeze==m&&e.curAngle==r&&e.tip==t)return x;switch(e.tip){case y.default.TIP_ROUND_AIRBRUSH:for(var h=E,n=Math.ceil(e.curSize),g=n/2,p=e.curSize/2*(e.curSize/2),u=1+e.curSqueeze*l,A=Math.cos(e.curAngle),F=Math.sin(e.curAngle),w=0,I=0;I<n;I++)for(var O=0;O<n;O++){var z=O+.5-g,G=I+.5-g,H=(z*A-G*F)*u;z=G*A+z*F;H=H*H+z*z;H<=p?h[w++]=~~(255*(1-H/p)):h[w++]=0}break;case y.default.TIP_ROUND_AA:h=E;n=Math.ceil(e.curSize);g=n/2;p=e.curSize/2*(e.curSize/2);u=(e.curSize-2)/2*((e.curSize-2)/2);A=(e.curSize+
2)/2*((e.curSize+2)/2);F=1+e.curSqueeze*l;w=Math.cos(e.curAngle);I=Math.sin(e.curAngle);for(H=O=0;H<n;H++)for(z=0;z<n;z++){var J=z+.5-g,N=H+.5-g,S=(J*w-N*I)*F;J=N*w+J*I;S=S*S+J*J;if(S<=u)h[O++]=255;else if(S>A)h[O++]=0;else{for(var ia=G=0;4>ia;ia++)for(var da=0;4>da;da++)J=z+.25*da-g,N=H+.25*ia-g,S=(J*w-N*I)*F,J=N*w+J*I,S=S*S+J*J,S<=p&&(G+=1);h[O++]=Math.min(16*G,255)}}break;case y.default.TIP_ROUND_PIXEL:h=E;n=Math.ceil(e.curSize);g=n/2;p=e.curSize/2*(e.curSize/2);u=1+e.curSqueeze*l;A=Math.cos(e.curAngle);
F=Math.sin(e.curAngle);for(I=w=0;I<n;I++)for(O=0;O<n;O++)z=O+.5-g,G=I+.5-g,H=(z*A-G*F)*u,z=G*A+z*F,H*H+z*z<=p?h[w++]=255:h[w++]=0;break;case y.default.TIP_SQUARE_AA:h=E;n=Math.ceil(e.curSize);g=n/2;u=e.curSize*Math.sin(Math.PI/4);p=u/2/(1+e.curSqueeze*l);u/=2;A=p-1;F=u-1;w=p+1;I=u+1;O=Math.cos(e.curAngle);H=Math.sin(e.curAngle);for(G=z=0;G<n;G++)for(ia=0;ia<n;ia++){var ta=ia+.5-g,oa=G+.5-g;da=Math.abs(ta*O-oa*H);ta=Math.abs(oa*O+ta*H);if(da<=A&&ta<=F)h[z++]=255;else if(da>w||ta>I)h[z++]=0;else{for(J=
S=0;4>J;J++)for(N=0;4>N;N++)ta=ia+.25*N-g,oa=G+.25*J-g,da=Math.abs(ta*O-oa*H),ta=Math.abs(oa*O+ta*H),da<=p&&ta<=u&&S++;h[z++]=Math.min(16*S,255)}}break;case y.default.TIP_SQUARE_PIXEL:for(h=E,n=Math.ceil(e.curSize),g=n/2,u=e.curSize*Math.sin(Math.PI/4),p=u/2/(1+e.curSqueeze*l),u/=2,A=Math.cos(e.curAngle),F=Math.sin(e.curAngle),I=w=0;I<n;I++)for(O=0;O<n;O++)H=O+.5-g,z=I+.5-g,G=Math.abs(z*A+H*F),Math.abs(H*A-z*F)<=p&&G<=u?h[w++]=255:h[w++]=0}x=E;a=e.curSize;t=e.tip;m=e.curSqueeze;r=e.curAngle;return E}
var E=new Uint8Array(160801),c=new Uint8Array(161604),f=[new Float32Array(402),new Float32Array(402)],x=null,a,m,r,t,b=this;this.getDab=function(e,h,n){var g={alpha:n.curAlpha,width:Math.ceil(n.curSize),height:Math.ceil(n.curSize)},p=n.isAA&&n.tip!=y.default.TIP_ROUND_PIXEL;p&&(g.width++,g.height++);var u=e-g.width/2+.5,A=h-g.height/2+.5;h=Math.floor(u);e=Math.floor(A);if(p){var F=u-h,w=A-e;u=v(n);A=Math.ceil(n.curSize);p=Math.ceil(n.curSize)+1;var I=(1-F)*(1-w),O=F*(1-w),z=F*w,G=(1-F)*w,H=0;F=0;
w=f[0];var J=f[1],N;w.fill(0);for(var S=0;S<A;S++){for(N=J[0]=0;N<A;N++,H++,F++){var ia=u[H];c[F]=w[N]+ia*I+.5|0;w[N+1]+=ia*O;J[N]+=ia*G;J[N+1]=ia*z}c[F++]=w[N]+.5|0;N=w;w=J;J=N}for(u=0;u<p;u++,F++)c[F]=w[u]+.5|0;g.brush=c}else g.brush=v(n);g.x=h;g.y=e;if(0<n.texture&&null!=this.texture)for(g.brush==E&&(c.set(E),g.brush=c),n=Math.floor(255*n.texture),h=b.texture,e=g.x%h.width,p=g.y%h.height,u=0,0>e&&(e+=h.width),0>p&&(p+=h.height),O=0;O<g.height;O++){A=p*h.width+e;I=p*h.width+h.width;for(z=0;z<g.width;z++)g.brush[u]=
~~(g.brush[u]*(h.data[A]*n/255^255)/255),u++,A++,A==I&&(A-=h.width);p++;p==h.height&&(p=0)}return g};this.setTexture=function(e){this.texture=e}};var y=function(v){return v&&v.__esModule?v:{default:v}}(k("./CPBrushInfo.js")),l=10;L.exports=C.default},{"./CPBrushInfo.js":8}],10:[function(k,L,C){function y(A){return A&&A.__esModule?A:{default:A}}function l(A){"@babel/helpers - typeof";return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&
"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},l(A)}function v(A,F){if("function"!==typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(F&&F.prototype,{constructor:{value:A,writable:!0,configurable:!0}});Object.defineProperty(A,"prototype",{writable:!1});F&&E(A,F)}function E(A,F){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,I){w.__proto__=I;return w};return E(A,F)}function c(A){var F=
f();return function(){var w=x(A);if(F){var I=x(this).constructor;w=Reflect.construct(w,arguments,I)}else w=w.apply(this,arguments);if(!w||"object"!==l(w)&&"function"!==typeof w){if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");w=this}return w}}function f(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===
typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}function x(A){x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)};return x(A)}function a(A,F){if(!(A instanceof F))throw new TypeError("Cannot call a class as a function");}function m(A,F){for(var w=0;w<F.length;w++){var I=F[w];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);var O=Object,
z=O.defineProperty;a:{var G=I.key;if("object"===l(G)&&null!==G){var H=G[Symbol.toPrimitive];if(void 0!==H){G=H.call(G,"string");if("object"!==l(G))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}G=String(G)}}G="symbol"===l(G)?G:String(G);z.call(O,A,G,I)}}function r(A,F,w){F&&m(A.prototype,F);w&&m(A,w);Object.defineProperty(A,"prototype",{writable:!1});return A}function t(A){for(var F=0,w=0;w<A.length;w++)F+=A[w];return F/A.length}function b(A){for(var F=new p.default(0,
0,0),w=0;w<A.length;w++){var I=A[w];F.r+=I.r;F.g+=I.g;F.b+=I.b}F.r/=A.length;F.g/=A.length;F.b/=A.length;return F}function e(A,F){var w=A.data;if(0<F.left)for(var I=F.top;I<F.bottom;I++){var O=I*A.width,z=O;O=w[O+F.left];for(var G=0;G<F.left;G++,z++)w[z]=O}if(F.right<A.width)for(I=F.top;I<F.bottom;I++)for(z=I*A.width+F.right,O=w[z-1],G=F.right;G<A.width;G++,z++)w[z]=O;for(z=I=0;z<F.top;z++)for(O=F.top*A.width,G=0;G<A.width;G++,O++,I++)w[I]=w[O];I=F.bottom*A.width;for(z=F.bottom;z<A.width;z++)for(O=
(F.bottom-1)*A.width,G=0;G<A.width;G++,O++,I++)w[I]=w[O]}Object.defineProperty(C,"__esModule",{value:!0});C.CPBrushToolWatercolor=C.CPBrushToolSmudge=C.CPBrushToolOil=C.CPBrushToolEraser=C.CPBrushToolDodge=C.CPBrushToolBurn=C.CPBrushToolBlur=C.CPBrushTool=void 0;var h=y(k("./CPColorBmp.js")),n=y(k("./CPGreyBmp.js")),g=y(k("./CPBrushInfo.js")),p=y(k("../util/CPColorFloat.js"));k=C.CPBrushTool=function(){function A(F,w){a(this,A);this._strokeBuffer=F;this._strokedRegion=w;this.wantsOutputAsInput=!0}
r(A,[{key:"paintDab",value:function(F,w,I,O,z,G,H){F=Math.max(1,Math.ceil(G.alpha*O.alphaScale));switch(O.paintMode){case g.default.PAINT_MODE_FLOW:this._paintFlow(z,w,G.brush,G.width,F);break;case g.default.PAINT_MODE_OPACITY:this._paintOpacity(z,w,G.brush,G.width,F)}}},{key:"mergeOntoImage",value:function(F,w,I){var O=this._strokeBuffer.data,z=this._strokedRegion;w=w.data;var G=F.data,H=I>>16&255,J=I>>8&255;I&=255;var N=z.getWidth()|0,S=z.getHeight()|0,ia=this._strokeBuffer.offsetOfPixel(z.left,
z.top);z=F.offsetOfPixel(z.left,z.top);var da=this._strokeBuffer.width-N|0;F=(F.width-N)*h.default.BYTES_PER_PIXEL|0;for(var ta=0;ta<S;ta++,ia+=da,z+=F)for(var oa=0;oa<N;oa++,ia++,z+=h.default.BYTES_PER_PIXEL){var R=O[ia]/255+.5|0;if(0<R){var pa=R+w[z+h.default.ALPHA_BYTE_OFFSET]*(255-R)/255|0;R=255*R/pa|0;var ja=255-R;G[z]=(H*R+w[z]*ja)/255&255;G[z+1]=(J*R+w[z+1]*ja)/255&255;G[z+2]=(I*R+w[z+2]*ja)/255&255;G[z+3]=pa}}}},{key:"mergeOntoMask",value:function(F,w,I){var O=this._strokeBuffer.data,z=this._strokedRegion;
w=w.data;var G=F.data,H=z.getWidth()|0,J=z.getHeight()|0,N=F.offsetOfPixel(z.left,z.top);z=this._strokeBuffer.offsetOfPixel(z.left,z.top);var S=this._strokeBuffer.width-H|0;F=F.width-H|0;for(var ia=0;ia<J;ia++,z+=S,N+=F)for(var da=0;da<H;da++,z++,N++){var ta=O[z]/255|0;0<ta&&(G[N]=(I*ta+w[N]*(255-ta))/255)}}},{key:"_paintFlow",value:function(F,w,I,O,z){var G=this._strokeBuffer.data;F=F.left+F.top*O;var H=this._strokeBuffer.offsetOfPixel(w.left,w.top),J=w.getHeight(),N=w.getWidth();O-=N;var S=this._strokeBuffer.width-
N;this._strokedRegion.union(w);for(w=0;w<J;w++,F+=O,H+=S)for(var ia=0;ia<N;ia++,F++,H++){var da=I[F]*z;0!=da&&(G[H]=Math.min(65025,G[H]+(255-G[H]/255)*da/255))}}},{key:"_paintOpacity",value:function(F,w,I,O,z){var G=this._strokeBuffer.data;F=F.left+F.top*O;var H=this._strokeBuffer.offsetOfPixel(w.left,w.top),J=w.getWidth();O-=J;var N=this._strokeBuffer.width-J;z=Math.min(255,z);this._strokedRegion.union(w);for(var S=w.top;S<w.bottom;S++,F+=O,H+=N)for(var ia=0;ia<J;ia++,F++,H++)G[H]=Math.max(I[F]*
z,G[H])}},{key:"beginStroke",value:function(){}},{key:"endStroke",value:function(){}}]);return A}();C.CPBrushToolEraser=function(A){function F(){a(this,F);return w.apply(this,arguments)}v(F,A);var w=c(F);r(F,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;for(var H=I.data,J=G.top;J<G.bottom;J++)for(var N=I.offsetOfPixel(G.left,J)+h.default.ALPHA_BYTE_OFFSET,S=this._strokeBuffer.offsetOfPixel(G.left,J),ia=G.left;ia<G.right;ia++,N+=h.default.BYTES_PER_PIXEL){var da=
z[S++]/255|0;0<da&&(H[N]=O[N]*(255-da)/255)}}}]);return F}(k);C.CPBrushToolDodge=function(A){function F(){a(this,F);return w.apply(this,arguments)}v(F,A);var w=c(F);r(F,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),J=G.getHeight(),N=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var S=(I.width-H)*h.default.BYTES_PER_PIXEL,ia=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var da=0;da<J;da++,G+=ia,N+=
S)for(var ta=0;ta<H;ta++,G++,N+=h.default.BYTES_PER_PIXEL){var oa=z[G]/255|0;0<oa&&0!=O[N+h.default.ALPHA_BYTE_OFFSET]&&(oa=(oa+255)/255,I[N+h.default.RED_BYTE_OFFSET]=O[N+h.default.RED_BYTE_OFFSET]*oa,I[N+h.default.GREEN_BYTE_OFFSET]=O[N+h.default.GREEN_BYTE_OFFSET]*oa,I[N+h.default.BLUE_BYTE_OFFSET]=O[N+h.default.BLUE_BYTE_OFFSET]*oa)}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),J=G.getHeight(),N=I.offsetOfPixel(G.left,G.top);G=
this._strokeBuffer.offsetOfPixel(G.left,G.top);var S=I.width-H,ia=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var da=0;da<J;da++,G+=ia,N+=S)for(var ta=0;ta<H;ta++,G++,N++){var oa=z[G]/255|0;0<oa&&(I[N]=Math.min((oa+255)/255*O[N],255))}}}]);return F}(k);C.CPBrushToolBurn=function(A){function F(){a(this,F);return w.apply(this,arguments)}v(F,A);var w=c(F);r(F,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),J=G.getHeight(),N=I.offsetOfPixel(G.left,
G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var S=(I.width-H)*h.default.BYTES_PER_PIXEL,ia=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var da=0;da<J;da++,G+=ia,N+=S)for(var ta=0;ta<H;ta++,G++,N+=h.default.BYTES_PER_PIXEL){var oa=z[G]/255|0;0<oa&&0!=O[N+h.default.ALPHA_BYTE_OFFSET]&&(I[N+h.default.RED_BYTE_OFFSET]=O[N+h.default.RED_BYTE_OFFSET]-(260-O[N+h.default.RED_BYTE_OFFSET])*oa/255|0,I[N+h.default.GREEN_BYTE_OFFSET]=O[N+h.default.GREEN_BYTE_OFFSET]-(260-O[N+h.default.GREEN_BYTE_OFFSET])*
oa/255|0,I[N+h.default.BLUE_BYTE_OFFSET]=O[N+h.default.BLUE_BYTE_OFFSET]-(260-O[N+h.default.BLUE_BYTE_OFFSET])*oa/255|0)}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),J=G.getHeight(),N=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var S=I.width-H,ia=this._strokeBuffer.width-H;O=O.data;I=I.data;for(var da=0;da<J;da++,G+=ia,N+=S)for(var ta=0;ta<H;ta++,G++,N++){var oa=z[G]/255|0;0<oa&&(I[N]=Math.max(O[N]-
(260-O[N])*oa/255,0))}}}]);return F}(k);C.CPBrushToolBlur=function(A){function F(){a(this,F);return w.apply(this,arguments)}v(F,A);var w=c(F);r(F,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=O.data;I=I.data;var J=G.getWidth(),N=O.width*h.default.BYTES_PER_PIXEL,S=O.offsetOfPixel(G.left,G.top),ia=this._strokeBuffer.offsetOfPixel(G.left,G.top),da=(O.width-J)*h.default.BYTES_PER_PIXEL;J=this._strokeBuffer.width-J;for(var ta,oa,R,pa,ja=function(Qa){ta+=
H[Qa+h.default.RED_BYTE_OFFSET];oa+=H[Qa+h.default.GREEN_BYTE_OFFSET];R+=H[Qa+h.default.BLUE_BYTE_OFFSET];pa+=H[Qa+h.default.ALPHA_BYTE_OFFSET]},za=G.top;za<G.bottom;za++,S+=da,ia+=J)for(var ua=G.left;ua<G.right;ua++,S+=h.default.BYTES_PER_PIXEL,ia++){var Ha=z[ia]/255|0;if(0<Ha){Ha=64+-63*Ha/255|0;var ra=Ha+4;ta=Ha*H[S+h.default.RED_BYTE_OFFSET];oa=Ha*H[S+h.default.GREEN_BYTE_OFFSET];R=Ha*H[S+h.default.BLUE_BYTE_OFFSET];pa=Ha*H[S+h.default.ALPHA_BYTE_OFFSET];ja(0<za?S-N:S);ja(za<O.height-1?S+N:S);
ja(0<ua?S-h.default.BYTES_PER_PIXEL:S);ja(ua<O.width-1?S+h.default.BYTES_PER_PIXEL:S);pa/=ra;ta/=ra;oa/=ra;R/=ra;I[S+h.default.RED_BYTE_OFFSET]=ta|0;I[S+h.default.GREEN_BYTE_OFFSET]=oa|0;I[S+h.default.BLUE_BYTE_OFFSET]=R|0;I[S+h.default.ALPHA_BYTE_OFFSET]=pa|0}}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion,H=O.data;I=I.data;var J=G.getWidth(),N=O.width,S=O.offsetOfPixel(G.left,G.top),ia=this._strokeBuffer.offsetOfPixel(G.left,G.top),da=O.width-J;
J=this._strokeBuffer.width-J;for(var ta,oa=G.top;oa<G.bottom;oa++,S+=da,ia+=J)for(var R=G.left;R<G.right;R++,S++,ia++){var pa=z[ia]/255|0;0<pa&&(ta=64+-63*pa/255|0,pa=ta+4,ta*=H[S],ta+=H[0<oa?S-N:S],ta+=H[oa<O.height-1?S+N:S],ta+=H[0<R?S-1:S],ta+=H[R<O.width-1?S+1:S],I[S]=ta/pa|0)}}}]);return F}(k);k=function(A){function F(){a(this,F);return w.apply(this,arguments)}v(F,A);var w=c(F);r(F,[{key:"mergeOntoImage",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;var H=
I.data,J=this._strokeBuffer.offsetOfPixel(G.left,G.top),N=I.offsetOfPixel(G.left,G.top),S=G.getWidth()|0;G=G.getHeight()|0;var ia=this._strokeBuffer.width-S|0;I=(I.width-S)*h.default.BYTES_PER_PIXEL|0;for(var da=0;da<G;da++,J+=ia,N+=I)for(var ta=0;ta<S;ta++,J++,N+=h.default.BYTES_PER_PIXEL){var oa=z[J],R=oa>>>24;if(0<R){var pa=O[N+h.default.ALPHA_BYTE_OFFSET];pa=R+pa-R*pa/255|0;R=255*R/pa|0;var ja=255-R;H[N]=((oa>>16&255)*R+O[N]*ja)/255|0;H[N+1]=((oa>>8&255)*R+O[N+1]*ja)/255|0;H[N+2]=((oa&255)*R+
O[N+2]*ja)/255|0;H[N+3]=pa}}}},{key:"mergeOntoMask",value:function(I,O,z){z=this._strokeBuffer.data;var G=this._strokedRegion;O=O.data;var H=I.data,J=this._strokeBuffer.offsetOfPixel(G.left,G.top),N=I.offsetOfPixel(G.left,G.top),S=G.getWidth()|0;G=G.getHeight()|0;var ia=this._strokeBuffer.width-S|0;I=I.width-S|0;for(var da=0;da<G;da++,J+=ia,N+=I)for(var ta=0;ta<S;ta++,J++,N++){var oa=z[J],R=oa>>8;0<R&&(H[N]=((oa&255)*R+O[N]*(255-R))/255|0)}}}]);return F}(k);var u=2/6;C.CPBrushToolWatercolor=function(A){function F(I,
O){a(this,F);I=w.call(this,I,O);I.wantsOutputAsInput=!0;return I}v(F,A);var w=c(F);r(F,[{key:"_paintToColorStrokeBuffer",value:function(I,O,z,G,H,J){var N=this._strokeBuffer.data,S=O.getWidth(),ia=O.getHeight(),da=this._strokeBuffer.width-S,ta=G-S;I=I.left+I.top*G;G=this._strokeBuffer.offsetOfPixel(O.left,O.top);this._strokedRegion.union(O);for(O=0;O<ia;O++,I+=ta,G+=da)for(var oa=0;oa<S;oa++,I++,G++){var R=z[I]*H/255|0;if(0<R){var pa=N[G],ja=pa>>>24;ja=R+ja-R*ja/255|0;R=255-(255*R/ja|0);N[G]=ja<<
24|(J>>16&255)+((pa>>16&255)*R-(J>>16&255)*R)/255<<16|(J>>8&255)+((pa>>8&255)*R-(J>>8&255)*R)/255<<8|(J&255)+((pa&255)*R-(J&255)*R)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,O,z,G,H,J){var N=this._strokeBuffer.data;this._strokedRegion.union(O);for(var S=O.top,ia=I.top;S<O.bottom;S++,ia++)for(var da=I.left+ia*G,ta=this._strokeBuffer.offsetOfPixel(O.left,S),oa=O.left;oa<O.right;oa++,da++,ta++){var R=z[da]*H/255|0;if(!(0>=R)){var pa=N[ta],ja=pa>>8;ja=R+ja-R*ja/255|0;0<ja&&(R=255-
(255*R/ja|0),N[ta]=ja<<8|J+((pa&255)*R-J*R)/255)}}}},{key:"beginStroke",value:function(){this._previousSamples=null}},{key:"paintDab",value:function(I,O,z,G,H,J,N){I=Math.max(1,J.alpha/4);var S=(O.left+O.right)/2,ia=(O.top+O.bottom)/2,da=Math.max(1,Math.min(64,O.getWidth()*u)),ta=Math.max(1,Math.min(64,O.getHeight()*u));if(z instanceof n.default){null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(F._sampleGrey(z,S,ia,da,ta)));var oa=t(this._previousSamples),R=
G.resat*G.resat;N=oa=oa*(1-R)+(N&255)*R;z=F._sampleGrey(z,S,ia,da,ta);G=G.bleed;this._previousSamples.push(oa*(1-G)+z*G);this._previousSamples.shift();this._paintToGreyscaleStrokeBuffer(H,O,J.brush,J.width,I,Math.round(N))}else null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(F._sampleRGB(z,S,ia,da,ta))),oa=b(this._previousSamples),oa.mixWith(p.default.createFromInt(N),G.resat*G.resat),N=oa.toInt(),oa.mixWith(F._sampleRGB(z,S,ia,da,ta),G.bleed),this._previousSamples.push(oa),
this._previousSamples.shift(),this._paintToColorStrokeBuffer(H,O,J.brush,J.width,I,N)}}],[{key:"_sampleGrey",value:function(I,O,z,G,H){O|=0;z|=0;for(var J=[{x:O,y:z}],N=.25;1.001>N;N+=.25)Array.prototype.push.apply(J,[{x:~~(O+N*G),y:z},{x:~~(O-N*G),y:z},{x:O,y:~~(z+N*H)},{x:O,y:~~(z-N*H)},{x:~~(O+.7*N*G),y:~~(z+.7*N*H)},{x:~~(O+.7*N*G),y:~~(z-.7*N*H)},{x:~~(O-.7*N*G),y:~~(z+.7*N*H)},{x:~~(O-.7*N*G),y:~~(z-.7*N*H)}]);return t(J.map(function(S){return I.getPixel(S.x,S.y)}))}},{key:"_sampleRGB",value:function(I,
O,z,G,H){O|=0;z|=0;for(var J=[{x:O,y:z}],N=.25;1.001>N;N+=.25)Array.prototype.push.apply(J,[{x:~~(O+N*G),y:z},{x:~~(O-N*G),y:z},{x:O,y:~~(z+N*H)},{x:O,y:~~(z-N*H)},{x:~~(O+.7*N*G),y:~~(z+.7*N*H)},{x:~~(O+.7*N*G),y:~~(z-.7*N*H)},{x:~~(O-.7*N*G),y:~~(z+.7*N*H)},{x:~~(O-.7*N*G),y:~~(z-.7*N*H)}]);return b(J.map(function(S){return p.default.createFromInt(I.getPixel(S.x,S.y))}))}}]);return F}(k);C.CPBrushToolOil=function(A){function F(I,O){a(this,F);I=w.call(this,I,O);I.wantsOutputAsInput=!0;return I}v(F,
A);var w=c(F);r(F,[{key:"_accumulatePaintFromMask",value:function(I,O,z,G){var H=this._brushBuffer.data,J=I.data,N=z.getWidth(),S=z.getHeight();O=O.left+O.top*this._brushBuffer.width;z=I.offsetOfPixel(z.left,z.top);var ia=this._brushBuffer.width-N;I=I.width-N;if(!(0>=G))for(var da=0;da<S;da++,O+=ia,z+=I)for(var ta=0;ta<N;ta++,O++,z++){var oa=J[z],R=H[O],pa=R>>8;pa=G+pa-G*pa/255|0;var ja=255-(255*G/pa|0);H[O]=pa<<8|oa+((R&255)*ja-oa*ja)/255}}},{key:"_resaturateBrushWithGrey",value:function(I,O,z){if(!(0>=
O)){var G=this._brushBuffer.data,H=I.getWidth(),J=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var N=this._brushBuffer.width-H,S=0;S<J;S++,I+=N)for(var ia=0;ia<H;ia++,I++){var da=G[I],ta=da>>8;ta=O+ta-O*ta/255|0;var oa=255-(255*O/ta|0);G[I]=ta<<8|z+((da&255)*oa-z*oa)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,O,z,G,H){var J=this._strokeBuffer.data,N=this._brushBuffer.data,S=I.data;this._strokedRegion.union(z);for(var ia=z.top,da=O.top;ia<z.bottom;ia++,da++)for(var ta=
this._brushBuffer.offsetOfPixel(O.left,da),oa=this._strokeBuffer.offsetOfPixel(z.left,ia),R=I.offsetOfPixel(z.left,ia),pa=z.left;pa<z.right;pa++,ta++,R++,oa++){var ja=N[ta],za=(ja>>8)*G[ta]*H/65025|0;0<za&&(za=255-za,J[oa]=65280|(ja&255)+(S[R]*za-(ja&255)*za)/255)}}},{key:"_accumulatePaintFromImage",value:function(I,O,z,G){var H=this._brushBuffer.data,J=I.data,N=z.getWidth(),S=z.getHeight();O=O.left+O.top*this._brushBuffer.width;z=I.offsetOfPixel(z.left,z.top);var ia=this._brushBuffer.width-N;I=(I.width-
N)*h.default.BYTES_PER_PIXEL;for(var da=0;da<S;da++,O+=ia,z+=I)for(var ta=0;ta<N;ta++,O++,z+=h.default.BYTES_PER_PIXEL){var oa=J[z+h.default.ALPHA_BYTE_OFFSET]*G/255|0;if(0<oa){var R=H[O],pa=R>>>24;pa=oa+pa-oa*pa/255|0;oa=255-(255*oa/pa|0);var ja=J[z+h.default.RED_BYTE_OFFSET],za=J[z+h.default.GREEN_BYTE_OFFSET],ua=J[z+h.default.BLUE_BYTE_OFFSET];H[O]=pa<<24|ja+((R>>16&255)*oa-ja*oa)/255<<16|za+((R>>8&255)*oa-za*oa)/255<<8|ua+((R&255)*oa-ua*oa)/255}}}},{key:"_resaturateBrushWithColor",value:function(I,
O,z){if(!(0>=O)){var G=this._brushBuffer.data,H=I.getWidth(),J=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var N=this._brushBuffer.width-H,S=0;S<J;S++,I+=N)for(var ia=0;ia<H;ia++,I++){var da=G[I],ta=da>>>24;ta=O+ta-O*ta/255|0;var oa=255-(255*O/ta|0);G[I]=ta<<24|(z>>>16&255)+((da>>>16&255)*oa-(z>>>16&255)*oa)/255<<16|(z>>>8&255)+((da>>>8&255)*oa-(z>>>8&255)*oa)/255<<8|(z&255)+((da&255)*oa-(z&255)*oa)/255}}}},{key:"_paintToColorStrokeBuffer",value:function(I,O,z,G,H){var J=this._strokeBuffer.data,
N=this._brushBuffer.data,S=I.data;this._strokedRegion.union(z);for(var ia=z.top,da=O.top;ia<z.bottom;ia++,da++)for(var ta=this._brushBuffer.offsetOfPixel(O.left,da),oa=this._strokeBuffer.offsetOfPixel(z.left,ia),R=I.offsetOfPixel(z.left,ia),pa=z.left;pa<z.right;pa++,ta++,R+=h.default.BYTES_PER_PIXEL,oa++){var ja=N[ta],za=(ja>>>24)*G[ta]*H/65025|0;if(0<za){var ua=S[R+h.default.ALPHA_BYTE_OFFSET];ua=za+ua-za*ua/255|0;za=255-(255*za/ua|0);J[oa]=ua<<24|(ja>>16&255)+(S[R+h.default.RED_BYTE_OFFSET]*za-
(ja>>16&255)*za)/255<<16|(ja>>8&255)+(S[R+h.default.GREEN_BYTE_OFFSET]*za-(ja>>8&255)*za)/255<<8|(ja&255)+(S[R+h.default.BLUE_BYTE_OFFSET]*za-(ja&255)*za)/255}}}},{key:"paintDab",value:function(I,O,z,G,H,J,N){I instanceof h.default?null==this._brushBuffer?(this._brushBuffer=new n.default(J.width,J.height,32),this._accumulatePaintFromImage(z,H,O,255)):(this._resaturateBrushWithColor(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),N&16777215),this._paintToColorStrokeBuffer(I,H,O,J.brush,J.alpha),
this._accumulatePaintFromImage(z,H,O,~~(255*G.bleed))):null==this._brushBuffer?(this._brushBuffer=new n.default(J.width,J.height,16),this._accumulatePaintFromMask(z,H,O,255)):(this._resaturateBrushWithGrey(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),N&255),this._paintToGreyscaleStrokeBuffer(I,H,O,J.brush,J.alpha),this._accumulatePaintFromMask(z,H,O,~~(255*G.bleed)))}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return F}(k);C.CPBrushToolSmudge=function(A){function F(I,O){a(this,
F);I=w.call(this,I,O);I._brushBuffer=null;I.wantsOutputAsInput=!0;I.noMergePhase=!0;return I}v(F,A);var w=c(F);r(F,[{key:"_sampleFromMask",value:function(I,O,z,G){var H=this._brushBuffer.data,J=O.getWidth(),N=O.getHeight(),S=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var ia=this._brushBuffer.width-J,da=I.width-J,ta=255-G;if(255!=G){for(var oa=0;oa<N;oa++,S+=ia,z+=da)for(var R=0;R<J;R++,S++,z++){var pa=I.data[z],ja=H[S],za=(pa*ta+(ja&255)*G)/255,ua=(255*ta+(ja>>8)*
G)/255<<8|za;ua==ja&&(pa>za?ua++:pa<za&&ua--);H[S]=ua}e(this._brushBuffer,O)}}},{key:"_paintToMask",value:function(I,O,z,G){var H=O.getWidth(),J=O.getHeight();O=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var N=this._brushBuffer.width-H,S=I.width-H;I=I.data;for(var ia=this._brushBuffer.data,da=0;da<J;da++,z+=S,O+=N)for(var ta=0;ta<H;ta++,O++,z++){var oa=ia[O],R=oa&255;0<((oa>>8)*G[O]/255|0)&&(I[z]=R)}}},{key:"_sampleFromImage",value:function(I,O,z,G){var H=this._brushBuffer.data,
J=O.getWidth(),N=O.getHeight(),S=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var ia=this._brushBuffer.width-J,da=(I.width-J)*h.default.BYTES_PER_PIXEL,ta=255-G;if(255!=G){for(var oa=0;oa<N;oa++,S+=ia,z+=da)for(var R=0;R<J;R++,S++,z+=h.default.BYTES_PER_PIXEL){var pa=I.data[z+h.default.RED_BYTE_OFFSET],ja=I.data[z+h.default.GREEN_BYTE_OFFSET],za=I.data[z+h.default.BLUE_BYTE_OFFSET],ua=H[S],Ha=(I.data[z+h.default.ALPHA_BYTE_OFFSET]*ta+(ua>>24&255)*G)/255<<24&4278190080|
(pa*ta+(ua>>16&255)*G)/255<<16&16711680|(ja*ta+(ua>>8&255)*G)/255<<8&65280|(za*ta+(ua&255)*G)/255&255;if(Ha==ua){ua=(Ha&16711680)>>16;var ra=(Ha&65280)>>8,Qa=Ha&255;pa>ua?Ha+=65536:pa<ua&&(Ha-=65536);ja>ra?Ha+=256:ja<ra&&(Ha-=256);za>Qa?Ha+=1:za<Qa&&--Ha}H[S]=Ha}e(this._brushBuffer,O)}}},{key:"_paintToImage",value:function(I,O,z,G){var H=O.getWidth(),J=O.getHeight();O=this._brushBuffer.offsetOfPixel(O.left,O.top);z=I.offsetOfPixel(z.left,z.top);var N=this._brushBuffer.width-H,S=(I.width-H)*h.default.BYTES_PER_PIXEL;
I=I.data;for(var ia=this._brushBuffer.data,da=0;da<J;da++,z+=S,O+=N)for(var ta=0;ta<H;ta++,O++,z+=h.default.BYTES_PER_PIXEL){var oa=ia[O];0<((oa>>>24)*G[O]/255|0)&&(I[z+h.default.RED_BYTE_OFFSET]=oa>>16&255,I[z+h.default.GREEN_BYTE_OFFSET]=oa>>8&255,I[z+h.default.BLUE_BYTE_OFFSET]=oa&255,I[z+h.default.ALPHA_BYTE_OFFSET]=oa>>24&255)}}},{key:"paintDab",value:function(I,O,z,G,H,J,N){I instanceof h.default?null==this._brushBuffer?(this._brushBuffer=new n.default(J.width,J.height,32),this._sampleFromImage(z,
H,O,0)):(this._sampleFromImage(z,H,O,J.alpha),this._paintToImage(I,H,O,J.brush)):null==this._brushBuffer?(this._brushBuffer=new n.default(J.width,J.height,16),this._sampleFromMask(z,H,O,0)):(this._sampleFromMask(z,H,O,J.alpha),this._paintToMask(I,H,O,J.brush))}},{key:"mergeOntoImage",value:function(I,O,z){}},{key:"mergeOntoMask",value:function(I,O,z){}},{key:"beginStroke",value:function(){this._brushBuffer=null}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return F}(k)},{"../util/CPColorFloat.js":59,
"./CPBrushInfo.js":8,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],11:[function(k,L,C){function y(Na){return Na&&Na.__esModule?Na:{default:Na}}function l(Na,sa){var Oa="undefined"!==typeof Symbol&&Na[Symbol.iterator]||Na["@@iterator"];if(!Oa){if(Array.isArray(Na)||(Oa=v(Na))||sa&&Na&&"number"===typeof Na.length){Oa&&(Na=Oa);var Ka=0;sa=function(){};return{s:sa,n:function(){return Ka>=Na.length?{done:!0}:{done:!1,value:Na[Ka++]}},e:function(fa){throw fa;},f:sa}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var bb=!0,V=!1,ca;return{s:function(){Oa=Oa.call(Na)},n:function(){var fa=Oa.next();bb=fa.done;return fa},e:function(fa){V=!0;ca=fa},f:function(){try{bb||null==Oa.return||Oa.return()}finally{if(V)throw ca;}}}}function v(Na,sa){if(Na){if("string"===typeof Na)return E(Na,sa);var Oa=Object.prototype.toString.call(Na).slice(8,-1);"Object"===Oa&&Na.constructor&&(Oa=Na.constructor.name);if("Map"===Oa||"Set"===Oa)return Array.from(Na);if("Arguments"===Oa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oa))return E(Na,
sa)}}function E(Na,sa){if(null==sa||sa>Na.length)sa=Na.length;for(var Oa=0,Ka=Array(sa);Oa<sa;Oa++)Ka[Oa]=Na[Oa];return Ka}function c(){c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(Na,sa,Oa){var Ka;for(Ka=Na;!Object.prototype.hasOwnProperty.call(Ka,sa)&&(Ka=r(Ka),null!==Ka););if(Ka)return Ka=Object.getOwnPropertyDescriptor(Ka,sa),Ka.get?Ka.get.call(3>arguments.length?Na:Oa):Ka.value};return c.apply(this,arguments)}function f(Na,sa){if("function"!==typeof sa&&null!==sa)throw new TypeError("Super expression must either be null or a function");
Na.prototype=Object.create(sa&&sa.prototype,{constructor:{value:Na,writable:!0,configurable:!0}});Object.defineProperty(Na,"prototype",{writable:!1});sa&&x(Na,sa)}function x(Na,sa){x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Oa,Ka){Oa.__proto__=Ka;return Oa};return x(Na,sa)}function a(Na){var sa=m();return function(){var Oa=r(Na);if(sa){var Ka=r(this).constructor;Oa=Reflect.construct(Oa,arguments,Ka)}else Oa=Oa.apply(this,arguments);if(!Oa||"object"!==t(Oa)&&"function"!==typeof Oa){if(void 0!==
Oa)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Oa=this}return Oa}}function m(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Na){return!1}}function r(Na){r=Object.setPrototypeOf?Object.getPrototypeOf.bind():
function(sa){return sa.__proto__||Object.getPrototypeOf(sa)};return r(Na)}function t(Na){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(sa){return typeof sa}:function(sa){return sa&&"function"==typeof Symbol&&sa.constructor===Symbol&&sa!==Symbol.prototype?"symbol":typeof sa},t(Na)}function b(Na,sa){if(!(Na instanceof sa))throw new TypeError("Cannot call a class as a function");}function e(Na,sa){for(var Oa=0;Oa<sa.length;Oa++){var Ka=sa[Oa];
Ka.enumerable=Ka.enumerable||!1;Ka.configurable=!0;"value"in Ka&&(Ka.writable=!0);var bb=Object,V=bb.defineProperty;a:{var ca=Ka.key;if("object"===t(ca)&&null!==ca){var fa=ca[Symbol.toPrimitive];if(void 0!==fa){ca=fa.call(ca,"string");if("object"!==t(ca))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}ca=String(ca)}}ca="symbol"===t(ca)?ca:String(ca);V.call(bb,Na,ca,Ka)}}function h(Na,sa,Oa){sa&&e(Na.prototype,sa);Oa&&e(Na,Oa);Object.defineProperty(Na,"prototype",{writable:!1});
return Na}function n(Na){this.version=Na.readU32BE();this.width=Na.readU32BE();this.height=Na.readU32BE();this.layersNb=Na.readU32BE()}function g(Na){for(var sa=Array(4),Oa=0;Oa<sa.length;Oa++)sa[Oa]=String.fromCharCode(Na.readByte());this.chunkType=sa.join("");this.chunkSize=Na.readU32BE();if(Na.eof)throw"Truncated chunk";}function p(Na){return{major:Na>>16&65535,minor:Na&65535}}function u(Na){Na=p(Na);return 0===Na.major&&0===Na.minor?"ChibiPaint v0.0":"ChickenPaint v"+Na.major+"."+Na.minor}function A(Na){Na=
l(Na.getLayersRoot().getLinearizedLayerList(!1));var sa;try{for(Na.s();!(sa=Na.n()).done;){var Oa=sa.value;if(Oa instanceof J.default||Oa.mask||Oa.clip||Oa.blendMode>S.default.LM_LAST_CHIBIPAINT||Oa.blendMode===S.default.LM_MULTIPLY)return da<<16|ta}}catch(Ka){Na.e(Ka)}finally{Na.f()}return 0}function F(Na,sa){var Oa=new Uint8Array(g.HEADER_LENGTH+sa);Oa=new H.default(Oa);Oa.writeString(Na);Oa.writeU32BE(sa);return Oa}function w(Na,sa,Oa){var Ka=F(pa,n.FIXED_HEADER_LENGTH);Ka.writeU32BE(sa);Ka.writeU32BE(Na.width);
Ka.writeU32BE(Na.height);Ka.writeU32BE(Oa);return Ka.getAsDataArray()}function I(Na){for(var sa=0;sa<R.length;sa++)if(Na[sa]!=R.charCodeAt(sa))return!1;return!0}Object.defineProperty(C,"__esModule",{value:!0});C.load=function(Na,sa){function Oa(na){var X=Ga;if(null===X||0===X.length)Ga=na;else if(null===na||0===na.length)Ga=X;else{var aa=new Uint8Array(X.length+na.length);aa.set(X,0);aa.set(na,X.length);Ga=aa}for(;;){if(Ga)if(ba<Ga.length)Ga=Ga.subarray(ba),ba=0;else{ba-=Ga.length;Ga=null;break}else break;
switch(bb){case 0:if(Ga.length<g.HEADER_LENGTH)break;na=new H.default(Ga);Fa=new g(na);Ga=Ga.subarray(na.pos);if(va)if(Fa.chunkType==ua)bb=45;else{Fa.chunkType==ja?(bb=2,fa=new Ia(Fa,va.width,va.height)):Fa.chunkType==za?(bb=3,fa=new Ya(Fa,va.width,va.height)):(console.log("Unknown chunk type '"+Fa.chunkType+"', attempting to skip..."),ba=Fa.chunkSize);continue}else if(Fa.chunkType==pa){bb=1;continue}else bb=5;break;case 1:if(Ga.length<Fa.chunkSize)break;na=new H.default(Ga);va=new n(na);if(p(va.version).major>
oa){bb=5;break}V=new O.default(va.width,va.height);ca=V.getLayersRoot();ba=Fa.chunkSize;bb=0;continue;case 2:Ga=fa.decode(Ga);if(fa.done){V.addLayerObject(ca,fa.layer);bb=0;continue}break;case 3:if(Ga=fa.decode(Ga),fa.done){V.addLayerGroupObject(ca,fa.layer,fa.childLayers);bb=0;continue}}break}}sa=sa||{};var Ka=new ia.default.Inflate({}),bb=0,V=null,ca=null,fa,ba=0,va=null,Fa=null,Ga=null;return(new Promise(function(na){if(Na instanceof ArrayBuffer)na(Na);else{var X=new FileReader;X.onload=function(){na(this.result)};
X.readAsArrayBuffer(Na)}})).then(function(na){return new Promise(function(X,aa){var D=new Uint8Array(na);I(D)?(D=D.subarray(R.length),Ka.onData=Oa,Ka.onEnd=function(K){0===K&&45==bb?(!1!==sa.upgradeMultiplyLayers&&va.version<(da<<16|ta)&&V.upgradeMultiplyLayers(sa.upgradeMultiplyLayers),V.selectTopmostVisibleLayer(),X(V)):aa("Fatal error decoding ChibiFile: "+K)},Ka.push(D,!0)):aa("This doesn't appear to be a ChibiPaint layers file, is it damaged?")})})};C.save=function(Na,sa){sa=sa||{};return Promise.resolve().then(function(){var Oa=
new ia.default.Deflate({level:7}),Ka=[],bb=new Uint8Array(R.length),V=Na.getLayersRoot().getLinearizedLayerList(!1),ca=sa.forceOldVersion?0:A(Na),fa=u(ca),ba=Promise.resolve();Oa.onData=function(Ga){Ka.push(Ga)};for(var va=0;va<R.length;va++)bb[va]=R.charCodeAt(va);Ka.push(bb);Oa.push(w(Na,ca,V.length),!1);bb=l(V);var Fa;try{for(V=function(){var Ga=Fa.value;ba=ba.then(function(){return new Promise(function(na){var X=Oa.push,aa=Ga instanceof z.default;var D=4*(aa?5:6);var K=Ga.name.length,Z=D+K;D=
F(aa?ja:za,D+K+((aa?Ga.image.data.length:0)+(Ga.mask?Ga.mask.data.length:0)));K=0;Ga.visible&&(K|=Ha);aa&&Ga.clip&&(K|=ra);Ga.mask&&(K|=Qa);Ga.maskLinked&&(K|=ab);Ga.maskVisible&&(K|=gb);Ga.lockAlpha&&(K|=ea);!aa&&Ga.expanded&&(K|=T);if(Ga.blendMode===S.default.LM_MULTIPLY2){var Aa=S.default.LM_MULTIPLY;K|=ya}else Aa=Ga.blendMode;D.writeU32BE(Z);D.writeU32BE(Aa);D.writeU32BE(Ga.alpha);D.writeU32BE(K);D.writeU32BE(Ga.name.length);aa||D.writeU32BE(Ga.layers.length);D.writeString(Ga.name);if(aa){aa=
D.pos;Z=D.data;K=Ga.image.data;for(Aa=0;Aa<K.length;Aa+=G.default.BYTES_PER_PIXEL)Z[aa++]=K[Aa+G.default.ALPHA_BYTE_OFFSET],Z[aa++]=K[Aa+G.default.RED_BYTE_OFFSET],Z[aa++]=K[Aa+G.default.GREEN_BYTE_OFFSET],Z[aa++]=K[Aa+G.default.BLUE_BYTE_OFFSET];D.pos=aa}Ga.mask&&(aa=Ga.mask,D.data.set(aa.data,D.pos),D.pos+=aa.data.length);D=D.getAsDataArray();X.call(Oa,D,!1);setTimeout(na,10)})})},bb.s();!(Fa=bb.n()).done;)V()}catch(Ga){bb.e(Ga)}finally{bb.f()}return ba.then(function(){return new Promise(function(Ga,
na){Oa.onEnd=function(X){if(0===X)if("undefined"!==typeof Blob)Ga({bytes:new Blob(Ka,{type:"application/octet-stream"}),version:fa});else{X=Ka.map(function(Z){return Z.byteLength}).reduce(function(Z,Aa){return Z+Aa},0);X=new Uint8Array(X);for(var aa=0,D=0;D<Ka.length;D++){var K=Ka[D];X.set(K,aa);aa+=K.byteLength}Ga({bytes:X,version:fa})}else na(X)};Oa.push(F(ua,0).getAsDataArray(),!0)})})})};var O=y(k("./CPArtwork.js")),z=y(k("./CPImageLayer.js")),G=y(k("./CPColorBmp.js")),H=y(k("../util/ArrayDataStream.js")),
J=y(k("./CPLayerGroup.js")),N=y(k("./CPGreyBmp.js")),S=y(k("./CPBlend.js")),ia=y(k("pako")),da=0,ta=10,oa=da,R="CHIBIOEK",pa="HEAD",ja="LAYR",za="GRUP",ua="ZEND";n.FIXED_HEADER_LENGTH=16;g.HEADER_LENGTH=8;var Ha=1,ra=2,Qa=4,ab=8,gb=16,T=32,ea=64,ya=128;k=function(){function Na(sa,Oa,Ka){b(this,Na);this.chunkHeader=sa;this.width=Oa;this.height=Ka;this.nameLength=this.skipBytes=this.payloadOffset=this.state=0;this.done=!1;this.maskDecoder=this.colorDecoder=null}h(Na,[{key:"readFixedHeader",value:function(sa){this.payloadOffset=
sa.readU32BE();this.blendMode=sa.readU32BE();this.alpha=sa.readU32BE();var Oa=sa.readU32BE();this.visible=0!=(Oa&Ha);this.clip=0!=(Oa&ra);this.hasMask=0!=(Oa&Qa);this.maskLinked=0!=(Oa&ab);this.maskVisible=0!=(Oa&gb);this.expanded=0!=(Oa&T);this.lockAlpha=0!=(Oa&ea);this.blendMode===S.default.LM_MULTIPLY&&0!==(Oa&ya)&&(this.blendMode=S.default.LM_MULTIPLY2);this.nameLength=sa.readU32BE()}},{key:"getFixedHeaderLen",value:function(){return 20}},{key:"getVariableHeaderLen",value:function(){return this.nameLength}},
{key:"readVariableSizeHeader",value:function(sa){this.name=sa.readString(this.nameLength)}},{key:"decode",value:function(sa){for(var Oa;;){if(0<this.skipBytes){if(this.skipBytes>=sa.length)return this.skipBytes-=sa.length,null;sa=sa.subarray(this.skipBytes);this.skipBytes=0}switch(this.state){case 0:if(sa.length<this.getFixedHeaderLen())break;Oa=new H.default(sa);this.readFixedHeader(Oa);sa=sa.subarray(Oa.pos);this.state=1;continue;case 1:if(sa.length<this.getVariableHeaderLen())break;Oa=new H.default(sa);
this.readVariableSizeHeader(Oa);this.layer=this.createLayer();this.hasMask&&(this.layer.setMask(new N.default(this.width,this.height,8)),this.maskDecoder=new ub(this.layer.mask));this.layer instanceof z.default&&(this.colorDecoder=new sb(this.layer.image));this.skipBytes=this.payloadOffset-this.getFixedHeaderLen();this.state=this.colorDecoder?3:this.maskDecoder?4:5;continue;case 3:sa=this.colorDecoder.decode(sa);if(this.colorDecoder.done){this.state=this.maskDecoder?4:5;continue}break;case 4:sa=this.maskDecoder.decode(sa);
if(this.maskDecoder.done){this.state=5;continue}break;case 5:Oa=this.payloadOffset;this.colorDecoder&&(Oa+=this.colorDecoder.bytesTotal);this.maskDecoder&&(Oa+=this.maskDecoder.bytesTotal);this.state=6;this.skipBytes=this.chunkHeader.chunkSize-Oa;continue;case 6:this.done=!0}break}return sa}}]);return Na}();var Ia=function(Na){function sa(){b(this,sa);return Oa.apply(this,arguments)}f(sa,Na);var Oa=a(sa);h(sa,[{key:"createLayer",value:function(){var Ka=new z.default(this.width,this.height,this.name);
Ka.setBlendMode(this.blendMode);Ka.setAlpha(this.alpha);Ka.setVisible(this.visible);Ka.setClip(this.clip);Ka.setMaskLinked(this.maskLinked);Ka.setMaskVisible(this.maskVisible);Ka.setLockAlpha(this.lockAlpha);return Ka}}]);return sa}(k),Ya=function(Na){function sa(Ka,bb,V){b(this,sa);Ka=Oa.call(this,Ka,bb,V);Ka.childLayers=0;return Ka}f(sa,Na);var Oa=a(sa);h(sa,[{key:"readFixedHeader",value:function(Ka){c(r(sa.prototype),"readFixedHeader",this).call(this,Ka);this.childLayers=Ka.readU32BE()}},{key:"getFixedHeaderLen",
value:function(){return c(r(sa.prototype),"getFixedHeaderLen",this).call(this)+4}},{key:"createLayer",value:function(){var Ka=new J.default(this.name,this.blendMode);Ka.setAlpha(this.alpha);Ka.setVisible(this.visible);Ka.setExpanded(this.expanded);Ka.setMaskLinked(this.maskLinked);Ka.setMaskVisible(this.maskVisible);return Ka}}]);return sa}(k),sb=function(){function Na(sa){b(this,Na);this.bytesRead=0;this.bytesTotal=sa.width*sa.height*G.default.BYTES_PER_PIXEL;this.output=sa.data;this.done=!1}h(Na,
[{key:"decode",value:function(sa){if(null==sa)return null;for(var Oa=this.bytesRead%G.default.BYTES_PER_PIXEL,Ka=this.bytesRead-Oa,bb=0,V=[G.default.ALPHA_BYTE_OFFSET,G.default.RED_BYTE_OFFSET,G.default.GREEN_BYTE_OFFSET,G.default.BLUE_BYTE_OFFSET];Oa<G.default.BYTES_PER_PIXEL&&bb<sa.length;Oa++)this.output[Ka+V[Oa]]=sa[bb],bb++;this.bytesRead+=bb;var ca=Math.min(sa.length-bb,this.bytesTotal-this.bytesRead)|0;Oa=ca/G.default.BYTES_PER_PIXEL|0;ca%=G.default.BYTES_PER_PIXEL;for(Ka=0;Ka<Oa;Ka++)this.output[this.bytesRead+
G.default.ALPHA_BYTE_OFFSET]=sa[bb],this.output[this.bytesRead+G.default.RED_BYTE_OFFSET]=sa[bb+1],this.output[this.bytesRead+G.default.GREEN_BYTE_OFFSET]=sa[bb+2],this.output[this.bytesRead+G.default.BLUE_BYTE_OFFSET]=sa[bb+3],this.bytesRead+=G.default.BYTES_PER_PIXEL,bb+=G.default.BYTES_PER_PIXEL;Ka=this.bytesRead;for(Oa=0;Oa<ca;Oa++)this.output[Ka+V[Oa]]=sa[bb],bb++;this.bytesRead+=ca;this.bytesRead>=this.bytesTotal&&(this.done=!0);return bb<sa.length?sa.subarray(bb):null}}]);return Na}(),ub=function(){function Na(sa){b(this,
Na);this.bytesRead=0;this.bytesTotal=sa.width*sa.height;this.output=sa.data;this.done=!1}h(Na,[{key:"decode",value:function(sa){if(null==sa)return null;var Oa=Math.min(sa.length,this.bytesTotal-this.bytesRead)|0,Ka=this.bytesRead,bb;for(bb=0;bb<Oa;bb++,Ka++)this.output[Ka]=sa[bb];this.bytesRead=Ka;this.bytesRead>=this.bytesTotal&&(this.done=!0);return bb<sa.length?sa.subarray(bb):null}}]);return Na}()},{"../util/ArrayDataStream.js":56,"./CPArtwork.js":3,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,
"./CPImageLayer.js":15,"./CPLayerGroup.js":17,pako:298}],12:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(y,l,v){this.bmp=y;this.x=l;this.y=v};L.exports=C.default},{}],13:[function(k,L,C){function y(a){return a&&a.__esModule?a:{default:a}}function l(a,m){"number"==typeof a?(c.default.call(this,a,m),this.imageData=(0,x.createImageData)(this.width,this.height)):(c.default.call(this,a.width,a.height),this.imageData=a);this.data=this.imageData.data}function v(a,
m,r,t){var b=0,e=[0,0,0,0],h,n;for(n=h=0;n<t&&n<r;n++){for(var g=0;g<l.BYTES_PER_PIXEL;g++)e[g]+=a[h++];b++}for(g=n=0;g<r;g++){if(g+t<r){h=(g+t)*l.BYTES_PER_PIXEL;for(var p=0;p<l.BYTES_PER_PIXEL;p++)e[p]+=a[h++];b++}for(h=0;h<l.BYTES_PER_PIXEL;h++)m[n++]=Math.round(e[h]/b);if(0<=g-t){h=(g-t)*l.BYTES_PER_PIXEL;for(p=0;p<l.BYTES_PER_PIXEL;p++)e[p]-=a[h++];b--}}}function E(a,m){m%=4;if(0==m)return a;var r=(0,x.createCanvas)(0,0),t=r.getContext("2d");0==m%2?(r.width=a.width,r.height=a.height):(r.width=
a.height,r.height=a.width);switch(m){case 1:t.rotate(Math.PI/2);t.drawImage(a,0,-a.height);break;case 2:t.rotate(Math.PI);t.drawImage(a,-a.width,-a.height);break;case 3:t.rotate(-Math.PI/2);t.drawImage(a,-a.width,0);break;default:return a}return r}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;C.getRotatedCanvas=E;var c=y(k("./CPBitmap.js")),f=y(k("../util/CPRect.js")),x=k("../util/Canvas.js");l.prototype=Object.create(c.default.prototype);l.prototype.constructor=l;l.BYTES_PER_PIXEL=
4;l.RED_BYTE_OFFSET=0;l.GREEN_BYTE_OFFSET=1;l.BLUE_BYTE_OFFSET=2;l.ALPHA_BYTE_OFFSET=3;l.prototype.clone=function(){return this.cloneRect(this.getBounds())};l.prototype.cloneRect=function(a){var m=new l(a.getWidth(),a.getHeight());m.copyBitmapRect(this,0,0,a);return m};l.prototype.getPixel=function(a,m){a=Math.max(0,Math.min(this.width-1,a));m=Math.max(0,Math.min(this.height-1,m));a=this.offsetOfPixel(a,m);return this.data[a+l.ALPHA_BYTE_OFFSET]<<24|this.data[a+l.RED_BYTE_OFFSET]<<16|this.data[a+
l.GREEN_BYTE_OFFSET]<<8|this.data[a+l.BLUE_BYTE_OFFSET]};l.prototype.copyRectXOR=function(a,m){m=this.getBounds().clipTo(m);var r=m.getWidth(),t=m.getHeight();t=new Uint8Array(r*t*l.BYTES_PER_PIXEL);var b=0,e=this.offsetOfPixel(m.left,m.top),h=a.offsetOfPixel(m.left,m.top),n=(this.width-r)*l.BYTES_PER_PIXEL,g=(a.width-r)*l.BYTES_PER_PIXEL;r*=l.BYTES_PER_PIXEL;for(var p=m.top;p<m.bottom;p++,e+=n,h+=g)for(var u=0;u<r;u++,b++,e++,h++)t[b]=this.data[e]^a.data[h];return t};l.prototype.setRectXOR=function(a,
m){m=this.getBounds().clipTo(m);var r=m.getWidth(),t=m.getHeight();m=this.offsetOfPixel(m.left,m.top);var b=0,e=(this.width-r)*l.BYTES_PER_PIXEL;r*=l.BYTES_PER_PIXEL;for(var h=0;h<t;h++){for(var n=0;n<r;n++)this.data[m++]^=a[b++];m+=e}};l.prototype.copyBitmapRect=function(a,m,r,t){var b=new f.default(m,r,0,0);t=t.clone();this.getBounds().clipSourceDest(t,b);m=b.getWidth()|0;r=b.getHeight()|0;if(0==b.left&&0==b.top&&m==this.width&&r==this.height&&m==a.width&&r==a.height)this.copyPixelsFrom(a);else{b=
this.offsetOfPixel(b.left,b.top);var e=(this.width-m)*l.BYTES_PER_PIXEL;t=a.offsetOfPixel(t.left,t.top);for(var h=(a.width-m)*l.BYTES_PER_PIXEL,n=0;n<r;n++,t+=h,b+=e)for(var g=0;g<m;g++,t+=l.BYTES_PER_PIXEL,b+=l.BYTES_PER_PIXEL)this.data[b]=a.data[t],this.data[b+1]=a.data[t+1],this.data[b+2]=a.data[t+2],this.data[b+3]=a.data[t+3]}};l.prototype.copyAlphaFrom=function(a,m){m=this.getBounds().clipTo(m);var r=m.getWidth()|0,t=m.getHeight()|0;m=this.offsetOfPixel(m.left,m.top)+l.ALPHA_BYTE_OFFSET|0;for(var b=
(this.width-r)*l.BYTES_PER_PIXEL|0,e=0;e<t;e++,m+=b)for(var h=0;h<r;h++,m+=l.BYTES_PER_PIXEL)this.data[m]=a.data[m]};l.prototype.setToSize=function(a){if(a.width!=this.width||a.height!=this.height)this.width=a.width,this.height=a.height,this.imageData=(0,x.createImageData)(this.width,this.height),this.data=this.imageData.data};l.prototype.copyPixelsFrom=function(a){this.setToSize(a);if("set"in this.data)this.data.set(a.data);else for(var m=0;m<this.data.length;m++)this.data[m]=a.data[m]};l.prototype.copyPixelsFromGreyscale=
function(a){var m,r=0,t=a.width*a.height;this.setToSize(a);for(m=0;m<t;m++,r+=l.BYTES_PER_PIXEL)this.data[r+l.RED_BYTE_OFFSET]=a.data[m],this.data[r+l.GREEN_BYTE_OFFSET]=a.data[m],this.data[r+l.BLUE_BYTE_OFFSET]=a.data[m],this.data[r+l.ALPHA_BYTE_OFFSET]=255};l.prototype.copyScaledNearestNeighbor=function(a){for(var m=0,r=a.width/this.width,t=a.height/this.height,b,e=0,h=0;e<this.height;e++,h+=t){b=a.offsetOfPixel(0,Math.round(h));for(var n=0,g=0;n<this.width;n++,m+=l.BYTES_PER_PIXEL,g+=r){var p=
b+Math.round(g)*l.BYTES_PER_PIXEL;this.data[m]=a.data[p];this.data[m+1]=a.data[p+1];this.data[m+2]=a.data[p+2];this.data[m+l.ALPHA_BYTE_OFFSET]=a.data[p+l.ALPHA_BYTE_OFFSET]}}};l.prototype.createThumbnailFrom=function(a){var m=Math.min(Math.floor(a.width/this.width),3);if(2>m)this.copyScaledNearestNeighbor(a);else{var r=new Uint16Array(5*this.width),t=a.width*l.BYTES_PER_PIXEL,b=Math.floor(a.width/this.width)*l.BYTES_PER_PIXEL,e=Math.floor(a.width/this.width/m)*l.BYTES_PER_PIXEL,h=b-e*m,n=Math.floor(a.height/
this.height/m);b=n*t-b*this.width;t*=Math.floor(a.height/this.height)-n*m;for(var g=n=0,p=0;p<this.height;p++,n+=t){var u;r.fill(0);for(var A=0;A<m;A++,n+=b)for(var F=u=0;F<this.width;F++,u+=5,n+=h)for(var w=0;w<m;w++,n+=e){var I=a.data[n+l.ALPHA_BYTE_OFFSET],O=I/255;r[u]+=a.data[n]*O;r[u+1]+=a.data[n+1]*O;r[u+2]+=a.data[n+2]*O;r[u+l.ALPHA_BYTE_OFFSET]+=I;r[u+4]=Math.max(r[u+4],I)}for(A=u=0;A<this.width;A++,u+=5,g+=l.BYTES_PER_PIXEL)F=r[u+4],0==F?this.data[g+l.ALPHA_BYTE_OFFSET]=0:(w=F/r[u+l.ALPHA_BYTE_OFFSET],
this.data[g]=r[u]*w,this.data[g+1]=r[u+1]*w,this.data[g+2]=r[u+2]*w,this.data[g+l.ALPHA_BYTE_OFFSET]=F)}}};l.prototype.floodFill=function(a,m,r){if(this.isInside(a,m)){var t=this.getPixel(a,m),b=t>>24&255,e=t>>16&255,h=t>>8&255,n=t&255,g=r>>24&255,p=r>>16&255,u=r>>8&255,A=r&255,F=[],w=this.getBounds(),I=this.data;w.left*=l.BYTES_PER_PIXEL;w.right*=l.BYTES_PER_PIXEL;F.push({x1:a*l.BYTES_PER_PIXEL,x2:a*l.BYTES_PER_PIXEL,y:m,dy:-1});F.push({x1:a*l.BYTES_PER_PIXEL,x2:a*l.BYTES_PER_PIXEL,y:m+1,dy:1});
if(0==b){if(0!=g)for(;0<F.length;)if(e=F.pop(),!(e.y<w.top||e.y>=w.bottom)){h=this.offsetOfPixel(0,e.y);for(n=e.x1;n>=w.left&&0==I[n+h+l.ALPHA_BYTE_OFFSET];)I[n+h+l.RED_BYTE_OFFSET]=p,I[n+h+l.GREEN_BYTE_OFFSET]=u,I[n+h+l.BLUE_BYTE_OFFSET]=A,I[n+h+l.ALPHA_BYTE_OFFSET]=g,n-=l.BYTES_PER_PIXEL;if(n>=e.x1){for(;n<=e.x2&&I[n+h+l.ALPHA_BYTE_OFFSET]!=b;)n+=l.BYTES_PER_PIXEL;a=n+l.BYTES_PER_PIXEL;if(n>e.x2)continue}else n+=l.BYTES_PER_PIXEL,n<e.x1&&F.push({x1:n,x2:e.x1-l.BYTES_PER_PIXEL,y:e.y-e.dy,dy:-e.dy}),
a=e.x1+l.BYTES_PER_PIXEL;do{I[n+h+l.RED_BYTE_OFFSET]=p;I[n+h+l.GREEN_BYTE_OFFSET]=u;I[n+h+l.BLUE_BYTE_OFFSET]=A;for(I[n+h+l.ALPHA_BYTE_OFFSET]=g;a<w.right&&I[a+h+l.ALPHA_BYTE_OFFSET]==b;)I[a+h+l.RED_BYTE_OFFSET]=p,I[a+h+l.GREEN_BYTE_OFFSET]=u,I[a+h+l.BLUE_BYTE_OFFSET]=A,I[a+h+l.ALPHA_BYTE_OFFSET]=g,a+=l.BYTES_PER_PIXEL;F.push({x1:n,x2:a-l.BYTES_PER_PIXEL,y:e.y+e.dy,dy:e.dy});a-l.BYTES_PER_PIXEL>e.x2&&F.push({x1:e.x2+l.BYTES_PER_PIXEL,x2:a-l.BYTES_PER_PIXEL,y:e.y-e.dy,dy:-e.dy});for(n=a+l.BYTES_PER_PIXEL;n<=
e.x2&&I[n+h+l.ALPHA_BYTE_OFFSET]!=b;)n+=l.BYTES_PER_PIXEL;a=n+l.BYTES_PER_PIXEL}while(n<=e.x2)}}else if(r!=t)for(;0<F.length;)if(a=F.pop(),!(a.y<w.top||a.y>=w.bottom)){m=this.offsetOfPixel(0,a.y);for(r=a.x1;r>=w.left&&I[r+m+l.RED_BYTE_OFFSET]==e&&I[r+m+l.GREEN_BYTE_OFFSET]==h&&I[r+m+l.BLUE_BYTE_OFFSET]==n&&I[r+m+l.ALPHA_BYTE_OFFSET]==b;)I[r+m+l.RED_BYTE_OFFSET]=p,I[r+m+l.GREEN_BYTE_OFFSET]=u,I[r+m+l.BLUE_BYTE_OFFSET]=A,I[r+m+l.ALPHA_BYTE_OFFSET]=g,r-=l.BYTES_PER_PIXEL;if(r>=a.x1){for(;r<=a.x2&&(I[r+
m+l.RED_BYTE_OFFSET]!=e||I[r+m+l.GREEN_BYTE_OFFSET]!=h||I[r+m+l.BLUE_BYTE_OFFSET]!=n||I[r+m+l.ALPHA_BYTE_OFFSET]!=b);)r+=l.BYTES_PER_PIXEL;t=r+l.BYTES_PER_PIXEL;if(r>a.x2)continue}else r+=l.BYTES_PER_PIXEL,r<a.x1&&F.push({x1:r,x2:a.x1-l.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy}),t=a.x1+l.BYTES_PER_PIXEL;do{I[r+m+l.RED_BYTE_OFFSET]=p;I[r+m+l.GREEN_BYTE_OFFSET]=u;I[r+m+l.BLUE_BYTE_OFFSET]=A;for(I[r+m+l.ALPHA_BYTE_OFFSET]=g;t<w.right&&I[t+m+l.RED_BYTE_OFFSET]==e&&I[t+m+l.GREEN_BYTE_OFFSET]==h&&I[t+m+l.BLUE_BYTE_OFFSET]==
n&&I[t+m+l.ALPHA_BYTE_OFFSET]==b;)I[t+m+l.RED_BYTE_OFFSET]=p,I[t+m+l.GREEN_BYTE_OFFSET]=u,I[t+m+l.BLUE_BYTE_OFFSET]=A,I[t+m+l.ALPHA_BYTE_OFFSET]=g,t+=l.BYTES_PER_PIXEL;F.push({x1:r,x2:t-l.BYTES_PER_PIXEL,y:a.y+a.dy,dy:a.dy});t-l.BYTES_PER_PIXEL>a.x2&&F.push({x1:a.x2+l.BYTES_PER_PIXEL,x2:t-l.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy});for(r=t+l.BYTES_PER_PIXEL;r<=a.x2&&(I[r+m+l.RED_BYTE_OFFSET]!=e||I[r+m+l.GREEN_BYTE_OFFSET]!=h||I[r+m+l.BLUE_BYTE_OFFSET]!=n||I[r+m+l.ALPHA_BYTE_OFFSET]!=b);)r+=l.BYTES_PER_PIXEL;
t=r+l.BYTES_PER_PIXEL}while(r<=a.x2)}}};l.prototype.copyPixelColumnToArray=function(a,m,r,t){var b=(this.width-1)*l.BYTES_PER_PIXEL,e=0;a=this.offsetOfPixel(a,m);for(m=0;m<r;m++){for(var h=0;h<l.BYTES_PER_PIXEL;h++)t[e++]=this.data[a++];a+=b}};l.prototype.copyArrayToPixelColumn=function(a,m,r,t){var b=(this.width-1)*l.BYTES_PER_PIXEL,e=0;a=this.offsetOfPixel(a,m);for(m=0;m<r;m++){for(var h=0;h<l.BYTES_PER_PIXEL;h++)this.data[a++]=t[e++];a+=b}};l.prototype.boxBlur=function(a,m,r){a=this.getBounds().clipTo(a);
var t=a.getWidth(),b=t*l.BYTES_PER_PIXEL,e=a.getHeight(),h=Math.max(t,e),n=new Uint8Array(h*l.BYTES_PER_PIXEL);h=new Uint8Array(h*l.BYTES_PER_PIXEL);for(var g=a.top;g<a.bottom;g++){for(var p=this.offsetOfPixel(a.left,g),u=0;u<b;u++)n[u]=this.data[p++];p=n;u=t;for(var A=0,F=0;F<u;F++){for(var w=p[A+l.ALPHA_BYTE_OFFSET],I=0;3>I;I++,A++)p[A]=Math.round(p[A]*w/255);A++}v(n,h,t,m);p=this.offsetOfPixel(a.left,g);for(u=0;u<b;u++)this.data[p++]=h[u]}for(m=a.left;m<a.right;m++){this.copyPixelColumnToArray(m,
a.top,e,n);v(n,h,e,r);t=h;b=e;for(p=g=0;p<b;p++)if(u=t[g+l.ALPHA_BYTE_OFFSET],0!=u){u=255/u;for(A=0;3>A;A++,g++)t[g]=Math.min(Math.round(t[g]*u),255);g++}else g+=l.BYTES_PER_PIXEL;this.copyArrayToPixelColumn(m,a.top,e,h)}};l.prototype.offsetOfPixel=function(a,m){return 4*(m*this.width+a)|0};l.prototype.getMemorySize=function(){return this.data.length};l.prototype.getImageData=function(){return this.imageData};l.prototype.setImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=
a;this.data=a.data};l.prototype.clearAll=function(a){if(0==a&&"fill"in this.data)this.data.fill(0);else{var m=a>>24&255,r=a>>16&255,t=a>>8&255;a&=255;for(var b=0;b<this.width*this.height*l.BYTES_PER_PIXEL;)this.data[b++]=r,this.data[b++]=t,this.data[b++]=a,this.data[b++]=m}};l.prototype.clearRect=function(a,m){a=this.getBounds().clipTo(a);var r=m>>24&255,t=m>>16&255,b=m>>8&255;m&=255;for(var e=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,h=this.offsetOfPixel(a.left,a.top),n=a.top;n<a.bottom;n++,h+=
e)for(var g=a.left;g<a.right;g++)this.data[h++]=t,this.data[h++]=b,this.data[h++]=m,this.data[h++]=r};l.prototype.copyRegionHFlip=function(a,m){a=this.getBounds().clipTo(a);for(var r=a.top;r<a.bottom;r++)for(var t=this.offsetOfPixel(a.left,r),b=m.offsetOfPixel(a.right-1,r),e=a.left;e<a.right;e++,b-=2*l.BYTES_PER_PIXEL)for(var h=0;h<l.BYTES_PER_PIXEL;h++)this.data[t++]=m.data[b++]};l.prototype.copyRegionVFlip=function(a,m){a=this.getBounds().clipTo(a);for(var r=a.getWidth()*l.BYTES_PER_PIXEL,t=a.top;t<
a.bottom;t++)for(var b=this.offsetOfPixel(a.left,t),e=m.offsetOfPixel(a.left,a.bottom-1-(t-a.top)),h=0;h<r;h++)this.data[b++]=m.data[e++]};l.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var m,r=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,t=this.offsetOfPixel(a.left,a.top),b=a.top;b<a.bottom;b++,t+=r)for(var e=a.left;e<a.right;e++,t+=l.BYTES_PER_PIXEL)m=256*Math.random()|0,this.data[t+l.RED_BYTE_OFFSET]=m,this.data[t+l.GREEN_BYTE_OFFSET]=m,this.data[t+l.BLUE_BYTE_OFFSET]=m,
this.data[t+l.ALPHA_BYTE_OFFSET]=255};l.prototype.gradientHorzReplace=function(a,m,r,t){var b={r:t[0]>>16&255,g:t[0]>>8&255,b:t[0]&255,a:t[0]>>24&255};t={r:t[1]>>16&255,g:t[1]>>8&255,b:t[1]&255,a:t[1]>>24&255};var e=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,h=this.offsetOfPixel(a.left,a.top)|0,n=a.bottom-a.top|0;if(r<m){var g=r;r=m;m=g;g=b;b=t;t=g}var p=r-m|0;g=(t.r-b.r)/p;var u=(t.g-b.g)/p,A=(t.b-b.b)/p;p=(t.a-b.a)/p;for(var F=Math.max(a.left-m,0),w=0;w<n;w++,h+=e){for(var I=a.left,O=Math.min(m,
a.right)|0;I<O;I++,h+=l.BYTES_PER_PIXEL)this.data[h+l.RED_BYTE_OFFSET]=b.r,this.data[h+l.GREEN_BYTE_OFFSET]=b.g,this.data[h+l.BLUE_BYTE_OFFSET]=b.b,this.data[h+l.ALPHA_BYTE_OFFSET]=b.a;var z=b.r+g*F,G=b.g+u*F,H=b.b+A*F,J=b.a+p*F;for(O=Math.min(r,a.right)|0;I<O;I++,h+=l.BYTES_PER_PIXEL)this.data[h+l.RED_BYTE_OFFSET]=z,this.data[h+l.GREEN_BYTE_OFFSET]=G,this.data[h+l.BLUE_BYTE_OFFSET]=H,this.data[h+l.ALPHA_BYTE_OFFSET]=J,z+=g,G+=u,H+=A,J+=p;for(;I<a.right;I++,h+=l.BYTES_PER_PIXEL)this.data[h+l.RED_BYTE_OFFSET]=
t.r,this.data[h+l.GREEN_BYTE_OFFSET]=t.g,this.data[h+l.BLUE_BYTE_OFFSET]=t.b,this.data[h+l.ALPHA_BYTE_OFFSET]=t.a}};l.prototype.gradientVertReplace=function(a,m,r,t){var b={r:t[0]>>16&255,g:t[0]>>8&255,b:t[0]&255,a:t[0]>>24&255};t={r:t[1]>>16&255,g:t[1]>>8&255,b:t[1]&255,a:t[1]>>24&255};var e=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,h=this.offsetOfPixel(a.left,a.top)|0,n=a.right-a.left|0;if(r<m){var g=r;r=m;m=g;g=b;b=t;t=g}g=a.top;for(var p=Math.min(a.bottom,m)|0;g<p;g++,h+=e)for(var u=0;u<n;u++,
h+=l.BYTES_PER_PIXEL)this.data[h+l.RED_BYTE_OFFSET]=b.r,this.data[h+l.GREEN_BYTE_OFFSET]=b.g,this.data[h+l.BLUE_BYTE_OFFSET]=b.b,this.data[h+l.ALPHA_BYTE_OFFSET]=b.a;var A=r-m|0;p=(t.r-b.r)/A;u=(t.g-b.g)/A;var F=(t.b-b.b)/A;A=(t.a-b.a)/A;var w=Math.max(g-m,0);m=b.r+p*w;var I=b.g+u*w,O=b.b+F*w;b=b.a+A*w;for(r=Math.min(a.bottom,r)|0;g<r;g++,h+=e){for(w=0;w<n;w++,h+=l.BYTES_PER_PIXEL)this.data[h+l.RED_BYTE_OFFSET]=m,this.data[h+l.GREEN_BYTE_OFFSET]=I,this.data[h+l.BLUE_BYTE_OFFSET]=O,this.data[h+l.ALPHA_BYTE_OFFSET]=
b;m+=p;I+=u;O+=F;b+=A}for(;g<a.bottom;g++,h+=e)for(r=0;r<n;r++,h+=l.BYTES_PER_PIXEL)this.data[h+l.RED_BYTE_OFFSET]=t.r,this.data[h+l.GREEN_BYTE_OFFSET]=t.g,this.data[h+l.BLUE_BYTE_OFFSET]=t.b,this.data[h+l.ALPHA_BYTE_OFFSET]=t.a};l.prototype.gradientReplace=function(a,m,r,t,b,e){var h=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,n=this.offsetOfPixel(a.left,a.top)|0,g=a.right-a.left|0,p=e[0]>>16&255,u=e[0]>>8&255,A=e[0]&255,F=e[0]>>24&255,w=e[1]>>16&255,I=e[1]>>8&255,O=e[1]&255;e=e[1]>>24&255;var z=
b-r+(t-m)*(t-m)/(b-r);t=t-m+(b-r)*(b-r)/(t-m);b=1/t;for(var G=a.top;G<a.bottom;G++,n+=h)for(var H=(a.left-m)/t+(G-r)/z,J=0;J<g;J++,n+=l.BYTES_PER_PIXEL){var N=Math.min(Math.max(H,0),1),S=1-N;this.data[n+l.RED_BYTE_OFFSET]=p*S+w*N;this.data[n+l.GREEN_BYTE_OFFSET]=u*S+I*N;this.data[n+l.BLUE_BYTE_OFFSET]=A*S+O*N;this.data[n+l.ALPHA_BYTE_OFFSET]=F*S+e*N;H+=b}};l.prototype.gradientAlpha=function(a,m,r,t,b,e){var h=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,n=this.offsetOfPixel(a.left,a.top)|0,g=a.right-
a.left|0,p=e[0]>>16&255,u=e[0]>>8&255,A=e[0]&255,F=e[0]>>24&255,w=e[1]>>16&255,I=e[1]>>8&255,O=e[1]&255;e=e[1]>>24&255;var z=b-r+(t-m)*(t-m)/(b-r);t=t-m+(b-r)*(b-r)/(t-m);b=1/t;for(var G=a.top;G<a.bottom;G++,n+=h)for(var H=(a.left-m)/t+(G-r)/z,J=0;J<g;J++,n+=l.BYTES_PER_PIXEL){var N=Math.min(Math.max(H,0),1),S=1-N,ia=p*S+w*N,da=u*S+I*N,ta=A*S+O*N;S=F*S+e*N;N=this.data[n+l.ALPHA_BYTE_OFFSET];N=S+N-S*N/255|0;if(0<N){S=255*S/N|0;var oa=255-S;this.data[n+l.RED_BYTE_OFFSET]=(ia*S+this.data[n+l.RED_BYTE_OFFSET]*
oa)/255|0;this.data[n+l.GREEN_BYTE_OFFSET]=(da*S+this.data[n+l.GREEN_BYTE_OFFSET]*oa)/255|0;this.data[n+l.BLUE_BYTE_OFFSET]=(ta*S+this.data[n+l.BLUE_BYTE_OFFSET]*oa)/255|0;this.data[n+l.ALPHA_BYTE_OFFSET]=N}H+=b}};l.prototype.gradient=function(a,m,r,t,b,e,h){a=this.getBounds().clipTo(a);if(m!=t||r!=b)h||255==e[0]>>>24&&255==e[1]>>>24?m==t?this.gradientVertReplace(a,r,b,e):r==b?this.gradientHorzReplace(a,m,t,e):this.gradientReplace(a,m,r,t,b,e):this.gradientAlpha(a,m,r,t,b,e)};l.prototype.fillWithColorNoise=
function(a){a=this.getBounds().clipTo(a);for(var m,r=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,t=this.offsetOfPixel(a.left,a.top),b=a.top;b<a.bottom;b++,t+=r)for(var e=a.left;e<a.right;e++,t+=l.BYTES_PER_PIXEL)m=16777216*Math.random()|0,this.data[t+l.RED_BYTE_OFFSET]=m>>16&255,this.data[t+l.GREEN_BYTE_OFFSET]=m>>8&255,this.data[t+l.BLUE_BYTE_OFFSET]=m&255,this.data[t+l.ALPHA_BYTE_OFFSET]=255};l.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var m=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,
r=this.offsetOfPixel(a.left,a.top),t=a.top;t<a.bottom;t++,r+=m)for(var b=a.left;b<a.right;b++,r+=l.BYTES_PER_PIXEL)this.data[r+l.RED_BYTE_OFFSET]^=255,this.data[r+l.GREEN_BYTE_OFFSET]^=255,this.data[r+l.BLUE_BYTE_OFFSET]^=255};l.prototype.getNonTransparentBounds=function(a){var m=a.clone(),r,t;var b=(this.width-m.getWidth())*l.BYTES_PER_PIXEL;a=this.offsetOfPixel(m.left,m.top)+l.ALPHA_BYTE_OFFSET;for(t=m.top;t<m.bottom;t++,a+=b){var e=0;for(r=m.left;r<m.right;r++,a+=l.BYTES_PER_PIXEL)e|=this.data[a];
if(0!=e)break}m.top=t;if(m.top==m.bottom)return m;a=this.offsetOfPixel(m.right-1,m.bottom-1)+l.ALPHA_BYTE_OFFSET;for(t=m.bottom-1;t>=m.top;t--,a-=b){e=0;for(r=m.right-1;r>=m.left;r--,a-=l.BYTES_PER_PIXEL)e|=this.data[a];if(0!=e)break}m.bottom=t+1;b=l.BYTES_PER_PIXEL*this.width;for(r=m.left;r<m.right;r++){a=this.offsetOfPixel(r,m.top)+l.ALPHA_BYTE_OFFSET;e=0;for(t=m.top;t<m.bottom;t++,a+=b)e|=this.data[a];if(0!=e)break}m.left=r;for(r=m.right-1;r>=m.left;r--){a=this.offsetOfPixel(r,m.top)+l.ALPHA_BYTE_OFFSET;
e=0;for(t=m.top;t<m.bottom;t++,a+=b)e|=this.data[a];if(0!=e)break}m.right=r+1;return m};l.prototype.getAsCanvas=function(a){var m=(0,x.createCanvas)(this.imageData.width,this.imageData.height);m.getContext("2d").putImageData(this.imageData,0,0);return E(m,a||0)};l.prototype.getAsPNG=function(a){a=this.getAsCanvas(a).toDataURL("image/png");a="string"===typeof a&&a.match(/^data:image\/png;base64,/i)?window.atob(a.substring(22)):!1;return a};l.prototype.getAsPNGBuffer=function(a){return this.getAsCanvas(a).toBuffer("image/png")};
l.prototype.hasAlphaInRect=function(a){a=this.getBounds().clipTo(a);for(var m=(this.width-a.getWidth())*l.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top)+l.ALPHA_BYTE_OFFSET,t=a.top;t<a.bottom;t++,r+=m){for(var b=255,e=a.left;e<a.right;e++,r+=l.BYTES_PER_PIXEL)b&=this.data[r];if(255!=b)return!0}return!1};l.prototype.hasAlpha=function(){return this.hasAlphaInRect(this.getBounds())};l.createFromImage=function(a){var m=(0,x.createCanvas)(a.width,a.height).getContext("2d");m.globalCompositeOperation=
"copy";m.drawImage(a,0,0);return new l(m.getImageData(0,0,a.width,a.height))};l.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var m=0;m<this.data.length;m+=l.BYTES_PER_PIXEL)if(0!=this.data[m+l.ALPHA_BYTE_OFFSET]||0!=a.data[m+l.ALPHA_BYTE_OFFSET])if(this.data[m]!=a.data[m]||this.data[m+1]!=a.data[m+1]||this.data[m+2]!=a.data[m+2]||this.data[m+3]!=a.data[m+3])return!1;return!0}},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4}],14:[function(k,
L,C){function y(a){return a&&a.__esModule?a:{default:a}}function l(a,m,r){E.default.call(this,a,m);this.createBitmap(a,m,r)}function v(a,m,r,t){var b=0,e=0,h;for(h=0;h<t&&h<r;h++)e+=a[h],b++;for(var n=h=0;n<r;n++)n+t<r&&(e+=a[n+t],b++),m[h++]=Math.round(e/b),0<=n-t&&(e-=a[n-t],b--)}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var E=y(k("./CPBitmap.js")),c=y(k("../util/CPRect.js")),f=k("../util/Canvas.js"),x=k("./CPColorBmp.js");l.prototype=Object.create(E.default.prototype);l.prototype.constructor=
l;l.prototype.createBitmap=function(a,m,r){this.bitDepth=r;switch(r){case 32:this.data=new Uint32Array(a*m);break;case 16:this.data=new Uint16Array(a*m);break;default:this.data=new Uint8Array(a*m)}};l.prototype.clone=function(){var a=new l(this.width,this.height,this.bitDepth);a.copyPixelsFrom(this);return a};l.prototype.cloneRect=function(a){var m=new l(a.getWidth(),a.getHeight(),this.bitDepth);m.copyBitmapRect(this,0,0,a);return m};l.prototype.getPixel=function(a,m){a=Math.max(0,Math.min(this.width-
1,a));m=Math.max(0,Math.min(this.height-1,m));return this.data[this.offsetOfPixel(a,m)]};l.prototype.clearAll=function(a){this.data.fill(a)};l.prototype.clearRect=function(a,m){a=this.getBounds().clipTo(a);if(a.equals(this.getBounds()))this.clearAll(m);else for(var r=this.width,t=a.right-a.left,b=this.offsetOfPixel(a.left,a.top),e=a.top;e<a.bottom;e++,b+=r)this.data.fill(m,b,b+t)};l.prototype.copyScaledNearestNeighbor=function(a){for(var m=0,r=a.width/this.width,t=a.height/this.height,b,e=0,h=0;e<
this.height;e++,h+=t){b=a.offsetOfPixel(0,Math.round(h));for(var n=0,g=0;n<this.width;n++,m++,g+=r)this.data[m]=a.data[b+Math.round(g)]}};l.prototype.floodFill=function(a,m,r){if(this.isInside(a,m)){r&=255;var t=this.getPixel(a,m),b=[],e=this.getBounds(),h=this.data;b.push({x1:a,x2:a,y:m,dy:-1});b.push({x1:a,x2:a,y:m+1,dy:1});if(r!=t)for(;0<b.length;)if(a=b.pop(),!(a.y<e.top||a.y>=e.bottom)){m=this.offsetOfPixel(0,a.y);for(var n=a.x1,g;n>=e.left&&h[n+m]==t;)h[n+m]=r,n--;if(n>=a.x1){for(;n<=a.x2&&
h[n+m]!=t;)n++;g=n+1;if(n>a.x2)continue}else n++,n<a.x1&&b.push({x1:n,x2:a.x1-1,y:a.y-a.dy,dy:-a.dy}),g=a.x1+1;do{for(h[n+m]=r;g<e.right&&h[g+m]==t;)h[g+m]=r,g++;b.push({x1:n,x2:g-1,y:a.y+a.dy,dy:a.dy});g-1>a.x2&&b.push({x1:a.x2+1,x2:g-1,y:a.y-a.dy,dy:-a.dy});for(n=g+1;n<=a.x2&&h[n+m]!=t;)n++;g=n+1}while(n<=a.x2)}}};l.prototype.createThumbnailFrom=function(a){var m=Math.min(Math.floor(a.width/this.width),3);if(2>m)this.copyScaledNearestNeighbor(a);else{var r=new Uint16Array(this.width),t=a.width,
b=Math.floor(a.width/this.width),e=Math.floor(a.width/this.width/m),h=b-e*m,n=Math.floor(a.height/this.height/m);b=n*t-b*this.width;t*=Math.floor(a.height/this.height)-n*m;for(var g=n=0,p=0;p<this.height;p++,n+=t){var u;r.fill(0);for(var A=0;A<m;A++,n+=b)for(var F=u=0;F<this.width;F++,u++,n+=h)for(var w=0;w<m;w++,n+=e)r[u]+=a.data[n];for(A=u=0;A<this.width;A++,u++,g++)this.data[g]=r[u]/(m*m)}}};l.prototype.mirrorHorizontally=function(){for(var a=this.width,m=this.height,r=new Uint8Array(a*m),t=0,
b=a,e=0;e<m;e++,b+=a+a)for(var h=0;h<a;h++)r[t++]=this.data[--b];this.data=r};l.prototype.applyLUT=function(a){for(var m=0;m<this.data.length;m++)this.data[m]=a.table[this.data[m]]};l.prototype.getAsCanvas=function(a){var m=this.getImageData(0,0,this.width,this.height),r=(0,f.createCanvas)(this.width,this.height);r.getContext("2d").putImageData(m,0,0);return(0,x.getRotatedCanvas)(r,a||0)};l.prototype.getImageData=function(a,m,r,t){var b=(0,f.createImageData)(r,t);a=this.offsetOfPixel(a,m);m=0;for(var e=
this.width-r,h=0;h<t;h++,a+=e)for(var n=0;n<r;n++,a++)b.data[m++]=this.data[a],b.data[m++]=this.data[a],b.data[m++]=this.data[a],b.data[m++]=255;return b};l.prototype.pasteImageData=function(a,m,r){var t=0;m=this.offsetOfPixel(m,r);r=this.width-a.width;for(var b=0;b<a.height;b++,m+=r)for(var e=0;e<a.width;e++,t+=4,m++)this.data[m]=a.data[t];return a};l.prototype.copyPixelsFrom=function(a){a.width!=this.width||a.height!=this.height||a.bitDepth!=this.bitDepth?(this.data=a.data.slice(0),this.width=a.width,
this.height=a.height,this.bitDepth=a.bitDepth):this.data.set(a.data)};l.prototype.copyRectXOR=function(a,m){m=this.getBounds().clipTo(m);var r=m.getWidth(),t=m.getHeight();t=new Uint8Array(r*t);for(var b=0,e=this.offsetOfPixel(m.left,m.top),h=a.offsetOfPixel(m.left,m.top),n=this.width-r,g=a.width-r,p=m.top;p<m.bottom;p++,e+=n,h+=g)for(var u=0;u<r;u++,b++,e++,h++)t[b]=this.data[e]^a.data[h];return t};l.prototype.setRectXOR=function(a,m){m=this.getBounds().clipTo(m);var r=m.getWidth(),t=m.getHeight();
m=this.offsetOfPixel(m.left,m.top);for(var b=0,e=this.width-r,h=0;h<t;h++){for(var n=0;n<r;n++)this.data[m++]^=a[b++];m+=e}};l.prototype.copyBitmapRect=function(a,m,r,t){var b=new c.default(m,r,0,0);t=t.clone();this.getBounds().clipSourceDest(t,b);m=b.getWidth()|0;r=b.getHeight()|0;if(0==b.left&&0==b.top&&m==this.width&&r==this.height&&m==a.width&&r==a.height)this.copyPixelsFrom(a);else{b=this.offsetOfPixel(b.left,b.top);var e=this.width-m;t=a.offsetOfPixel(t.left,t.top);for(var h=a.width-m,n=0;n<
r;n++,t+=h,b+=e)for(var g=0;g<m;g++,t++,b++)this.data[b]=a.data[t]}};l.prototype.copyRegionHFlip=function(a,m){a=this.getBounds().clipTo(a);for(var r=a.top;r<a.bottom;r++)for(var t=this.offsetOfPixel(a.left,r),b=m.offsetOfPixel(a.right-1,r),e=a.left;e<a.right;e++,b-=2)this.data[t++]=m.data[b++]};l.prototype.copyRegionVFlip=function(a,m){a=this.getBounds().clipTo(a);for(var r=a.getWidth(),t=a.top;t<a.bottom;t++)for(var b=this.offsetOfPixel(a.left,t),e=m.offsetOfPixel(a.left,a.bottom-1-(t-a.top)),h=
0;h<r;h++)this.data[b++]=m.data[e++]};l.prototype.copyPixelColumnToArray=function(a,m,r,t){var b=this.width,e=0;a=this.offsetOfPixel(a,m);for(m=0;m<r;m++)t[e]=this.data[a],a+=b,e++};l.prototype.copyArrayToPixelColumn=function(a,m,r,t){var b=this.width,e=0;a=this.offsetOfPixel(a,m);for(m=0;m<r;m++)this.data[a]=t[e],a+=b,e++};l.prototype.boxBlur=function(a,m,r){a=this.getBounds().clipTo(a);var t=a.getWidth(),b=a.getHeight(),e=Math.max(t,b),h=new this.data.constructor(e);e=new this.data.constructor(e);
for(var n=a.top;n<a.bottom;n++){for(var g=this.offsetOfPixel(a.left,n),p=0;p<t;p++)h[p]=this.data[g++];v(h,e,t,m);g=this.offsetOfPixel(a.left,n);for(p=0;p<t;p++)this.data[g++]=e[p]}for(m=a.left;m<a.right;m++)this.copyPixelColumnToArray(m,a.top,b,h),v(h,e,b,r),this.copyArrayToPixelColumn(m,a.top,b,e)};l.prototype.offsetOfPixel=function(a,m){return m*this.width+a};l.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var m=this.width-a.getWidth(),r=this.offsetOfPixel(a.left,a.top),
t=a.top;t<a.bottom;t++,r+=m)for(var b=a.left;b<a.right;b++,r++)this.data[r]=256*Math.random()|0};l.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var m=this.width-a.getWidth(),r=this.offsetOfPixel(a.left,a.top),t=a.top;t<a.bottom;t++,r+=m)for(var b=a.left;b<a.right;b++,r++)this.data[r]=~this.data[r]};l.prototype.getValueBounds=function(a,m){var r=a.clone(),t,b;var e=this.width-r.getWidth();a=this.offsetOfPixel(r.left,r.top);for(b=r.top;b<r.bottom;b++,a+=e){var h=!1;for(t=r.left;t<r.right;t++,
a++)if(this.data[a]!=m){h=!0;break}if(h)break}r.top=b;if(r.top==r.bottom)return r;a=this.offsetOfPixel(r.right-1,r.bottom-1);for(b=r.bottom-1;b>=r.top;b--,a-=e){h=!1;for(t=r.right-1;t>=r.left;t--,a--)if(this.data[a]!=m){h=!0;break}if(h)break}r.bottom=b+1;e=this.width;for(t=r.left;t<r.right;t++){a=this.offsetOfPixel(t,r.top);h=!1;for(b=r.top;b<r.bottom;b++,a+=e)if(this.data[a]!=m){h=!0;break}if(h)break}r.left=t;for(t=r.right-1;t>=r.left;t--){a=this.offsetOfPixel(t,r.top);h=!1;for(b=r.top;b<r.bottom;b++,
a+=e)if(this.data[a]!=m){h=!0;break}if(h)break}r.right=t+1;return r};l.prototype.gradientHorzReplace=function(a,m,r,t){var b=t[0]&255;t=t[1]&255;var e=this.width-a.getWidth(),h=this.offsetOfPixel(a.left,a.top)|0,n=a.bottom-a.top|0;if(r<m){var g=r;r=m;m=g;g=b;b=t;t=g}g=(t-b)/(r-m|0);for(var p=Math.max(a.left-m,0),u=0;u<n;u++,h+=e){for(var A=a.left,F=Math.min(m,a.right)|0;A<F;A++,h++)this.data[h]=b;var w=b+g*p;for(F=Math.min(r,a.right)|0;A<F;A++,h++)this.data[h]=w,w+=g;for(;A<a.right;A++,h++)this.data[h]=
t}};l.prototype.gradientVertReplace=function(a,m,r,t){var b=t[0]&255;t=t[1]&255;var e=this.width-a.getWidth(),h=this.offsetOfPixel(a.left,a.top)|0,n=a.right-a.left|0;if(r<m){var g=r;r=m;m=g;g=b;b=t;t=g}g=a.top;for(var p=Math.min(a.bottom,m)|0;g<p;g++,h+=e)for(var u=0;u<n;u++,h++)this.data[h]=b;p=(t-b)/(r-m|0);m=b+p*Math.max(g-m,0);for(r=Math.min(a.bottom,r)|0;g<r;g++,h+=e){for(b=0;b<n;b++,h++)this.data[h]=m;m+=p}for(;g<a.bottom;g++,h+=e)for(r=0;r<n;r++,h++)this.data[h]=t};l.prototype.gradientReplace=
function(a,m,r,t,b,e){var h=this.width-a.getWidth(),n=this.offsetOfPixel(a.left,a.top)|0,g=a.right-a.left|0,p=e[0]&255;e=e[1]&255;var u=b-r+(t-m)*(t-m)/(b-r);t=t-m+(b-r)*(b-r)/(t-m);b=1/t;for(var A=a.top;A<a.bottom;A++,n+=h)for(var F=(a.left-m)/t+(A-r)/u,w=0;w<g;w++,n++){var I=Math.min(Math.max(F,0),1);this.data[n]=p*(1-I)+e*I;F+=b}};l.prototype.gradientAlpha=function(a,m,r,t,b,e){var h=this.width-a.getWidth(),n=this.offsetOfPixel(a.left,a.top)|0,g=a.right-a.left|0,p=e[0]&255,u=e[0]>>24&255,A=e[1]&
255;e=e[1]>>24&255;var F=b-r+(t-m)*(t-m)/(b-r);t=t-m+(b-r)*(b-r)/(t-m);b=1/t;for(var w=a.top;w<a.bottom;w++,n+=h)for(var I=(a.left-m)/t+(w-r)/F,O=0;O<g;O++,n++){var z=Math.min(Math.max(I,0),1),G=1-z,H=u*G+e*z;this.data[n]=((p*G+A*z)*H+this.data[n]*(255-H))/255|0;I+=b}};l.prototype.gradient=function(a,m,r,t,b,e,h){a=this.getBounds().clipTo(a);if(m!=t||r!=b)h||255==e[0]>>>24&&255==e[1]>>>24?m==t?this.gradientVertReplace(a,r,b,e):r==b?this.gradientHorzReplace(a,m,t,e):this.gradientReplace(a,m,r,t,b,
e):this.gradientAlpha(a,m,r,t,b,e)};l.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var m=0;m<this.data.length;m++)if(this.data[m]!=a.data[m])return!1;return!0};L.exports=C.default},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4,"./CPColorBmp.js":13}],15:[function(k,L,C){function y(f){return f&&f.__esModule?f:{default:f}}function l(f,x,a){E.default.call(this,a);this.image=0<f&&0<x?new v.default(f,x):null;this.clip=!1;this.imageThumbnail=null}
Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("./CPColorBmp.js")),E=y(k("./CPLayer.js")),c=y(k("../util/CPRect.js"));l.prototype=Object.create(E.default.prototype);l.prototype.constructor=l;l.createFromImage=function(f,x){x=new l(0,0,x);x.image=f;return x};l.prototype.clone=function(){var f=new l(0,0,this.name);f.copyFrom(this);return f};l.prototype.copyFrom=function(f){E.default.prototype.copyFrom.call(this,f);this.clip=f.clip;this.image?this.image.copyPixelsFrom(f.image):
this.image=f.image.clone()};l.prototype.hasAlpha=function(){return 100!=this.alpha?!0:this.image.hasAlpha()};l.prototype.hasAlphaInRect=function(f){return 100!=this.alpha?!0:this.image.hasAlphaInRect(f)};l.prototype.copyImageFrom=function(f){this.image.copyPixelsFrom(f)};l.prototype.getClippingBase=function(){if(this.clip&&this.parent)for(var f=this.parent.indexOf(this)-1;0<=f;f--)if(this.parent.layers[f]instanceof l){if(!this.parent.layers[f].clip)return this.parent.layers[f]}else break;return null};
l.prototype.getClip=function(){return this.clip};l.prototype.setClip=function(f){this.clip=f};l.prototype.getNonTransparentBounds=function(f){return this.image.getNonTransparentBounds(f)};l.prototype.getBounds=function(){return new c.default(0,0,this.image.width,this.image.height)};l.prototype.getMemoryUsed=function(){return this.image?this.image.getMemorySize():0};l.prototype.rebuildImageThumbnail=function(){if(!this.imageThumbnail){var f=Math.ceil(Math.max(this.image.width/E.default.LAYER_THUMBNAIL_WIDTH,
this.image.height/E.default.LAYER_THUMBNAIL_HEIGHT));this.imageThumbnail=new v.default(Math.floor(this.image.width/f),Math.floor(this.image.height/f))}this.imageThumbnail.createThumbnailFrom(this.image)};l.prototype.getImageThumbnail=function(){this.imageThumbnail||this.rebuildImageThumbnail();return this.imageThumbnail};L.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPLayer.js":16}],16:[function(k,L,C){function y(f){return f&&f.__esModule?f:{default:f}}function l(f){this.name=
f||"";this.parent=null;this.lockAlpha=!1;this.alpha=100;this.visible=!0;this.blendMode=v.default.LM_NORMAL;this.mask=null;this.maskVisible=this.maskLinked=!0;this.maskThumbnail=null;this.useLegacyMultiply=!1}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;y(k("./CPLayerGroup.js"));var v=y(k("./CPBlend.js")),E=y(k("./CPGreyBmp.js")),c=y(k("../util/CPRect.js"));l.prototype.copyFrom=function(f){this.name=f.name;this.blendMode=f.blendMode;this.useLegacyMultiply=f.useLegacyMultiply;this.alpha=
f.alpha;this.visible=f.visible;this.parent=f.parent;this.lockAlpha=f.lockAlpha;f.mask?this.mask?this.mask.copyPixelsFrom(f.mask):this.mask=f.mask.clone():this.mask=null;this.maskLinked=f.maskLinked;this.maskVisible=f.maskVisible;f.maskThumbnail?this.maskThumbnail?this.maskThumbnail.copyPixelsFrom(f.maskThumbnail):this.maskThumbnail=f.maskThumbnail.clone():this.maskThumbnail=null};l.prototype.setMask=function(f){this.mask=f;f||(this.maskThumbnail=null)};l.prototype.setAlpha=function(f){this.alpha=
f};l.prototype.getAlpha=function(){return this.alpha};l.prototype.getEffectiveAlpha=function(){return this.visible?this.alpha:0};l.prototype.getEffectiveMask=function(){return this.maskVisible?this.mask:null};l.prototype.setName=function(f){this.name=f};l.prototype.getName=function(){return this.name};l.prototype.setBlendMode=function(f){this.blendMode=f;f===v.default.LM_MULTIPLY?this.useLegacyMultiply=!0:f===v.default.LM_MULTIPLY2&&(this.useLegacyMultiply=!1)};l.prototype.getBlendMode=function(){return this.blendMode};
l.prototype.getLockAlpha=function(){return this.lockAlpha};l.prototype.setLockAlpha=function(f){this.lockAlpha=f};l.prototype.setVisible=function(f){this.visible=f};l.prototype.getVisible=function(){return this.visible};l.prototype.isVisible=l.prototype.getVisible;l.prototype.setMaskLinked=function(f){this.maskLinked=f};l.prototype.getMaskLinked=function(){return this.maskLinked};l.prototype.setMaskVisible=function(f){this.maskVisible=f};l.prototype.getMaskVisible=function(){return this.maskVisible};
l.prototype.getMemoryUsed=function(){return 0};l.prototype.getDepth=function(){return null==this.parent?0:this.parent.getDepth()+1};l.prototype.ancestorsAreVisible=function(){return null==this.parent||this.parent.visible&&this.parent.ancestorsAreVisible()};l.prototype.hasAncestor=function(f){return this.parent==f||this.parent&&this.parent.hasAncestor(f)};l.prototype.clone=function(){throw"Pure virtual CPLayer.clone() call";};l.prototype.getNonTransparentBounds=function(f){return new c.default(0,0,
0,0)};l.prototype.rebuildMaskThumbnail=function(){if(this.mask){if(!this.maskThumbnail){var f=Math.ceil(Math.max(this.mask.width/l.LAYER_THUMBNAIL_WIDTH,this.mask.height/l.LAYER_THUMBNAIL_HEIGHT));this.maskThumbnail=new E.default(Math.floor(this.mask.width/f),Math.floor(this.mask.height/f),8)}this.maskThumbnail.createThumbnailFrom(this.mask)}else this.maskThumbnail=null};l.prototype.getMaskThumbnail=function(){!this.maskThumbnail&&this.mask&&this.rebuildMaskThumbnail();return this.maskThumbnail};
l.LAYER_THUMBNAIL_WIDTH=80;l.LAYER_THUMBNAIL_HEIGHT=50;L.exports=C.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPGreyBmp.js":14,"./CPLayerGroup.js":17}],17:[function(k,L,C){function y(m){return m&&m.__esModule?m:{default:m}}function l(m,r){var t="undefined"!==typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!t){if(Array.isArray(m)||(t=v(m))||r&&m&&"number"===typeof m.length){t&&(m=t);var b=0;r=function(){};return{s:r,n:function(){return b>=m.length?{done:!0}:{done:!1,value:m[b++]}},
e:function(g){throw g;},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e=!0,h=!1,n;return{s:function(){t=t.call(m)},n:function(){var g=t.next();e=g.done;return g},e:function(g){h=!0;n=g},f:function(){try{e||null==t.return||t.return()}finally{if(h)throw n;}}}}function v(m,r){if(m){if("string"===typeof m)return E(m,r);var t=Object.prototype.toString.call(m).slice(8,-1);"Object"===
t&&m.constructor&&(t=m.constructor.name);if("Map"===t||"Set"===t)return Array.from(m);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(m,r)}}function E(m,r){if(null==r||r>m.length)r=m.length;for(var t=0,b=Array(r);t<r;t++)b[t]=m[t];return b}function c(m,r){x.default.call(this,m);this.layers=[];this.expanded=!0;this.blendMode=r}function f(m,r){return m+r}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;var x=y(k("./CPLayer.js")),a=y(k("../util/CPRect.js"));
c.prototype=Object.create(x.default.prototype);c.prototype.constructor=c;c.prototype.getLinearizedLayerList=function(m,r){r=r||[];var t=l(this.layers),b;try{for(t.s();!(b=t.n()).done;){var e=b.value;e instanceof c&&(e.expanded||!m)&&e.getLinearizedLayerList(m,r);r.push(e)}}catch(h){t.e(h)}finally{t.f()}return r};c.prototype.clearLayers=function(){this.layers=[]};c.prototype.addLayer=function(m){m.parent=this;this.layers.push(m)};c.prototype.insertLayer=function(m,r){r.parent=this;this.layers.splice(m,
0,r)};c.prototype.removeLayer=function(m){m=this.layers.indexOf(m);-1<m&&this.layers.splice(m,1)};c.prototype.removeLayerAtIndex=function(m){var r=this.layers[m];r&&this.layers.splice(m,1);return r};c.prototype.setLayerAtIndex=function(m,r){var t=this.layers[m];r.parent=this;this.layers[m]=r;return t};c.prototype.setExpanded=function(m){this.expanded=m};c.prototype.getExpanded=function(){return this.expanded};c.prototype.indexOf=function(m){return this.layers.indexOf(m)};c.prototype.getMemoryUsed=
function(){return this.layers.map(function(m){return m.getMemoryUsed()}).reduce(f,0)};c.prototype.clone=function(){var m=new c(this.name,this.blendMode);x.default.prototype.copyFrom.call(m,this);m.expanded=this.expanded;m.layers=this.layers.map(function(r){return r.clone()});m.layers.forEach(function(r){return r.parent=m});return m};c.prototype.getNonTransparentBounds=function(m){var r=new a.default(0,0,0,0);this.layers.forEach(function(t){return r.union(t.getNonTransparentBounds(m))});return r};
L.exports=C.default},{"../util/CPRect.js":63,"./CPLayer.js":16}],18:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){this.table=new Uint8Array(256);this.loadIdentity=function(){for(var y=0;256>y;y++)this.table[y]=y};this.loadBrightnessContrast=function(y,l){l=0<l?1/(1.0001-l):1+l;y=.5-.5*l+y;for(var v=0;256>v;v++)this.table[v]=Math.min(255,Math.max(~~(255*(v/255*l+y)),0))};this.invert=function(){for(var y=0;256>y;y++)this.table[y]=255-this.table[y]}};L.exports=
C.default},{}],19:[function(k,L,C){function y(b){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(b)}function l(b){return b&&b.__esModule?b:{default:b}}function v(b,e){for(var h=0;h<e.length;h++){var n=e[h];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);var g=Object,p=g.defineProperty;
a:{var u=n.key;if("object"===y(u)&&null!==u){var A=u[Symbol.toPrimitive];if(void 0!==A){u=A.call(u,"string");if("object"!==y(u))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}u=String(u)}}u="symbol"===y(u)?u:String(u);p.call(g,b,u,n)}}function E(b,e,h){e&&v(b.prototype,e);h&&v(b,h);Object.defineProperty(b,"prototype",{writable:!1});return b}function c(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");b.prototype=
Object.create(e&&e.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});e&&f(b,e)}function f(b,e){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,n){h.__proto__=n;return h};return f(b,e)}function x(b){var e=a();return function(){var h=m(b);if(e){var n=m(this).constructor;h=Reflect.construct(h,arguments,n)}else h=h.apply(this,arguments);if(!h||"object"!==y(h)&&"function"!==typeof h){if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=this}return h}}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}function m(b){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(b)}
Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var r=l(k("../util/CPRect.js")),t=l(k("./CPColorBmp.js"));l(k("./CPGreyBmp.js"));k=l(k("wolfy87-eventemitter"));C.default=function(b){function e(n,g){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var p=h.call(this);p.layer=n;p.buffer=n.mask.getImageData(0,0,n.mask.width,n.mask.height);p.invalidRect=new r.default(0,0,0,0);p.prepareMask=g;return p}c(e,b);var h=x(e);E(e,[{key:"close",value:function(){this.layer=
this.buffer=null;this.emitEvent("changeLayer")}},{key:"setLayer",value:function(n){this.layer=n;this.invalidRect=n.getBounds();this.emitEvent("changeLayer")}},{key:"isOpen",value:function(){return null!=this.layer}},{key:"invalidateRect",value:function(n){this.invalidRect.union(n)}},{key:"getImageData",value:function(){this.prepareMask();if(!this.invalidRect.isEmpty()&&this.layer&&this.layer.mask){var n=this.buffer,g=this.layer.mask,p=this.invalidRect,u=p.top*g.width+p.left,A=u*t.default.BYTES_PER_PIXEL,
F=p.getWidth();p=p.getHeight();for(var w=g.width-F,I=w*t.default.BYTES_PER_PIXEL,O=0;O<p;O++,u+=w,A+=I)for(var z=0;z<F;z++,u++,A+=t.default.BYTES_PER_PIXEL)n.data[A+t.default.RED_BYTE_OFFSET]=g.data[u],n.data[A+t.default.GREEN_BYTE_OFFSET]=g.data[u],n.data[A+t.default.BLUE_BYTE_OFFSET]=g.data[u],n.data[A+t.default.ALPHA_BYTE_OFFSET]=255;this.invalidRect.makeEmpty()}return this.buffer}}]);return e}(k.default);L.exports=C.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"wolfy87-eventemitter":316}],
20:[function(k,L,C){function y(a){return a&&a.__esModule?a:{default:a}}function l(a){function m(h,n){switch(h.name){case "flat":return new Promise(function(g,p){var u=new Blob([n],{type:"image/png"}),A=window.URL.createObjectURL(u);if(A){var F=new Image;F.onload=function(){var w=new E.default(this.width,this.height),I=new f.default(0,0,"Layer 1");I.image=c.default.createFromImage(F);w.addLayerObject(w.getLayersRoot(),I);F=null;window.URL.revokeObjectURL(A);g(w)};F.src=A}else p(null)});case "swatches":return(h=
(new x.default).read(n))?Promise.resolve(h):Promise.reject(null);case "layers":return(0,v.load)(n);default:return Promise.reject("Unexpected resource type '"+h.name+"'")}}function r(h,n){null===n?e.emitEvent("loadingProgress",[1,"Loading your "+h.friendly+"..."]):e.emitEvent("loadingProgress",[n,"Loading your "+h.friendly+" ("+Math.round(100*n)+"%)..."])}var t=[],b={},e=this;a.loadChibiFileUrl&&0<(""+a.loadChibiFileUrl).length?t.push({url:a.loadChibiFileUrl,friendly:"drawing layers",name:"layers",
required:!0}):a.loadImageUrl&&0<(""+a.loadImageUrl).length&&t.push({url:a.loadImageUrl,friendly:"drawing",name:"flat",required:!0});a.loadSwatchesUrl&&t.push({url:a.loadSwatchesUrl,friendly:"color swatches",name:"swatches",required:!1,noProgress:!0});this.load=function(){function h(){n.required?e.emitEvent("loadingFailure",["Failed to load your "+n.friendly+", please try again later."]):e.load()}if(0==t.length)e.emitEvent("loadingComplete",[b]);else{var n=t.shift(),g=new XMLHttpRequest;g.addEventListener("progress",
function(p){r(n,p.lengthComputable&&!n.noProgress?p.loaded/p.total:null)},!1);g.addEventListener("load",function(p){if(200==this.status){var u=this.response;e.emitEvent("loadingProgress",[1,"Starting ChickenPaint..."]);setTimeout(function(){m(n,u).then(function(A){b[n.name]=A;e.load()},function(){e.emitEvent("loadingFailure",["Failed to read your "+n.friendly])})},0)}else h()},!1);g.addEventListener("error",h);r(n,n.noProgress?null:0);g.open("GET",n.url,!0);g.responseType="arraybuffer";g.send()}}}
Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=k("../../js/engine/CPChibiFile.js"),E=y(k("./CPArtwork.js")),c=y(k("./CPColorBmp.js")),f=y(k("./CPImageLayer.js")),x=y(k("../util/AdobeColorTable.js"));k=y(k("wolfy87-eventemitter"));l.prototype=Object.create(k.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"../../js/engine/CPChibiFile.js":11,"../util/AdobeColorTable.js":55,"./CPArtwork.js":3,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"wolfy87-eventemitter":316}],
21:[function(k,L,C){function y(a){return a&&a.__esModule?a:{default:a}}function l(a){for(var m=new Uint8Array(a.length),r=0;r<a.length;r++)m[r]=a.charCodeAt(r);return m}function v(a){function m(e){null===e?t.emitEvent("savingProgress",[1,(0,x._)("Saving drawing...")]):t.emitEvent("savingProgress",[e,(0,x._)("Saving drawing...")+" ("+Math.round(100*e)+"%)"])}function r(e){e={method:"POST",mode:"same-origin",headers:{"X-Requested-With":"chickenpaint"},body:e};m(.5);fetch(a.url,e).then(function(h){if(!h.ok)throw Error("Network response was not ok (".concat(h.status,
")"));return h.text()}).then(function(h){/^CHIBIOK/.test(h)?(m(1),t.emitEvent("savingComplete")):t.emitEvent("savingFailure",[h])}).catch(function(h){t.emitEvent("savingFailure",[h.message])})}var t=this,b=!1;a.rotation=a.rotation||0;this.save=function(){var e;var h=l(a.artwork.getFlatPNG(a.rotation));var n=new Blob([h],{type:"image/png"});h=null;(a.artwork.isSimpleDrawing()?Promise.resolve(null):(0,E.save)(a.artwork)).then(function(g){if(b)t.emitEvent("savingFailure");else{if(a.swatches){var p=new c.default;
e=new Blob([p.write(a.swatches)],{type:"application/octet-stream"})}else e=null;a.url?(p=new FormData,p.append("beginMarker","This marker ensures the upload wasn't truncated"),p.append("painter","ChickenPaint v2.0"),p.append("picture",n),n=null,g?(p.append("chibifileFormat",g.version),p.append("chibifile",g.bytes),p.append("rotation",""+a.rotation)):p.append("rotation","0"),e&&(p.append("swatches",e),e=null),p.append("endMarker","This marker ensures the upload wasn't truncated"),r(p)):(f.default.saveAs(n,
"oekaki.png"),g&&f.default.saveAs(g.bytes,"oekaki.chi"),e&&f.default.saveAs(e,"oekaki.aco"))}}).catch(function(g){t.emitEvent("savingFailure")})};this.cancel=function(){b=!0}}Object.defineProperty(C,"__esModule",{value:!0});C.binaryStringToByteArray=l;C.default=v;var E=k("../../js/engine/CPChibiFile.js"),c=y(k("../util/AdobeColorTable.js"));L=y(k("wolfy87-eventemitter"));var f=y(k("file-saver")),x=k("../languages/lang.js");v.prototype=Object.create(L.default.prototype);v.prototype.constructor=v},
{"../../js/engine/CPChibiFile.js":11,"../languages/lang.js":54,"../util/AdobeColorTable.js":55,"file-saver":296,"wolfy87-eventemitter":316}],22:[function(k,L,C){function y(E){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(E)}function l(E,c){for(var f=0;f<c.length;f++){var x=c[f];x.enumerable=x.enumerable||!1;
x.configurable=!0;"value"in x&&(x.writable=!0);var a=Object,m=a.defineProperty;a:{var r=x.key;if("object"===y(r)&&null!==r){var t=r[Symbol.toPrimitive];if(void 0!==t){r=t.call(r,"string");if("object"!==y(r))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}r=String(r)}}r="symbol"===y(r)?r:String(r);m.call(a,E,r,x)}}function v(E,c,f){c&&l(E.prototype,c);f&&l(E,f);Object.defineProperty(E,"prototype",{writable:!1});return E}Object.defineProperty(C,"__esModule",{value:!0});
C.default=void 0;C.default=function(){function E(){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");}v(E,[{key:"merge",value:function(c){return!1}},{key:"noChange",value:function(){return!1}},{key:"getMemoryUsed",value:function(c,f){return 0}},{key:"compact",value:function(){}}]);return E}();L.exports=C.default},{}],23:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(l){var v=(0,y.default)('<div class="modal fade chickenpaint-about-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">About ChickenPaint v2</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <a class="chickenpaint-on-github" target="_blank" href="https://github.com/thenickdude/chickenpaint"><span class="fab fa-github"></span> ChickenPaint on GitHub</a>\n                            \n                            <p>\n                                ChickenPaint is a translation of <a href="https://github.com/thenickdude/chibipaint" target="_blank">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n                                ChickenPaint is distributed in the hope that it will be useful,\n                                but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                <a target="_blank" href="https://www.gnu.org/licenses/">GNU General Public License</a> for more details.\n                            </p>\n        \n                            <pre class="pre-scrollable chickenpaint-third-party-licenses">Toolbar icons designed by <a target="_blank" href="https://github.com/Anteira">Miglena Lapavicheva (Anteira)</a>\n    These icons are dual-licensed under <a target="_blank" href="https://spdx.org/licenses/GPL-3.0-or-later.html">GPL-3.0-or-later</a> and <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/">CC-BY-3.0</a>\n\nIncludes icons from the <a target="_blank" href="https://extensions.libreoffice.org/en/extensions/show/tango-icon-theme-for-libreoffice">Tango Icon Theme for LibreOffice</a>:\n    All artwork is licensed under the Creative Commons Attribution-Share Alike 3.0\n    United States License. To view a copy of this licence, visit\n    https://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative\n    Commons, 171 Second Street, Suite 300, San Francisco, California 94105, USA.\n    \n    Credit for icons imported from git://git.gnome.org/gnome-icon-theme or derivatives\n    of these goes to the GNOME project (https://www.gnome.org)\n    Derivatives and new icons were created by Alexander Wilms &lt;f.alexander.wilms@gmail.com> \n    and Miroslav Mazel &lt;mazelm@gmail.com>\n    \nIncludes these MIT-licensed libraries:\n\n    Includes the <a target="_blank" href="https://github.com/eligrey/FileSaver.js">FileSaver.js library</a>\n    FileSaver.js Copyright \u00a9 2015 <a target="_blank" href="https://eligrey.com/">Eli Grey</a>\n\n    Includes the <a target="_blank" href="https://github.com/nodeca/pako">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target="_blank" href="https://github.com/madrobby/keymaster">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target="_blank" href="https://github.com/stefanpenner/es6-promise">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target="_blank" href="https://benalman.com/projects/jquery-throttle-debounce-plugin/">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 "Cowboy" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://www.jquery.com/" target="_blank">jQuery library</a> \nCopyright <a href="https://jquery.org/" target="_blank">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://github.com/jquery/PEP/" target="_blank">jQuery PEP library</a>\nCopyright jQuery Foundation and other contributors, https://jquery.org/\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/PEP\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation \n    files (the "Software"), to deal in the Software without \n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or \n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following \n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR \n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes Font Awesome by Dave Gandy - <a href="https://fontawesome.io" target="_blank">https://fontawesome.io</a>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ');
v.on("hidden.bs.modal",function(E){v.remove()});v.modal({show:!1});v.data("bs.modal").$body=(0,y.default)(l);l.appendChild(v[0]);this.show=function(){v.modal("show")}};var y=function(l){return l&&l.__esModule?l:{default:l}}(k("jquery"));L.exports=C.default},{jquery:297}],24:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(v,E){var c=(0,y.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,l._)("Box blur"),
'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,l._)("Blur amount (pixels)"),'</label>\n                                    <input type="text" class="form-control chickenpaint-blur-amount" value="3">\n                                </div>\n                                <div class="form-group">\n                                    <label>').concat((0,l._)("Iterations (1-8, larger gives smoother blur)"),
'</label>\n                                    <input type="text" class="form-control chickenpaint-blur-iterations" value="1">\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-dismiss="modal">').concat((0,l._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-box-blur" data-dismiss="modal">').concat((0,l._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),f=(0,y.default)(".chickenpaint-blur-amount",c),x=(0,y.default)(".chickenpaint-blur-iterations",c),a=(0,y.default)(".chickenpaint-apply-box-blur",c);this.show=function(){c.modal("show")};a.on("click",function(m){m=Math.max(parseInt(f.val(),10),1);var r=Math.min(Math.max(parseInt(x.val(),10),1),8);E.getArtwork().boxBlur(m,m,r)});c.modal({show:!1}).on("shown.bs.modal",function(){f.trigger("focus")}).on("keypress",
function(m){"Enter"===m.key&&a.trigger("click")});c.data("bs.modal").$body=(0,y.default)(v);v.appendChild(c[0])};var y=function(v){return v&&v.__esModule?v:{default:v}}(k("jquery")),l=k("../languages/lang.js");L.exports=C.default},{"../languages/lang.js":54,jquery:297}],25:[function(k,L,C){function y(w){return w&&w.__esModule?w:{default:w}}function l(w,I){var O=document.createElement("div");O.className="chickenpaint-checkbox-slider-group";O.appendChild(w.getElement());O.appendChild(I.getElement());
return O}function v(w,I){for(var O in I)if(I.hasOwnProperty(O)){var z=document.createElement("option");z.appendChild(document.createTextNode((0,F._)(I[O])));z.value=O;w.appendChild(z)}}function E(w){function I(){H.gradient(H.getBounds(),0,0,H.width,0,S,!0);N.putImageData(H.imageData,0,0,0,0,150,32);z.fillRect(0,0,O.width,O.height);z.drawImage(J,0,0)}var O=document.createElement("canvas"),z=O.getContext("2d"),G=(0,h.createCheckerboardPattern)(z),H=new n.default(150,32),J=document.createElement("canvas"),
N=J.getContext("2d"),S=w.getCurGradient();this.getElement=function(){return O};w.on("gradientChange",function(ia){S=ia;I()});O.width=J.width=150;O.height=J.height=32;O.className="chickenpaint-gradient-preview";z.fillStyle=G;I()}function c(w){r.default.call(this,w,"brush","Tool options");var I=new f(w),O=new x(w),z=new a(w),G=this.getBodyElement();G.appendChild(I.getElement());G.appendChild(O.getElement());G.appendChild(z.getElement());w.on("modeChange",function(H){I.getElement().style.display="none";
O.getElement().style.display="none";z.getElement().style.display="none";switch(H){case m.default.M_GRADIENTFILL:O.getElement().style.display="block";break;case m.default.M_TRANSFORM:z.getElement().style.display="block";break;default:I.getElement().style.display="block"}})}function f(w){var I=[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,45,50,60,70,80,90,100,125,150,175,200],O=document.createElement("div"),z=document.createElement("select"),G=new t.default(!1,(0,F._)("Control brush opacity with pen pressure")),
H=new e.default(1,255),J=new t.default(!0,(0,F._)("Control brush size with pen pressure")),N=new e.default(1,200,!1,!0),S=new t.default(!1,(0,F._)("Control brush scattering with pen pressure")),ia=new e.default(0,1E3,!1,!0),da=new e.default(0,100,!1,!0),ta=new e.default(0,100,!1,!0),oa=new e.default(0,100,!1,!0),R=new e.default(0,100,!1,!0),pa=new c.CPBrushPreview(w);this.getElement=function(){return O};H.title=function(ja){return(0,F._)("Opacity")+": "+ja};H.on("valueChange",function(ja){w.setAlpha(ja)});
N.title=function(ja){return(0,F._)("Brush size")+": "+ja};N.on("valueChange",function(ja){w.setBrushSize(ja)});da.title=function(ja){return(0,F._)("Color")+": "+ja+"%"};da.on("valueChange",function(ja){w.getBrushInfo().resat=ja/100;w.callToolListeners()});ta.title=function(ja){return(0,F._)("Blend")+": "+ja+"%"};ta.on("valueChange",function(ja){w.getBrushInfo().bleed=ja/100;w.callToolListeners()});oa.title=function(ja){return(0,F._)("Spacing")+": "+ja+"%"};oa.on("valueChange",function(ja){w.getBrushInfo().spacing=
ja/100;w.callToolListeners()});ia.title=function(ja){return(0,F._)("Scattering")+": "+ja+"%"};ia.on("valueChange",function(ja){w.getBrushInfo().scattering=ja/100;w.callToolListeners()});R.title=function(ja){return(0,F._)("Smoothing")+": "+ja+"%"};R.on("valueChange",function(ja){w.getBrushInfo().smoothing=ja/100;w.callToolListeners()});S.on("valueChange",function(ja){w.getBrushInfo().pressureScattering=ja;w.callToolListeners()});G.on("valueChange",function(ja){w.getBrushInfo().pressureAlpha=ja;w.callToolListeners()});
J.on("valueChange",function(ja){w.getBrushInfo().pressureSize=ja;w.callToolListeners()});z.addEventListener("change",function(ja){w.getBrushInfo().tip=parseInt(z.value,10)});z.className="form-control form-control-sm";v(z,["Round Pixelated","Round Hard Edge","Round Soft","Square Pixelated","Square Hard Edge"]);O.appendChild(z);O.appendChild(pa.getElement());O.appendChild(l(J,N));O.appendChild(l(G,H));O.appendChild(da.getElement());O.appendChild(ta.getElement());O.appendChild(oa.getElement());O.appendChild(l(S,
ia));O.appendChild(R.getElement());G.setValue(w.getBrushInfo().pressureAlpha);H.setValue(w.getAlpha());J.setValue(w.getBrushInfo().pressureSize);N.setValue(w.getBrushSize());S.setValue(w.getBrushInfo().pressureScattering);ia.setValue(~~(100*w.getBrushInfo().scattering));z.value=w.getBrushInfo().tip;da.setValue(~~(100*w.getBrushInfo().resat));ta.setValue(~~(100*w.getBrushInfo().bleed));oa.setValue(~~(100*w.getBrushInfo().spacing));R.setValue(~~(100*w.getBrushInfo().smoothing));w.on("toolChange",function(ja,
za){H.setValue(za.alpha);N.setValue(za.size);J.setValue(za.pressureSize);G.setValue(za.pressureAlpha);z.value=za.tip;S.setValue(za.pressureScattering);~~(100*za.resat)!=da.value&&da.setValue(~~(100*za.resat));~~(100*za.bleed)!=ta.value&&ta.setValue(~~(100*za.bleed));~~(100*za.spacing)!=oa.value&&oa.setValue(~~(100*za.spacing));~~(100*za.scattering)!=ia.value&&ia.setValue(~~(100*za.scattering));~~(100*za.smoothing)!=R.value&&R.setValue(~~(100*za.smoothing))});(0,A.default)("1,2,3,4,5,6,7,8,9,0",function(ja,
za){ja=parseInt(za.shortcut,10);0==ja&&(ja=10);w.setAlpha(Math.round(ja/10*255))});(0,A.default)("{,[",function(){for(var ja=w.getBrushSize(),za=I.length-1;0<=za;za--)if(ja>I[za]){w.setBrushSize(I[za]);break}});(0,A.default)("},]",function(){for(var ja=w.getBrushSize(),za=0;za<I.length;za++)if(ja<I[za]){w.setBrushSize(I[za]);break}})}function x(w){function I(){var N=[G.getAlpha()<<24|G.getColorRgb(),H.getAlpha()<<24|H.getColorRgb()];w.setCurGradient(N)}var O=document.createElement("div"),z=new E(w),
G=new b.default(new g.default(w.getCurGradient()[0]&16777215),w.getCurGradient()[0]>>>24,O),H=new b.default(new g.default(w.getCurGradient()[1]&16777215),w.getCurGradient()[1]>>>24,O);this.getElement=function(){return O};O.className="chickenpaint-gradient-panel";O.style.display="none";G.on("colorChange",I);G.on("alphaChange",I);H.on("colorChange",I);H.on("alphaChange",I);var J=document.createElement("p");J.innerHTML="Gradient";O.appendChild(J);O.appendChild(z.getElement());z=document.createElement("div");
z.className="chickenpaint-gradient-colors";J=document.createElement("div");J.className="chickenpaint-gradient-start-color";J.appendChild(G.getElement());z.appendChild(J);J=document.createElement("div");J.className="chickenpaint-gradient-end-color";J.appendChild(H.getElement());z.appendChild(J);O.appendChild(z)}function a(w){var I=document.createElement("div"),O=document.createElement("button"),z=document.createElement("button"),G=document.createElement("select");this.getElement=function(){return I};
I.className="chickenpaint-transform-panel";I.style.display="none";O.type="button";z.type="button";O.className="btn btn-primary btn-block";z.className="btn btn-light btn-block";O.innerHTML="Apply transform";z.innerHTML="Cancel";G.addEventListener("change",function(N){w.setTransformInterpolation(this.value)});G.className="form-control chickenpaint-transform-interpolation";v(G,{smooth:"Smooth",sharp:"Sharp"});if((0,p.isCanvasInterpolationSupported)()){var H=document.createElement("div"),J=document.createElement("label");
J.innerHTML="Transform style";H.className="form-group";H.appendChild(J);H.appendChild(G);I.appendChild(H)}G=document.createElement("div");G.appendChild(O);G.appendChild(z);G.className="form-group";I.appendChild(G);O.addEventListener("click",function(N){w.actionPerformed({action:"CPTransformAccept"});N.preventDefault()});z.addEventListener("click",function(N){w.actionPerformed({action:"CPTransformReject"});N.preventDefault()})}Object.defineProperty(C,"__esModule",{value:!0});C.default=c;var m=y(k("../ChickenPaint.js")),
r=y(k("./CPPalette.js")),t=y(k("./CPCheckbox.js")),b=y(k("./CPColorSwatch.js")),e=y(k("./CPSlider.js")),h=k("./CPGUIUtils.js"),n=y(k("../engine/CPColorBmp.js")),g=y(k("../util/CPColor.js")),p=k("../util/CPPolyfill.js"),u=y(k("jquery")),A=y(k("../../lib/keymaster.js")),F=k("../languages/lang");c.prototype=Object.create(r.default.prototype);c.prototype.constructor=c;c.CPBrushPreview=function(w){function I(){J.clearRect(0,0,H.width,H.height);J.beginPath();J.arc(H.width/2,H.height/2,G/2*window.devicePixelRatio,
0,2*Math.PI);J.stroke()}function O(S){var ia=(0,u.default)(H).offset(),da=S.pageY-ia.top;S=S.pageX-ia.left-(0,u.default)(H).width()/2;da-=(0,u.default)(H).height()/2;G=Math.max(1,Math.min(200,Math.round(2*Math.sqrt(S*S+da*da))));I();w.setBrushSize(G)}function z(S){N&&(N=!1,window.removeEventListener("mouseup",z),window.removeEventListener("mousemove",O))}var G=16,H=document.createElement("canvas"),J=H.getContext("2d"),N=!1;this.getElement=function(){return H};H.addEventListener("mousedown",function(S){N||
(N=!0,window.addEventListener("mouseup",z),window.addEventListener("mousemove",O),O(S))});w.on("toolChange",function(S,ia){ia.size!=G&&(G=ia.size,I())});H.width=64;H.height=64;1<window.devicePixelRatio&&(H.style.width=H.width+"px",H.style.height=H.height+"px",H.width*=window.devicePixelRatio,H.height*=window.devicePixelRatio);H.className="chickenpaint-brush-preview";J.strokeStyle="black";J.lineWidth=1*window.devicePixelRatio;I()};L.exports=C.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,
"../engine/CPColorBmp.js":13,"../languages/lang":54,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"./CPCheckbox.js":27,"./CPColorSwatch.js":31,"./CPGUIUtils.js":33,"./CPPalette.js":39,"./CPSlider.js":44,jquery:297}],26:[function(k,L,C){function y(J){return J&&J.__esModule?J:{default:J}}function l(){this.modes=[]}function v(J){function N(){}function S(){}function ia(){this.shouldPaintBrushPreview=!1;this.oldPreviewRect=null}function da(){ia.call(this);this.smoothMouse={x:0,y:0}}function ta(){var ha,
La;this.mouseDown=function(Sa,ib,jb){if(!this.capture&&0==ib&&!Sa.altKey&&!f.default.isPressed("space")&&T())return this.capture=!0,ha=La={x:Ta+.5,y:pb+.5},this.eraseBrushPreview(),!0};this.mouseDrag=function(Sa){if(this.capture){var ib=new x.default(Math.min(ha.x,La.x)-1-1,Math.min(ha.y,La.y)-1-1,Math.max(ha.x,La.x)+1+1+1,Math.max(ha.y,La.y)+1+1+1);La={x:Ta+.5,y:pb+.5};if(Sa.shiftKey){var jb=Math.PI/4;Sa=Math.round(Math.atan2(La.y-ha.y,La.x-ha.x)/jb);switch(Sa){case 0:case 4:La.y=ha.y;break;case 2:case 6:La.x=
ha.x;break;default:Sa*=jb,jb=Math.sqrt((La.y-ha.y)*(La.y-ha.y)+(La.x-ha.x)*(La.x-ha.x)),La.x=ha.x+jb*Math.cos(Sa),La.y=ha.y+jb*Math.sin(Sa)}}ib.union(new x.default(Math.min(ha.x,La.x)-1-1,Math.min(ha.y,La.y)-1-1,Math.max(ha.x,La.x)+1+1+1,Math.max(ha.y,La.y)+1+1+1));va(ib);return!0}this.mouseMove.call(this,Sa)};this.mouseUp=function(Sa,ib,jb){if(this.capture&&0==ib)return Sa=Ia(ha),ib=Ia(La),this.capture=!1,this.drawLine(Sa,ib),Sa=new x.default(Math.min(ha.x,La.x)-1-1,Math.min(ha.y,La.y)-1-1,Math.max(ha.x,
La.x)+1+1+1,Math.max(ha.y,La.y)+1+1+1),va(Sa),!0};this.paint=function(){this.capture?(K.lineWidth=1,K.beginPath(),K.moveTo(ha.x,ha.y),K.lineTo(La.x,La.y),K.stroke()):ia.prototype.paint.call(this)};ia.call(this)}function oa(){var ha=0,La,Sa,ib,jb;this.mouseDown=function(hb,W,qa){if(!this.capture&&0==W&&!hb.altKey&&!f.default.isPressed("space")&&T())return hb=Ia({x:Ta,y:pb}),ha=0,La=Sa=ib=jb=hb,this.capture=!0,this.eraseBrushPreview(),!0};this.mouseDrag=function(hb){if(this.capture&&0===ha)return ib=
jb=Ia({x:Ta,y:pb}),Ga.repaintAll(),!0;this.mouseMove.call(this,hb)};this.mouseUp=function(hb,W,qa){if(this.capture&&0==W){switch(ha){case 0:ha=1;break;case 1:ha=2;break;case 2:this.capture=!1;W=La;qa=Sa;var Ma=ib,ka=jb;hb=new r.default;hb.x0=W.x;hb.y0=W.y;hb.x1=qa.x;hb.y1=qa.y;hb.x2=Ma.x;hb.y2=Ma.y;hb.x3=ka.x;hb.y3=ka.y;W=Array(500);qa=Array(500);hb.compute(W,qa,500);Va.beginStroke(W[0],qa[0],1);for(hb=1;500>hb;hb++)Va.continueStroke(W[hb],qa[hb],1);Va.endStroke();Ga.repaintAll()}return!0}};this.mouseMove=
function(hb,W){if(this.capture)return hb=Ia({x:Ta,y:pb}),1==ha?Sa=hb:2==ha&&(ib=hb),Ga.repaintAll(),!0;ia.prototype.mouseMove.call(this,hb,W)};this.paint=function(){if(this.capture){var hb=new r.default,W=ub(La),qa=ub(Sa),Ma=ub(ib),ka=ub(jb);hb.x0=W.x;hb.y0=W.y;hb.x1=qa.x;hb.y1=qa.y;hb.x2=Ma.x;hb.y2=Ma.y;hb.x3=ka.x;hb.y3=ka.y;var Ea=Array(100),Pa=Array(100);hb.compute(Ea,Pa,100);K.beginPath();K.moveTo(Ea[0],Pa[0]);for(hb=1;100>hb;hb++)K.lineTo(Ea[hb],Pa[hb]);K.moveTo(~~W.x,~~W.y);K.lineTo(~~qa.x,
~~qa.y);K.moveTo(~~Ma.x,~~Ma.y);K.lineTo(~~ka.x,~~ka.y);K.stroke()}else ia.prototype.paint.call(this)};ia.call(this)}function R(){var ha;this.mouseDown=function(La,Sa,ib){if(this.capture)return!0;if(f.default.isPressed("space")||(0!=Sa||this.transient&&!La.altKey)&&2!=Sa)this.transient&&nb.pop();else return ha=Sa,this.capture=!0,ab("crosshair"),this.mouseDrag(La),!0};this.mouseDrag=function(La){if(this.capture)return La=Ia({x:Ta,y:pb}),Va.isPointWithin(La.x,La.y)&&J.setCurColor(new F.default(Va.colorPicker(La.x,
La.y))),!0};this.mouseUp=function(La,Sa,ib){if(this.capture&&Sa==ha)return ha=-1,this.capture=!1,ab("default"),this.transient&&nb.pop(),!0};this.enter=function(){N.prototype.enter.call(this);ha=-1}}function pa(){var ha,La,Sa,ib;this.keyDown=function(jb){if(" "===jb.key)return this.capture||ab("grab"),!0};this.keyUp=function(jb){if(this.transient&&1!=ib&&" "===jb.key)return ab("default"),nb.pop(),!0};this.mouseDown=function(jb,hb,W){if(this.capture)return!0;if(1==hb||f.default.isPressed("space")&&
0==hb||!this.transient&&0==hb)return this.capture=!0,ib=hb,ha=jb.pageX,La=jb.pageY,Sa=Ga.getOffset(),ab("grabbing"),!0;this.transient&&nb.pop()};this.mouseDrag=function(jb){if(this.capture)return Ga.setOffset(Sa.x+jb.pageX-ha,Sa.y+jb.pageY-La),!0};this.mouseUp=function(jb,hb,W){if(this.capture&&hb==ib)return ib=-1,this.capture=!1,this.transient&&!f.default.isPressed("space")&&(ab("default"),nb.pop()),!0};this.enter=function(){ab("grab")}}function ja(){}function za(){var ha,La=new x.default(0,0,0,
0),Sa=-1;this.mouseDown=function(ib,jb,hb){if(!this.capture&&0==jb&&!ib.altKey&&!f.default.isPressed("space"))return ib=Ya({x:Ta,y:pb}),Sa=jb,La.makeEmpty(),ha=ib,Ga.repaintAll(),this.capture=!0};this.mouseDrag=function(ib){if(!this.capture)return!1;var jb=Ya({x:Ta,y:pb});ib=ib.shiftKey;var hb=~~Math.max(Math.abs(jb.x-ha.x),Math.abs(jb.y-ha.y));jb.x>=ha.x?(La.left=ha.x,La.right=(ib?ha.x+hb:jb.x)+1):(La.left=ib?ha.x-hb:jb.x,La.right=ha.x+1);jb.y>=ha.y?(La.top=ha.y,La.bottom=(ib?ha.y+hb:jb.y)+1):(La.top=
ib?ha.y-hb:jb.y,La.bottom=ha.y+1);Ga.repaintAll();return!0};this.mouseUp=function(ib,jb,hb){if(this.capture&&jb==Sa)return Va.rectangleSelection(La),La.makeEmpty(),Ga.repaintAll(),this.capture=!1,Sa=-1,!0};this.paint=function(){La.isEmpty()||(K.lineWidth=1,Oa(K,sa(La)))}}function ua(){var ha,La,Sa=!1;this.mouseDown=function(ib,jb,hb){if(!this.capture&&0==jb&&!f.default.isPressed("space")&&gb())return ha=Ia({x:Ta,y:pb}),La=ib.altKey,this.capture=Sa=!0};this.mouseDrag=(0,t.throttle)(25,function(ib){if(this.capture){ib=
Ia({x:Ta,y:pb});var jb=ib.x-ha.x,hb=ib.y-ha.y,W=~~jb,qa=~~hb;if(0!=W||0!=qa)Va.move(W,qa,La&&Sa),Sa=!1;ha.x=ib.x-(jb-W);ha.y=ib.y-(hb-qa);return!0}});this.mouseUp=function(ib,jb,hb){if(this.capture&&0==jb)return this.capture=!1,this.transient&&nb.pop(),!0}}function Ha(){function ha(Ja,Xa){return{x:(Ja.x+Xa.x)/2,y:(Ja.y+Xa.y)/2}}function La(Ja){return{x:Math.round(Ja.x),y:Math.round(Ja.y)}}function Sa(Ja,Xa){for(var $a=0;$a<Ja.points.length;$a++)if(49>=(Xa.x-Ja.points[$a].x)*(Xa.x-Ja.points[$a].x)+
(Xa.y-Ja.points[$a].y)*(Xa.y-Ja.points[$a].y))return 2*$a;for($a=0;$a<Ja.points.length;$a++){var ob=Ja.points[$a],qb=Ja.points[($a+1)%Ja.points.length];qb=new h.default(qb.x-ob.x,qb.y-ob.y);ob=new h.default(Xa.x-ob.x,Xa.y-ob.y);var bc=qb.getLength(),Ab=qb.getScaled(1/bc);bc=ob.getScaled(1/bc);Ab=Ab.getDotProduct(bc);if(0<=Ab&&1>=Ab&&(qb.scale(Ab),49>=(qb.x-ob.x)*(qb.x-ob.x)+(qb.y-ob.y)*(qb.y-ob.y)))return 2*$a+1}return Ja.containsPoint(Xa)?-3:-2}function ib(){var Ja=qa.getTransformed(Mb),Xa=Sa(Ja,
{x:Ta,y:pb});switch(Xa){case 0:case 2:case 4:case 6:Xa=~~(Xa/2);var $a=Ja.points[Xa],ob=Ja.points[(Xa+1)%4];Ja=h.default.subtractPoints(Ja.points[(Xa+3)%4],$a).normalize().add(h.default.subtractPoints(ob,$a).normalize());jb(Ja);break;case 1:case 3:case 5:case 7:Ja=h.default.subtractPoints(Ja.points[(~~(Xa/2)+1)%4],Ja.points[~~(Xa/2)]).getPerpendicular();jb(Ja);break;case -3:ab("move");break;case -2:ab("default");break;default:ab("default")}}function jb(Ja){Ja=Math.floor(Math.atan2(-Ja.y,Ja.x)/(Math.PI/
4)+.5);0>Ja&&(Ja+=4);switch(Ja){default:Ja="ew-resize";break;case 1:Ja="nesw-resize";break;case 2:Ja="ns-resize";break;case 3:Ja="nwse-resize"}ab(Ja)}var hb,W,qa,Ma=-1,ka,Ea,Pa;this.mouseDown=function(Ja,Xa,$a){if(!this.capture&&0==Xa&&!Ja.altKey&&!f.default.isPressed("space"))return Ja=qa.getTransformed(Mb),Ma=Sa(Ja,{x:Ta,y:pb}),ka={x:Ta,y:pb},Ea=Ia(ka),this.capture=!0,ib(),!0};this.mouseDrag=(0,t.throttle)(40,function(Ja){if(this.capture){var Xa={x:Ta,y:pb};switch(Ma){case -3:Ja=La(Ia(Xa));var $a=
h.default.subtractPoints(Ja,Ea);Xa=$a.getTruncated();$a=$a.subtract(Xa);var ob=new a.default;ob.translate(Xa.x,Xa.y);hb.preMultiply(ob);Ea=h.default.subtractPoints(Ja,$a);break;case -2:ob=Math.PI/4;$a=qa.getCenter();var qb=ub($a),bc=Math.atan2(Xa.y-qb.y,Xa.x-qb.x)-Math.atan2(ka.y-qb.y,ka.x-qb.x);qb=new a.default;Pa+=bc;Ja=Ja.shiftKey?-hb.decompose().rotate+Math.round(Pa/ob)*ob:bc;qb.rotateAroundPoint(Ja,$a.x,$a.y);hb.preMultiply(qb);ka=Xa;break;case 0:case 2:case 4:case 6:ob=~~(Ma/2);$a=W.points[ob];
qb=hb.getInverted().getTransformedPoint(La(Ia(Xa)));Xa=W.points[(ob+2)%4];ob=(qb.x-Xa.x)/($a.x-Xa.x);$a=(qb.y-Xa.y)/($a.y-Xa.y);if(.001>Math.abs(ob)||.001>Math.abs($a)||isNaN(ob)||isNaN($a))return!0;Ja.shiftKey&&($a=ob=Ja=Math.max(ob,$a));hb.scaleAroundPoint(ob,$a,Xa.x,Xa.y);break;case 1:case 5:case 3:case 7:Ja=~~(Ma/2);$a=ha(W.points[Ja],W.points[(Ja+1)%4]);Xa=hb.getInverted().getTransformedPoint(La(Ia(Xa)));Ja=ha(W.points[(Ja+2)%4],W.points[(Ja+3)%4]);$a=h.default.subtractPoints($a,Ja);Xa=h.default.subtractPoints(Xa,
Ja);ob=$a.getLength();$a=$a.getDotProduct(Xa)/ob/ob;if(.001>Math.abs($a)||isNaN($a))return!0;1==Ma||5==Ma?Xa=1:(Xa=$a,$a=1);hb.scaleAroundPoint(Xa,$a,Ja.x,Ja.y)}qa=W.getTransformed(hb);Va.transformAffineAmend(hb);Ga.repaintAll();return!0}});this.mouseUp=function(Ja,Xa,$a){if(this.capture&&0==Xa)return this.capture=!1,Ma=-1,!0};this.mouseMove=function(){this.capture||ib()};this.paint=function(){for(var Ja=qa.getTransformed(Mb).points,Xa=Array(2*Ja.length),$a=0;$a<Ja.length;$a++)Xa[$a]=Ja[$a];for($a=
0;$a<Ja.length;$a++){var ob=Ja[$a],qb=Ja[($a+1)%Ja.length];Xa[$a+Ja.length]={x:(ob.x+qb.x)/2,y:(ob.y+qb.y)/2}}(0,u.setContrastingDrawStyle)(K,"fill");for($a=0;$a<Xa.length;$a++)K.fillRect(Xa[$a].x-3,Xa[$a].y-3,7,7);Oa(K,Ja)};this.keyDown=function(Ja){if("Enter"===Ja.key)return J.actionPerformed({action:"CPTransformAccept"}),!0;if("Escape"===Ja.key)return J.actionPerformed({action:"CPTransformReject"}),!0};this.enter=function(){N.prototype.enter.call(this);var Ja=Va.transformAffineBegin();hb=Ja.transform;
var Xa=Ja.selection;Xa.isEmpty()&&(Xa=Ja.rect.clone());W=new b.default(Xa.toPoints());qa=W.getTransformed(hb);Ma=-1;Pa=0;Ga.repaintAll()};this.leave=function(){N.prototype.leave.call(this);Ga.repaintAll()}}function ra(){var ha,La,Sa=0,ib,jb=!1,hb=-1;this.mouseDown=function(W,qa,Ma){if(this.capture)return!0;if(!this.transient&&0==qa&&!W.altKey&&!f.default.isPressed("space")||W.altKey&&(1==qa||0==qa&&f.default.isPressed("space")))return ha=Ta,La=pb,Sa=Ga.getRotation(),ib=Mb.clone(),jb=!1,this.capture=
!0,hb=qa,!0;this.transient&&nb.pop()};this.mouseDrag=function(W){if(this.capture){var qa=Ta,Ma=pb,ka=(0,c.default)(D).width()/2,Ea=(0,c.default)(D).height()/2;W=D.width/2;var Pa=D.height/2;qa=Math.atan2(Ma-Ea,qa-ka)-Math.atan2(La-Ea,ha-ka);Ma=new a.default;Ma.rotateAroundPoint(qa,W,Pa);Ma.multiply(ib);Ga.setRotation(Sa+qa);Ga.setOffset(~~Ma.getTranslateX(),~~Ma.getTranslateY());return jb=!0}};this.mouseUp=function(W,qa,Ma){if(this.capture&&qa==hb){if(jb){W=Math.round(cc/(Math.PI/2))*Math.PI/2;if(Math.abs(cc-
W)<5/180*Math.PI){W-=Sa;qa=D.width/2;Ma=D.height/2;var ka=new a.default;ka.rotateAroundPoint(W,qa,Ma);ka.multiply(ib);Ga.setRotation(Sa+W);Ga.setOffset(~~ka.getTranslateX(),~~ka.getTranslateY());Ga.repaintAll()}Ga.emitEvent("canvasRotated90",[Ga.getRotation90()])}else Ga.resetRotation();this.capture=!1;!this.transient||f.default.isPressed("space")&&f.default.alt||nb.pop();return!0}};this.keyUp=function(W){if(this.transient&&1!=hb&&" "===W.key)return ab("default"),nb.pop(),!0};this.keyDown=function(W){if(" "===
W.key&&W.altKey)return!0}}function Qa(){ta.call(this)}function ab(ha){D.getAttribute("data-cursor")!=ha&&D.setAttribute("data-cursor",ha)}function gb(){var ha=Va.getActiveLayer();return ha.visible&&ha.ancestorsAreVisible()?0==ha.alpha?(J.showLayerNotification(ha,"Whoops! This layer's opacity is currently 0%","opacity"),!1):!0:(J.showLayerNotification(ha,"Whoops! This layer is currently hidden","layer"),!1)}function T(){var ha=Va.getActiveLayer();return ha instanceof p.default&&!Va.isEditingMask()?
(J.showLayerNotification(ha,"Whoops! You can't draw on a group","layer"),!1):gb()}function ea(ha,La,Sa,ib,jb){ha.setValues(-jb,ib,La-ib-jb+Sa/4,La+Sa-jb-Sa/4);ha.setBlockIncrement(Math.max(1,~~(.66*ib)));ha.setUnitIncrement(Math.max(1,~~(.05*ib)))}function ya(){Mb.setToIdentity();Mb.translate(P,Ib);Mb.scale(Eb,Eb);Mb.rotate(cc);if(null!=hc&&null!=Zb&&!hc.getValueIsAdjusting()&&!Zb.getValueIsAdjusting()){var ha=Ka(new x.default(0,0,Z.width,Z.height));ea(hc,ha.left,ha.getWidth(),(0,c.default)(D).width(),
Ga.getOffset().x);ea(Zb,ha.top,ha.getHeight(),(0,c.default)(D).height(),Ga.getOffset().y)}Ga.repaintAll()}function Ia(ha){return Mb.getInverted().getTransformedPoint(ha)}function Ya(ha){ha=Ia(ha);ha.x=Math.floor(ha.x);ha.y=Math.floor(ha.y);return ha}function sb(ha){var La=D.getBoundingClientRect();return{x:ha.x-La.left-window.pageXOffset,y:ha.y-La.top-window.pageYOffset}}function ub(ha){return Mb.getTransformedPoint(ha)}function Na(ha){ha=ub(ha);ha.x=Math.round(ha.x);ha.y=Math.round(ha.y);return ha}
function sa(ha){var La=ub({x:(ha.left+ha.right)/2,y:(ha.top+ha.bottom)/2});ha=ha.toPoints();for(var Sa=0;Sa<ha.length;Sa++)ha[Sa]=Na(ha[Sa]),ha[Sa].x+=.5*Math.sign(La.x-ha[Sa].x),ha[Sa].y+=.5*Math.sign(La.y-ha[Sa].y);return ha}function Oa(ha,La){ha.beginPath();ha.moveTo(La[0].x,La[0].y);for(var Sa=1;Sa<La.length;Sa++)ha.lineTo(La[Sa].x,La[Sa].y);ha.lineTo(La[0].x,La[0].y);ha.stroke()}function Ka(ha){var La=Na({x:ha.left-1,y:ha.top-1}),Sa=Na({x:ha.left-1,y:ha.bottom}),ib=Na({x:ha.right,y:ha.top-1});
ha=Na({x:ha.right,y:ha.bottom});La=new x.default(Math.min(Math.min(La.x,Sa.x),Math.min(ib.x,ha.x)),Math.min(Math.min(La.y,Sa.y),Math.min(ib.y,ha.y)),Math.max(Math.max(La.x,Sa.x),Math.max(ib.x,ha.x))+1,Math.max(Math.max(La.y,Sa.y),Math.max(ib.y,ha.y))+1);La.grow(2,2);return La}function bb(){var ha=D.width,La=D.height,Sa=ub({x:Va.width/2,y:Va.height/2});Ga.setOffset(Math.round(P+ha/2-Sa.x),Math.round(Ib+La/2-Sa.y))}function V(ha,La,Sa){ha=Math.max(.1,Math.min(16,ha));if(Ga.getZoom()!=ha){var ib=Ga.getOffset();
Ga.setOffset(ib.x+~~((La-ib.x)*(1-ha/Ga.getZoom())),ib.y+~~((Sa-ib.y)*(1-ha/Ga.getZoom())));Ga.setZoom(ha);Ga.repaintAll()}}function ca(ha){var La=(0,c.default)(D).width(),Sa=(0,c.default)(D).height();V(ha,La/2,Sa/2)}function fa(ha){return Ac?mb.getPressure():"mouse"===ha.pointerType&&0!==ha.buttons&&0===ha.pressure?1:"touch"===ha.pointerType?(0!==ha.pressure&&(tc=!0),tc?2*ha.pressure:1):2*ha.pressure}function ba(){kc||(kc=!0,window.requestAnimationFrame(function(){Ga.paint()}))}function va(ha){yb.union(ha);
ba()}function Fa(){gc=Va.getBounds();Ga.repaintAll()}var Ga=this,na=document.createElement("div"),X=document.createElement("div"),aa=document.createElement("div"),D=document.createElement("canvas"),K=D.getContext("2d"),Z=document.createElement("canvas"),Aa=Z.getContext("2d"),Ra=(0,u.createCheckerboardPattern)(K),Va=J.getArtwork(),Eb=1,P=0,Ib=0,cc=0,Mb=new a.default,sc=!1,eb=!1,Jb=32,Ta=0,pb=0,Ub=!1,Cb=[!1,!1,!1],Ac=!1,lc=!1,tc=!1,gc=Va.getBounds(),yb=new x.default(0,0,0,0),kc=!1,Fb,Rb=[],nb=new l,
hc=new A.default(!1),Zb=new A.default(!0),mb=m.default.getRef();Math.sign=Math.sign||function(ha){ha=+ha;return 0===ha||isNaN(ha)?ha:0<ha?1:-1};N.prototype.transient=!1;N.prototype.capture=!1;N.prototype.enter=function(){ab("default")};N.prototype.leave=function(){this.capture=!1};N.prototype.mouseMove=N.prototype.paint=N.prototype.mouseDown=N.prototype.mouseDrag=N.prototype.mouseUp=N.prototype.keyDown=N.prototype.suspend=N.prototype.resume=N.prototype.keyUp=function(){};S.prototype=Object.create(N.prototype);
S.prototype.constructor=S;S.prototype.mouseDown=function(ha,La,Sa){var ib=f.default.isPressed("space");if(!ib&&(2==La||0==La&&ha.altKey))nb.push(xc,!0),nb.peek().mouseDown(ha,La,Sa);else if(1==La||ib&&0==La)ha.altKey?nb.push(Vb,!0):nb.push(Yb,!0),nb.peek().mouseDown(ha,La,Sa)};S.prototype.keyDown=function(ha){if(" "===ha.key)return ha.altKey?nb.push(Vb,!0):nb.push(Yb,!0),nb.peek().keyDown(ha),!0};ia.prototype=Object.create(N.prototype);ia.prototype.constructor=ia;ia.prototype.getBrushPreviewOval=
function(){var ha=J.getBrushSize()*Eb;return new x.default(Ta-ha/2,pb-ha/2,Ta+ha/2,pb+ha/2)};ia.prototype.queueBrushPreview=function(){if(nb.peek()==this){this.shouldPaintBrushPreview=!0;var ha=this.getBrushPreviewOval();ha.grow(2,2);null!=this.oldPreviewRect&&(ha.union(this.oldPreviewRect),this.oldPreviewRect=null);va(ha)}};ia.prototype.eraseBrushPreview=function(){this.shouldPaintBrushPreview=!1;null!=this.oldPreviewRect&&(va(this.oldPreviewRect),this.oldPreviewRect=null)};ia.prototype.mouseMove=
function(ha,La){this.queueBrushPreview()};ia.prototype.enter=function(){N.prototype.enter.call(this);Ub&&this.queueBrushPreview()};ia.prototype.leave=function(){N.prototype.leave.call(this);this.eraseBrushPreview()};ia.prototype.suspend=ia.prototype.leave;ia.prototype.resume=ia.prototype.enter;ia.prototype.paint=function(){if(this.shouldPaintBrushPreview){this.shouldPaintBrushPreview=!1;var ha=this.getBrushPreviewOval();K.beginPath();K.arc((ha.left+ha.right)/2,(ha.top+ha.bottom)/2,ha.getWidth()/2,
0,2*Math.PI);K.stroke();ha.grow(2,2);null==this.oldPreviewRect?this.oldPreviewRect=ha:this.oldPreviewRect.union(ha)}};da.prototype=Object.create(ia.prototype);da.prototype.constructor=da;da.prototype.mouseDown=function(ha,La,Sa){if(!this.capture&&0==La&&!ha.altKey&&!f.default.isPressed("space")&&T()&&(ha=Ia({x:Ta,y:pb}),this.eraseBrushPreview(),Va.beginStroke(ha.x,ha.y,Sa)))return this.capture=!0,this.smoothMouse=ha,!0};da.prototype.mouseDrag=function(ha,La){if(this.capture){ha=Ia({x:Ta,y:pb});var Sa=
Math.min(.999,Math.pow(J.getBrushInfo().smoothing,.3));this.smoothMouse.x=(1-Sa)*ha.x+Sa*this.smoothMouse.x;this.smoothMouse.y=(1-Sa)*ha.y+Sa*this.smoothMouse.y;Va.continueStroke(this.smoothMouse.x,this.smoothMouse.y,La);return!0}this.mouseMove(ha)};da.prototype.mouseUp=function(ha,La,Sa){if(this.capture)return 0==La&&(this.capture=!1,Va.endStroke()),!0};ta.prototype=Object.create(ia.prototype);ta.prototype.constructor=ta;ta.prototype.drawLine=function(ha,La){Va.beginStroke(ha.x,ha.y,1);Va.continueStroke(La.x,
La.y,1);Va.endStroke()};oa.prototype=Object.create(ia.prototype);oa.prototype.constructor=oa;R.prototype=Object.create(N.prototype);R.prototype.constructor=R;pa.prototype=Object.create(N.prototype);pa.prototype.constructor=pa;ja.prototype=Object.create(N.prototype);ja.prototype.constructor=ja;ja.prototype.mouseDown=function(ha,La,Sa){if(0==La&&!ha.altKey&&!f.default.isPressed("space")&&T())return ha=Ia({x:Ta,y:pb}),Va.isPointWithin(ha.x,ha.y)&&(Va.floodFill(ha.x,ha.y),Ga.repaintAll()),!0};za.prototype=
Object.create(N.prototype);za.prototype.constructor=za;ua.prototype=Object.create(N.prototype);ua.prototype.constructor=ua;ua.prototype.mouseMove=function(ha){if(!f.default.isPressed("space")&&!ha.altKey)return ab("move"),!0};ua.prototype.enter=function(){ab("move")};Ha.prototype=Object.create(N.prototype);Ha.prototype.constructor=Ha;ra.prototype=Object.create(N.prototype);ra.prototype.constructor=ra;Qa.prototype=Object.create(ta.prototype);Qa.prototype.constructor=Qa;Qa.prototype.drawLine=function(ha,
La){Va.gradientFill(Math.round(ha.x),Math.round(ha.y),Math.round(La.x),Math.round(La.y),J.getCurGradient())};Qa.prototype.queueBrushPreview=function(){};this.setZoom=function(ha){Eb=ha;ya()};this.getZoom=function(){return Eb};this.setGridSize=function(ha){Jb=Math.max(Math.round(ha),1);this.repaintAll()};this.getGridSize=function(){return Jb};this.setOffset=function(ha,La){isNaN(ha)||isNaN(La)?console.log("Bad offset"):(P=ha,Ib=La,ya())};this.getOffset=function(){return{x:P,y:Ib}};this.setInterpolation=
function(ha){sc=ha;(0,e.setCanvasInterpolation)(K,ha);this.repaintAll()};this.setRotation=function(ha){cc=ha%(2*Math.PI);ya()};this.getRotation=function(){return cc};this.getRotation90=function(){var ha=Math.round(this.getRotation()/Math.PI*2);ha%=4;0>ha&&(ha+=4);return ha};this.zoomIn=function(){ca(2*this.getZoom())};this.zoomOut=function(){ca(.5*this.getZoom())};this.zoom100=function(){ca(1);bb()};this.resetRotation=function(){var ha=D.width/2,La=D.height/2,Sa=new a.default;Sa.rotateAroundPoint(-this.getRotation(),
ha,La);Sa.multiply(Mb);this.setOffset(~~Sa.getTranslateX(),~~Sa.getTranslateY());this.setRotation(0);Ga.emitEvent("canvasRotated90",[0])};var Ob=!1,ec;this.getElement=function(){return na};this.repaintAll=function(){yb.left=0;yb.top=0;yb.right=D.width;yb.bottom=D.height;ba()};this.paint=function(){var ha=!1;kc=!1;yb.isEmpty()||(K.save(),K.clipTo&&(K.beginPath(),yb.left|=0,yb.top|=0,K.rect(yb.left,yb.top,Math.ceil(yb.getWidth()),Math.ceil(yb.getHeight())),K.clip()),ha=!0);if(!gc.isEmpty()){var La=
Fb&&Fb.isOpen()?Fb.getImageData():Va.fusionLayers().getImageData();Aa.putImageData(La,0,0,gc.left,gc.top,gc.getWidth(),gc.getHeight());gc.makeEmpty()}K.fillStyle="#606060";K.fillRect(0,0,D.width,D.height);K.save();K.setTransform(Mb.m[0],Mb.m[1],Mb.m[2],Mb.m[3],Mb.m[4],Mb.m[5]);K.fillStyle=Ra;K.fillRect(0,0,Va.width,Va.height);K.drawImage(Z,0,0,Z.width,Z.height);K.restore();(0,u.setContrastingDrawStyle)(K,"stroke");K.lineWidth=1;Va.getSelection().isEmpty()||nb.peek()instanceof za&&nb.peek().capture||
(K.setLineDash([3,2]),La=Va.getSelection(),Oa(K,sa(La)),K.setLineDash([]));if(eb&&(La=Va.getBounds(),2<Eb*Jb)){K.beginPath();for(var Sa=Jb-1;Sa<La.right;Sa+=Jb){var ib=ub({x:Sa,y:La.top}),jb=ub({x:Sa,y:La.bottom});K.moveTo(ib.x+.5,ib.y+.5);K.lineTo(jb.x+.5,jb.y+.5)}for(Sa=Jb-1;Sa<La.bottom;Sa+=Jb)ib=ub({x:0,y:Sa}),jb=ub({x:La.right,y:Sa}),K.moveTo(ib.x+.5,ib.y+.5),K.lineTo(jb.x+.5,jb.y+.5);K.stroke()}nb.paint(K);K.globalCompositeOperation="source-over";ha&&(yb.makeEmpty(),K.restore())};this.showGrid=
function(ha){eb=ha;this.repaintAll()};this.resize=function(ha,La){ha-=(0,c.default)(aa).outerHeight();(0,c.default)(D).css("height",ha+"px");D.width=(0,c.default)(D).width();D.height=ha;ec=null;La||bb();this.setInterpolation(sc);this.repaintAll()};J.on("toolChange",function(ha,La){ha=Rb[La.strokeMode];for(La=0;La<nb.modes.length;La++)if(nb.modes[La]instanceof ia){nb.modes[La].leave();nb.modes[La]=ha;nb.modes[La].enter();break}uc=ha});J.on("modeChange",function(ha){switch(ha){case n.default.M_DRAW:var La=
uc;break;case n.default.M_FLOODFILL:La=nc;break;case n.default.M_GRADIENTFILL:La=yc;break;case n.default.M_RECT_SELECTION:La=Gc;break;case n.default.M_MOVE_TOOL:La=Bc;break;case n.default.M_ROTATE_CANVAS:La=Vb;break;case n.default.M_PAN_CANVAS:La=Yb;break;case n.default.M_COLOR_PICKER:La=xc;break;case n.default.M_TRANSFORM:La=Fc}nb.setUserMode(La)});J.on("maskViewOpened",function(ha){Fb&&Fb.off("changeLayer",Fa);Fb=ha;Fb.on("changeLayer",Fa);Fa()});var rc=new S;var xc=new R;var Yb=new pa;var Vb=new ra;
var nc=new ja;var yc=new Qa;var Gc=new za;var Bc=new ua;var Fc=new Ha;Rb=[new da,new ta,new oa];var uc=Rb[g.default.STROKE_MODE_FREEHAND];nb.setDefaultMode(rc);nb.setUserMode(uc);Z.width=Va.width;Z.height=Va.height;D.width=800;D.height=900;D.className="chickenpaint-canvas";D.setAttribute("touch-action","none");K.setLineDash||(K.setLineDash=function(){});D.addEventListener("contextmenu",function(ha){ha.preventDefault()});D.addEventListener("mouseenter",function(){Ub=!0});D.addEventListener("mouseleave",
function(){Ub=!1;Cb[0]||Cb[2]||Cb[1]||Ga.repaintAll()});D.addEventListener("pointerdown",function(ha){lc&&"touch"===ha.pointerType||(D.setPointerCapture(ha.pointerId),ec=D.getBoundingClientRect(),Ta=ha.clientX-ec.left,pb=ha.clientY-ec.top,Ac=mb.isPen(),Cb[0]=!1,Cb[2]=!1,Cb[1]=!1,Cb[ha.button]=!0,nb.mouseDown(ha,ha.button,fa(ha)))});D.addEventListener("pointermove",function(ha){ec||=D.getBoundingClientRect();if(!lc||"touch"!==ha.pointerType){Ta=ha.clientX-ec.left;pb=ha.clientY-ec.top;var La=0!==ha.buttons,
Sa=La?fa(ha):0;if(0!==(ha.buttons&1)!=Cb[0]){if(.5===ha.mozPressure)return;Cb[0]=!Cb[0];Cb[0]?nb.mouseDown(ha,0,Sa):nb.mouseUp(ha,0,Sa)}0!==(ha.buttons&2)!=Cb[2]&&(Cb[2]=!Cb[2],Cb[2]?nb.mouseDown(ha,2,Sa):nb.mouseUp(ha,2,Sa));0!==(ha.buttons&4)!=Cb[1]&&(Cb[1]=!Cb[1],Cb[1]?nb.mouseDown(ha,1,Sa):nb.mouseUp(ha,1,Sa));La?nb.mouseDrag(ha,Sa):nb.mouseMove(ha,Sa);lc||"pen"!==ha.pointerType||(lc=!0)}});D.addEventListener("pointerup",function(ha){Cb[0]=!1;Cb[2]=!1;Ac=Cb[1]=!1;nb.mouseUp(ha,ha.button,0);D.releasePointerCapture(ha.pointerId)});
D.addEventListener("wheel",function(ha){if(0!=ha.deltaY){if(!Ob||20<Math.abs(ha.deltaY)){var La=0<ha.deltaY?1/1.15:1.15;var Sa=sb({x:ha.pageX,y:ha.pageY}),ib=Ia(Sa);Va.isPointWithin(ib.x,ib.y)?V(Ga.getZoom()*La,Sa.x,Sa.y):V(Ga.getZoom()*La,P+~~(Va.width*Eb/2),Ib+~~(Va.height*Eb/2));Ob=Ob||setTimeout(function(){Ob=!1},50)}ha.preventDefault()}});document.addEventListener("keydown",function(ha){nb.keyDown(ha)});document.addEventListener("keyup",function(ha){nb.keyUp(ha)});document.addEventListener("visibilitychange",
function(){var ha=D.height+(0,c.default)(aa).outerHeight();D.width=1;D.height=1;Ga.resize(ha,!0)},!1);window.addEventListener("scroll",function(){ec=null});D.addEventListener("mousedown",function(ha){1==ha.button&&ha.preventDefault()});Va.on("changeSelection",function(){Ga.repaintAll()});Va.on("updateRegion",function(ha){gc.union(ha);va(Ka(gc))});hc.on("valueChanged",function(ha){var La=Ga.getOffset();Ga.setOffset(-ha,La.y)});Zb.on("valueChanged",function(ha){var La=Ga.getOffset();Ga.setOffset(La.x,
-ha)});this.setInterpolation(!1);rc=document.createElement("div");rc.className="chickenpaint-canvas-container-wrapper";rc.appendChild(D);X.className="chickenpaint-canvas-container-top";X.appendChild(rc);X.appendChild(Zb.getElement());aa.className="chickenpaint-canvas-container-bottom";aa.appendChild(hc.getElement());na.appendChild(X);na.appendChild(aa);J.setCanvas(this)}Object.defineProperty(C,"__esModule",{value:!0});C.default=v;var E=y(k("wolfy87-eventemitter")),c=y(k("jquery")),f=y(k("../../lib/keymaster.js")),
x=y(k("../util/CPRect.js")),a=y(k("../util/CPTransform.js")),m=y(k("../util/CPWacomTablet.js")),r=y(k("../util/CPBezier.js")),t=k("../util/throttle-debounce"),b=y(k("../util/CPPolygon.js")),e=k("../util/CPPolyfill.js"),h=y(k("../util/CPVector.js")),n=y(k("../ChickenPaint.js")),g=y(k("../engine/CPBrushInfo.js")),p=y(k("../engine/CPLayerGroup.js"));y(k("../engine/CPMaskView.js"));var u=k("./CPGUIUtils.js"),A=y(k("./CPScrollbar.js")),F=y(k("../util/CPColor.js"));l.MODE_INDEX_DEFAULT=0;l.MODE_INDEX_USER=
1;l.prototype.setMode=function(J,N){var S=this.modes[J];S!=N&&(S&&S.leave(),this.modes[J]=N,N.enter())};l.prototype.setDefaultMode=function(J){J.transient=!1;J.capture=!1;this.setMode(l.MODE_INDEX_DEFAULT,J)};l.prototype.setUserMode=function(J){for(var N=this.modes.length-1;N>l.MODE_INDEX_USER;N--)this.modes[N].leave(),this.modes.splice(N,1);J.transient=!1;J.capture=!1;this.setMode(l.MODE_INDEX_USER,J)};l.prototype.deliverEvent=function(J,N){for(var S=this.modes.length-1;0<=S;S--){var ia=this.modes[S];
if(ia[J].apply(ia,N)||ia.capture&&"paint"!=J)return!0}return!1};k=function(){var J=I[w];l.prototype[J]=function(N,S,ia){this.deliverEvent(J,[N,S,ia])}};for(var w=0,I=["mouseDown","mouseUp"];w<I.length;w++)k();k=function(){var J=z[O];l.prototype[J]=function(N,S){this.deliverEvent(J,[N,S])}};for(var O=0,z=["mouseDrag","mouseMove"];O<z.length;O++)k();k=function(){var J=H[G];l.prototype[J]=function(N){this.deliverEvent(J,[N])&&N.preventDefault()}};for(var G=0,H=["keyDown","keyUp"];G<H.length;G++)k();
l.prototype.paint=function(J){this.deliverEvent("paint",[J])};l.prototype.push=function(J,N){var S=this.peek();S&&S.suspend();J.transient=N;J.capture=!1;J.enter();this.modes.push(J)};l.prototype.peek=function(){return 0<this.modes.length?this.modes[this.modes.length-1]:null};l.prototype.pop=function(){var J=this.modes.pop(),N=this.peek();J&&J.leave();N&&N.resume();return N};v.prototype=Object.create(E.default.prototype);v.prototype.constructor=v;L.exports=C.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,
"../engine/CPBrushInfo.js":8,"../engine/CPLayerGroup.js":17,"../engine/CPMaskView.js":19,"../util/CPBezier.js":57,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPPolygon.js":61,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/CPVector.js":65,"../util/CPWacomTablet.js":66,"../util/throttle-debounce":67,"./CPGUIUtils.js":33,"./CPScrollbar.js":41,jquery:297,"wolfy87-eventemitter":316}],27:[function(k,L,C){function y(l,v){function E(){var a=c.width;f.clearRect(0,0,a,c.height);
f.beginPath();f.arc(a/2+1,a/2+1,Math.max(a/2,1)-2,0,2*Math.PI);x.state?f.fill():f.stroke()}var c=document.createElement("canvas"),f=c.getContext("2d"),x=this;this.state=l||!1;this.setValue=function(a){this.state!=a&&(this.state=a,this.emitEvent("valueChange",[a]),E())};this.getElement=function(){return c};c.addEventListener("mousedown",function(a){x.setValue(!x.state)});c.title=v||"";c.className="chickenpaint-checkbox";c.width=20;c.height=20;c.fillStyle="black";c.strokeStyle="black";E()}Object.defineProperty(C,
"__esModule",{value:!0});C.default=y;k=function(l){return l&&l.__esModule?l:{default:l}}(k("wolfy87-eventemitter"));y.prototype=Object.create(k.default.prototype);y.prototype.constructor=y;L.exports=C.default},{"wolfy87-eventemitter":316}],28:[function(k,L,C){function y(m){return m&&m.__esModule?m:{default:m}}function l(m){E.default.call(this,m,"color","Color (picker)");var r=new c.default(m),t=new f.default(m,r);m=new v(m);var b=this.getBodyElement(),e=document.createElement("div");e.className="chickenpaint-colorpicker-top";
e.appendChild(r.getElement());e.appendChild(t.getElement());b.appendChild(e);b.appendChild(m.getElement())}function v(m){function r(h,n,g){for(;h.length<g;)h=n+h;return h}function t(){e.style.backgroundColor="#"+r(Number(b).toString(16),"0",6)}var b=0,e=document.createElement("div");this.getElement=function(){return e};m.on("colorChange",function(h){b=h.getRgb();t()});e.className="chickenpaint-colorpicker-show";e.addEventListener("click",function(h){h.preventDefault();h="#"+r(Number(b).toString(16),
"0",6);h=window.prompt((0,a._)("Please enter a color in hex format"),h);if(null!=h)try{if(h.match(/^#/)||h.match(/^$/))h=h.substring(1);var n=parseInt(h,16);m.setCurColor(new x.default(n))}catch(g){}});t()}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var E=y(k("./CPPalette.js")),c=y(k("./CPColorSelect.js")),f=y(k("./CPColorSlider.js")),x=y(k("../util/CPColor.js")),a=k("../languages/lang");l.prototype=Object.create(E.default.prototype);l.prototype.constructor=l;L.exports=C.default},
{"../languages/lang":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPPalette.js":39}],29:[function(k,L,C){function y(h){return h&&h.__esModule?h:{default:h}}function l(h){"@babel/helpers - typeof";return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},l(h)}function v(h,n){for(var g=0;g<n.length;g++){var p=n[g];p.enumerable=
p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(h,f(p.key),p)}}function E(h,n,g){n&&v(h.prototype,n);g&&v(h,g);Object.defineProperty(h,"prototype",{writable:!1});return h}function c(h,n,g){n=f(n);n in h?Object.defineProperty(h,n,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[n]=g;return h}function f(h){a:if("object"===l(h)&&null!==h){var n=h[Symbol.toPrimitive];if(void 0!==n){h=n.call(h,"string");if("object"!==l(h))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}h=String(h)}return"symbol"===l(h)?h:String(h)}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var x=y(k("jquery")),a=y(k("../util/CPColor.js")),m=y(k("../engine/CPColorBmp.js")),r=k("./CPGUIUtils.js"),t=window.devicePixelRatio||1,b=Math.round(128*t),e=Math.round(128*t);C.default=function(){function h(n,g){var p=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");c(this,"_controller",void 0);c(this,"_canvas",void 0);c(this,"_canvasContext",void 0);
c(this,"_imageData",void 0);c(this,"_bitmapInvalid",!0);c(this,"_capturedMouse",!1);c(this,"_greyscale",!1);c(this,"color",new a.default(0));this._controller=n;var u=document.createElement("canvas");this._canvas=u;u.className="chickenpaint-colorpicker-select";u.setAttribute("touch-action","none");u.width=b;u.height=e;u.style.width="128px";u.style.height="128px";this._canvasContext=u.getContext("2d");this._imageData=this._canvasContext.createImageData(b,e);this._canvasContext.getImageData(0,0,1,1);
this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);u.addEventListener("pointerdown",function(A){return p._startDrag(A)});g&&this.color.copyFrom(g);n.on("colorChange",function(A){p.color.copyFrom(A);p._bitmapInvalid=!0;p.paint()});n.on("colorModeChange",function(A){p._greyscale="greyscale"==A;p._bitmapInvalid=!0;p.paint()});this.paint()}E(h,[{key:"_makeBitmap",value:function(){if(this._bitmapInvalid){var n=0,g=this._imageData.data;if(this._greyscale)for(var p=
0;p<e;p++)for(var u=255-Math.round(p/(e-1)*255),A=0;A<b;A++)g[n+m.default.RED_BYTE_OFFSET]=u,g[n+m.default.GREEN_BYTE_OFFSET]=u,g[n+m.default.BLUE_BYTE_OFFSET]=u,g[n+m.default.ALPHA_BYTE_OFFSET]=255,n+=m.default.BYTES_PER_PIXEL;else for(p=this.color.clone(),u=0;u<e;u++)for(p.setValue(255-~~(u/(e-1)*255)),A=0;A<b;A++)p.setSaturation(Math.round(A/(b-1)*255)),g[n+m.default.RED_BYTE_OFFSET]=p.rgb>>16&255,g[n+m.default.GREEN_BYTE_OFFSET]=p.rgb>>8&255,g[n+m.default.BLUE_BYTE_OFFSET]=p.rgb&255,g[n+m.default.ALPHA_BYTE_OFFSET]=
255,n+=m.default.BYTES_PER_PIXEL;this._bitmapInvalid=!1}}},{key:"paint",value:function(){this._makeBitmap();this._canvasContext.putImageData(this._imageData,0,0);var n=this.color.getSaturation()/255*(b-1),g=(255-this.color.getValue())/255*(e-1);(0,r.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5*t;this._canvasContext.beginPath();this._greyscale?(this._canvasContext.moveTo(0,g),this._canvasContext.lineTo(b,g)):this._canvasContext.arc(n,g,5*t,0,2*Math.PI);this._canvasContext.stroke();
this._canvasContext.globalCompositeOperation="source-over"}},{key:"_mousePickColor",value:function(n){var g=n.pageX-(0,x.default)(this._canvas).offset().left;n=n.pageY-(0,x.default)(this._canvas).offset().top;n=Math.max(Math.min(255-~~(255*n/127),255),0);this._greyscale?this.color.setGreyscale(n):(g=Math.max(Math.min(~~(255*g/127),255),0),this.color.setHsv(this.color.getHue(),g,n));this.paint();this._controller.setCurColor(this.color)}},{key:"_endDrag",value:function(n){this._canvas.releasePointerCapture(n.pointerId);
this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(n){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(n.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(n)}},{key:"setHue",value:function(n){this.color.getHue()!=
n&&(this.color.setHue(n),this._controller.setCurColor(this.color))}},{key:"getElement",value:function(){return this._canvas}}]);return h}();L.exports=C.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:297}],30:[function(k,L,C){function y(b){return b&&b.__esModule?b:{default:b}}function l(b){"@babel/helpers - typeof";return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&
e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(b)}function v(b,e){for(var h=0;h<e.length;h++){var n=e[h];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(b,f(n.key),n)}}function E(b,e,h){e&&v(b.prototype,e);h&&v(b,h);Object.defineProperty(b,"prototype",{writable:!1});return b}function c(b,e,h){e=f(e);e in b?Object.defineProperty(b,e,{value:h,enumerable:!0,configurable:!0,writable:!0}):b[e]=h;return b}function f(b){a:if("object"===
l(b)&&null!==b){var e=b[Symbol.toPrimitive];if(void 0!==e){b=e.call(b,"string");if("object"!==l(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===l(b)?b:String(b)}function x(b){for(var e=new m.default(65535),h=0,n=b.data,g=0;g<b.height;g++){e.setHue(359*g/b.height);for(var p=0;p<b.width;p++)n[h+r.default.RED_BYTE_OFFSET]=e.rgb>>16&255,n[h+r.default.GREEN_BYTE_OFFSET]=e.rgb>>8&255,n[h+r.default.BLUE_BYTE_OFFSET]=e.rgb&255,n[h+r.default.ALPHA_BYTE_OFFSET]=
255,h+=r.default.BYTES_PER_PIXEL}}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var a=y(k("jquery")),m=y(k("../util/CPColor.js")),r=y(k("../engine/CPColorBmp.js")),t=k("./CPGUIUtils.js");C.default=function(){function b(e,h,n){var g=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c(this,"hue",void 0);c(this,"selecter",void 0);c(this,"_canvas",void 0);c(this,"_canvasContext",void 0);c(this,"_imageData",void 0);c(this,"_capturedMouse",!1);this.selecter=
h;this.hue=n||0;var p=document.createElement("canvas");this._canvas=p;e.on("colorChange",function(u){g.setHue(u.getHue())});e.on("colorModeChange",function(u){p.style.display="greyscale"==u?"none":"block"});p.setAttribute("touch-action","none");p.addEventListener("pointerdown",function(u){return g._startDrag(u)});p.width=24;p.height=128;p.className="chickenpaint-colorpicker-slider";this._canvasContext=p.getContext("2d");this._imageData=this._canvasContext.createImageData(24,128);this._canvasContext.getImageData(0,
0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);x(this._imageData);this.paint()}E(b,[{key:"paint",value:function(){this._canvasContext.putImageData(this._imageData,0,0);var e=128*this.hue/360;(0,t.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5;this._canvasContext.beginPath();this._canvasContext.moveTo(0,e);this._canvasContext.lineTo(24,e);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation=
"source-over"}},{key:"_mousePickColor",value:function(e){e=~~(360*(e.pageY-(0,a.default)(this._canvas).offset().top)/128);this.hue=Math.max(0,Math.min(359,e));this.paint();this.selecter&&this.selecter.setHue(this.hue)}},{key:"_endDrag",value:function(e){this._canvas.releasePointerCapture(e.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(e){this._capturedMouse||
(this._capturedMouse=!0,this._canvas.setPointerCapture(e.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(e)}},{key:"getElement",value:function(){return this._canvas}},{key:"setHue",value:function(e){this.hue=e;this.paint()}}]);return b}();L.exports=C.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:297}],31:[function(k,L,C){function y(a){return a&&
a.__esModule?a:{default:a}}function l(a,m,r){function t(){for(var u=g.style,A=Number(h.getRgb()).toString(16);6>A.length;)A="0"+A;u.backgroundColor="#"+A}function b(){var u=document.createElement("div"),A=document.createElement("div"),F=new f.default(e,h),w=new x.default(e,F,h.getHue()),I=new c.default(0,255);u.className="chickenpaint-color-pick-panel";A.className="chickenpaint-colorpicker-top";A.appendChild(F.getElement());A.appendChild(w.getElement());u.appendChild(A);I.value=n;I.title=function(O){return"Opacity: "+
O};I.on("valueChange",function(O){e.setAlpha(O)});u.appendChild(I.getElement());setTimeout(function(){I.resize()},0);return u}var e=this,h=new E.default(0),n=255,g=document.createElement("div");this.getElement=function(){return g};this.setColor=function(u){h.isEqual(u)||(h.copyFrom(u),t(),this.emitEvent("colorChange",[h]))};this.setAlpha=function(u){u!=n&&(n=u,t(),this.emitEvent("alphaChange",[n]))};this.getColorRgb=function(){return h.getRgb()};this.getAlpha=function(){return n};this.setCurColor=
this.setColor;g.className="chickenpaint-color-pick-swatch";a&&h.copyFrom(a);m&&(n=m);var p=function(u){0==(0,v.default)(u.target).closest(".popover").length&&(0,v.default)(u.target).closest(".chickenpaint-color-pick-swatch")[0]!=g&&(0,v.default)(g).popover("hide")};(0,v.default)(g).popover({html:!0,content:function(){window.addEventListener("mousedown",p);return b()},trigger:"manual",placement:"bottom",container:r||!1}).on("click",function(u){u.preventDefault();(0,v.default)(this).popover("toggle")}).on("hidden.bs.popover",
function(){window.removeEventListener("mousedown",p)});t()}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("../util/CPColor.js")),c=y(k("./CPSlider.js")),f=y(k("./CPColorSelect.js")),x=y(k("./CPColorSlider.js"));k=y(k("wolfy87-eventemitter"));l.prototype=Object.create(k.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPSlider.js":44,jquery:297,"wolfy87-eventemitter":316}],
32:[function(k,L,C){function y(f){return f&&f.__esModule?f:{default:f}}function l(f,x){var a=(0,E.default)('<div class="modal fade" tabindex="-1" role="dialog">\n\t            <div class="modal-dialog">\n\t                <div class="modal-content">\n\t                    <div class="modal-header">\n\t                        <h5 class="modal-title">Complete transform</h5>\n\t                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t                            <span aria-hidden="true">&times;</span>\n\t                        </button>\n\t                    </div>\n\t                    <div class="modal-body">\n\t                        <p>\n\t                            You need to finish transforming this layer before you can do that. What would you like to do with the transform?\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class="modal-footer">\n\t                        <button type="button" class="btn btn-light" data-dismiss="modal">'.concat((0,c._)("Cancel"),
'</button>\n\t                        <button type="button" class="btn btn-light chickenpaint-reject-transform" data-dismiss="modal">Undo transform</button>\n\t                        <button type="button" class="btn btn-primary chickenpaint-accept-transform" data-dismiss="modal">Apply transform</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    ')),m=this,r=(0,E.default)(".chickenpaint-accept-transform",a),t=(0,E.default)(".chickenpaint-reject-transform",
a);r.on("click",function(b){x.actionPerformed({action:"CPTransformAccept"});m.emitEvent("accept")});t.on("click",function(b){x.actionPerformed({action:"CPTransformReject"});m.emitEvent("reject")});a.modal({show:!1}).on("shown.bs.modal",function(){r.focus()}).on("hidden.bs.modal",function(b){a.remove()}).on("keypress",function(b){"Enter"===b.key&&r.trigger("click")});a.data("bs.modal").$body=(0,E.default)(f);f.appendChild(a[0]);this.show=function(){a.modal("show")}}Object.defineProperty(C,"__esModule",
{value:!0});C.default=l;var v=y(k("wolfy87-eventemitter")),E=y(k("jquery")),c=k("../languages/lang.js");l.prototype=Object.create(v.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"../languages/lang.js":54,jquery:297,"wolfy87-eventemitter":316}],33:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.createCheckerboardPattern=function(y){for(var l=document.createElement("canvas"),v=l.getContext("2d"),E=v.createImageData(64,64),c=E.data,f=0,x=0;64>x;x++)for(var a=
0;64>a;a++)0!=(a&8)^0!=(x&8)?(c[f++]=255,c[f++]=255,c[f++]=255):(c[f++]=204,c[f++]=204,c[f++]=204),c[f++]=255;l.width=64;l.height=64;v.putImageData(E,0,0);return y.createPattern(l,"repeat")};C.setContrastingDrawStyle=function(y,l){l+="Style";y.globalCompositeOperation="exclusion";"exclusion"==y.globalCompositeOperation?y[l]="white":(y.globalCompositeOperation="difference",y[l]="#888","difference"!=y.globalCompositeOperation&&(y[l]="black"))}},{}],34:[function(k,L,C){Object.defineProperty(C,"__esModule",
{value:!0});C.default=function(v,E){var c=(0,y.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,l._)("Grid options"),'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,l._)("Grid size"),
'</label>\n                                    <input type="text" class="form-control chickenpaint-grid-size" value="" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-dismiss="modal">').concat((0,l._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-grid-settings" data-dismiss="modal">').concat((0,l._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),f=(0,y.default)(".chickenpaint-grid-size",c),x=(0,y.default)(".chickenpaint-apply-grid-settings",c);f.val(E.getGridSize());(0,y.default)(".chickenpaint-apply-grid-settings",c).on("click",function(a){a=parseInt(f.val(),10);E.setGridSize(a)});c.modal({show:!1}).on("shown.bs.modal",function(){f.trigger("focus")}).on("keypress",function(a){"Enter"===a.key&&x.trigger("click")});
c.data("bs.modal").$body=(0,y.default)(v);v.appendChild(c[0]);this.show=function(){c.modal("show")}};var y=function(v){return v&&v.__esModule?v:{default:v}}(k("jquery")),l=k("../languages/lang.js");L.exports=C.default},{"../languages/lang.js":54,jquery:297}],35:[function(k,L,C){function y(n){return n&&n.__esModule?n:{default:n}}function l(n){n.preventDefault();n.stopPropagation()}function v(n){var g=document.createElement("span");g.className="fa "+n;return g}function E(n){var g=document.createElement("span");
g.className="chickenpaint-icon chickenpaint-icon-"+n;return g}function c(n,g){var p=document.createElement("div"),u=document.createElement("label");p.className="form-check";n.className="form-check-input";u.className="form-check-label";u.setAttribute("for",n.id);u.appendChild(n);u.appendChild(document.createTextNode(g));p.appendChild(n);p.appendChild(u);return p}function f(n){return{"image-layer":n instanceof e.default,"layer-group":n instanceof b.default,"clipping-mask":n instanceof e.default&&n.clip,
"no-clipping-mask":n instanceof e.default&&!n.clip,"no-clipping-mask-or-is-group":!(n instanceof e.default)||!n.clip,mask:n&&null!==n.mask,"no-mask":n&&null===n.mask,"mask-enabled":n&&null!==n.mask&&n.maskVisible,"mask-disabled":n&&null!==n.mask&&!n.maskVisible}}function x(n){function g(){var ja=w.getActiveLayer();ja=f(ja);for(var za=0,ua=["clipping-mask","no-clipping-mask-or-is-group"];za<ua.length;za++){var Ha=ua[za];(0,a.default)(".chickenpaint-action-require-"+Ha,pa).css("display",ja[Ha]?"inline-block":
"none")}(0,a.default)("[data-action]",pa).each(function(){var ra=this.getAttribute("data-action");(0,a.default)(this).toggleClass("disabled",!n.isActionAllowed(ra))})}function p(){var ja=w.getActiveLayer();ja.getAlpha()!=H.value&&H.setValue(ja.getAlpha());for(var za=w.getActiveLayer();J.lastChild;)J.removeChild(J.lastChild);for(var ua=r.default.LM_FIRST;ua<=r.default.LM_LAST;ua++)if(ua!=r.default.LM_MULTIPLY2&&(ua==za.blendMode||ua===r.default.LM_PASSTHROUGH&&za instanceof b.default||ua<=r.default.LM_LAST_CHIBIPAINT)){var Ha=
document.createElement("option");Ha.appendChild(document.createTextNode((0,h._)(r.default.BLEND_MODE_DISPLAY_NAMES[ua])));Ha.value=ua!==r.default.LM_MULTIPLY||za.blendMode===ua||za.useLegacyMultiply?ua:r.default.LM_MULTIPLY2;J.appendChild(Ha)}ja.getBlendMode()!=parseInt(J.value,10)&&(J.value=ja.getBlendMode());ja.getLockAlpha()!=ia.checked&&(ia.checked=ja.getLockAlpha());g()}function u(){w=this;G.resize();p()}var A=this;m.default.call(this,n,"layers","Layers",{resizeHorz:!0,resizeVert:!0});var F=
this,w=n.getArtwork(),I=null,O=this.getBodyElement(),z=this.getElement(),G=new function(){var ja;function za(na){"button"in na&&0!==na.button||(Na(),(0,a.default)(this).off("click",za))}function ua(na){var X=(0,a.default)(".chickenpaint-layer",Ka);return X.get(X.length-1-na)}function Ha(na){na=(0,a.default)(na).closest(".chickenpaint-layer");if(na.length){var X=(0,a.default)(".chickenpaint-layer",Ka);return X.length-1-X.index(na)}return-1}function ra(na,X){var aa=(0,a.default)(".chickenpaint-layer",
Ka);na={layer:I[I.length-1],displayIndex:I.length-1,direction:"over"};for(var D=0;D<aa.length;D++){var K=aa[aa.length-1-D].getBoundingClientRect();if(0===D&&X>K.bottom){na=w.getLayersRoot().layers[0];na={layer:na,displayIndex:I.indexOf(na),direction:"under"};break}else if(X>=K.top){aa=I[D];var Z=K.bottom-K.top;na={layer:aa,displayIndex:D};aa instanceof b.default?X>=K.top+.75*Z?aa.expanded&&0<aa.layers.length?(na.layer=aa.layers[aa.layers.length-1],na.displayIndex--,na.direction="over"):na.direction=
"under":X>=K.top+.25*Z?aa.expanded&&0<aa.layers.length?(na.layer=aa.layers[aa.layers.length-1],na.displayIndex--,na.direction="over"):na.direction="inside":na.direction="over":na.direction=X>=K.top+.5*Z?"under":"over";break}}return na.layer.parent==sa.layer.parent&&("over"==na.direction||"under"==na.direction)&&(X=na.layer.parent,D=X.indexOf(na.layer),"over"==na.direction&&X.layers[D+1]==sa.layer||"under"==na.direction&&X.layers[D-1]==sa.layer||na.layer==sa.layer)?null:sa.layer instanceof b.default&&
(na.layer==sa.layer&&"inside"==na.direction||na.layer.hasAncestor(sa.layer))?null:na}function Qa(){if(2===sa.state){var na=z.getBoundingClientRect(),X=!0,aa=!0;sa.dropTarget=ra(sa.dragX,sa.dragY);if(sa.dropTarget){var D=ua(sa.dropTarget.displayIndex);switch(sa.dropTarget.direction){case "over":case "under":Ka.appendChild(sa.dropBetweenMarkerElem);X=sa.dropTarget.layer.getDepth()-1;var K;D=D.getBoundingClientRect();if("under"==sa.dropTarget.direction&&sa.dropTarget.layer instanceof b.default&&sa.dropTarget.layer.expanded){for(K=
sa.dropTarget.displayIndex-1;0<=K&&I[K].hasAncestor(sa.dropTarget.layer);K--);K=ua(K+1).getBoundingClientRect().bottom}else K=D.bottom;X=D.left-na.left+(0<X?26+16*X:0);sa.dropBetweenMarkerElem.style.left=X+"px";sa.dropBetweenMarkerElem.style.width=D.right-na.left-X+"px";sa.dropBetweenMarkerElem.style.top=("over"==sa.dropTarget.direction?D.top-1:K+1)-na.top+"px";(0,a.default)(".chickenpaint-layer-drop-target",Ka).removeClass("chickenpaint-layer-drop-target");X=!1;break;case "inside":var Z=(0,a.default)(".chickenpaint-layer",
Ka);Z.each(function(Aa){(0,a.default)(this).toggleClass("chickenpaint-layer-drop-target",Z.length-1-Aa==sa.dropTarget.displayIndex)});aa=!1}}aa&&(0,a.default)(".chickenpaint-layer-drop-target",Ka).removeClass("chickenpaint-layer-drop-target");X&&(0,a.default)(sa.dropBetweenMarkerElem).remove();sa.frameElem.style.top=sa.dragY-na.top-parseInt(sa.frameElem.style.height,10)/2+"px"}else(0,a.default)(sa.dropBetweenMarkerElem).remove(),(0,a.default)(sa.frameElem).remove()}function ab(na){var X=na.getImageThumbnail().getAsCanvas(ca);
X.title=(0,h._)("Image");X.className="chickenpaint-layer-thumbnail chickenpaint-layer-image-thumbnail";X.style.maxWidth=X.width/X.height*25+"px";na!=w.getActiveLayer()||w.isEditingMask()||(X.className+=" active");return X}function gb(na){var X=na.getMaskThumbnail().getAsCanvas(ca);X.title=(0,h._)("Layer mask");X.className="chickenpaint-layer-thumbnail chickenpaint-layer-mask-thumbnail";X.style.maxWidth=X.width/X.height*25+"px";na==w.getActiveLayer()&&w.isEditingMask()&&(X.className+=" active");na.maskVisible||
(X.className+=" disabled",na=X.getContext("2d"),na.strokeStyle="red",na.lineWidth=3,na.moveTo(5,5),na.lineTo(X.width-5,X.height-5),na.moveTo(X.width-5,5),na.lineTo(5,X.height-5),na.stroke());return X}function T(na,X){var aa=document.createElement("div"),D=document.createElement("div"),K=document.createElement("div"),Z=document.createElement("div"),Aa=document.createElement("div"),Ra=document.createElement("div"),Va=document.createElement("div");aa.className="chickenpaint-layer list-group-item";X==
w.getActiveLayer()&&(aa.className+=" active");D.className="chickenpaint-layer-eye";X.ancestorsAreVisible()||(D.className+=" chickenpaint-layer-eye-hidden-ancestors");D.style.marginRight=2+16*(X.getDepth()-1)+"px";X.visible?(aa.className+=" chickenpaint-layer-visible",D.appendChild(v("fa-eye"))):(aa.className+=" chickenpaint-layer-hidden",D.appendChild(v("fa-eye-slash")));aa.appendChild(D);K.className="chickenpaint-layer-description";X instanceof e.default?(X.clip&&(aa.className+=" chickenpaint-layer-clipped",
Z.appendChild(v("fa-level-down-alt fa-flip-horizontal"))),X.lockAlpha&&(D=E("lock-alpha"),D.title=(0,h._)("Transparency locked"),Ra.appendChild(D))):X instanceof b.default&&(aa.className+=" chickenpaint-layer-group",X.expanded?(aa.className+=" chickenpaint-layer-group-expanded",Z.appendChild(v("fa-folder-open chickenpaint-layer-group-toggle"))):(aa.className+=" chickenpaint-layer-group-collapsed",Z.appendChild(v("fa-folder chickenpaint-layer-group-toggle"))));Z.childNodes.length&&(Z.className="chickenpaint-layer-icons",
aa.appendChild(Z));try{X instanceof e.default&&aa.appendChild(ab(X)),X.mask&&aa.appendChild(gb(X))}catch(Eb){console.log("Failed to create layer thumb")}Z=X.name&&0<X.name.length?X.name:"(unnamed "+(X instanceof b.default?"group":"layer")+")";Aa.innerText=Z;Aa.setAttribute("title",Z);Aa.className="chickenpaint-layer-name";Va.innerText=(0,h._)(r.default.BLEND_MODE_DISPLAY_NAMES[X.blendMode])+": "+X.alpha+"%";Va.className="chickenpaint-layer-blend";K.appendChild(Aa);K.appendChild(Va);aa.appendChild(K);
Ra.className="chickenpaint-layer-status";aa.appendChild(Ra);aa.setAttribute("data-display-index",""+na);aa.setAttribute("data-toggle","dropdown");aa.setAttribute("data-target","#chickenpaint-layer-pop");return aa}function ea(na){if(-1<na){var X=I[na];na=ua(na);X&&na&&N.show(X,na)}}function ya(na){var X=Ha(na.target);if(-1!=X){var aa=w.getActiveLayer(),D=f(aa);fa=aa;ja=na.clientX;na=0;for(aa=["image-layer","layer-group","clipping-mask","no-clipping-mask","no-mask"];na<aa.length;na++){var K=aa[na];
(0,a.default)(".chickenpaint-action-require-"+K,V).toggle(D[K])}na=0;for(aa=["mask","mask-enabled","mask-disabled"];na<aa.length;na++)K=aa[na],(0,a.default)(".chickenpaint-action-require-"+K,V).toggle(ba&&D[K]);(0,a.default)("[data-action]",V).each(function(){var Z=this.getAttribute("data-action");(0,a.default)(this).parent().toggleClass("disabled","CPRenameLayer"!==Z&&!n.isActionAllowed(Z))});(0,a.default)(ua(X)).dropdown("toggle").off("click.bs.dropdown");(0,a.default)(document).off("click.bs.dropdown.data-api")}}
function Ia(na){switch(sa.state){case 2:(0,a.default)(sa.layerElem).removeClass("chickenpaint-layer-dragging");sa.dropTarget&&("inside"==sa.dropTarget.direction?n.actionPerformed({action:"CPRelocateLayer",layer:sa.layer,toGroup:sa.dropTarget.layer,toIndex:sa.dropTarget.layer.layers.length}):n.actionPerformed({action:"CPRelocateLayer",layer:sa.layer,toGroup:sa.dropTarget.layer.parent,toIndex:sa.dropTarget.layer.parent.indexOf(sa.dropTarget.layer)+("over"==sa.dropTarget.direction?1:0)}));sa.dropTarget=
null;sa.state=0;Qa();break;default:sa.state=0}va&&(clearTimeout(va),va=null);Ka.releasePointerCapture(na.pointerId);Ka.removeEventListener("pointermove",sb);Ka.removeEventListener("pointerup",Ia)}function Ya(){sa.state=2;sa.frameElem=document.createElement("div");sa.frameElem.className="chickenpaint-layer-drag-frame";sa.frameElem.style.width=(0,a.default)(sa.layerElem).outerWidth(!1)+"px";sa.frameElem.style.height=(0,a.default)(sa.layerElem).outerHeight(!1)+"px";sa.dropBetweenMarkerElem=document.createElement("div");
sa.dropBetweenMarkerElem.className="chickenpaint-layer-drop-between-mark";sa.layerElem.className+=" chickenpaint-layer-dragging";Ka.appendChild(sa.frameElem)}function sb(na){na=na.clientY;switch(sa.state){case 3:if(5<Math.abs(na-sa.dragY))sa.state=4;else break;case 4:bb.scrollTop=sa.initialScrollTop+sa.dragY-na;break;case 1:if(5<Math.abs(na-sa.dragY))Ya();else break;case 2:sa.dragY=na,Qa()}}function ub(na,X,aa){try{aa?(0,a.default)(".chickenpaint-layer-mask-thumbnail",na).replaceWith(gb(X)):(0,a.default)(".chickenpaint-layer-image-thumbnail",
na).replaceWith(ab(X))}catch(D){}}function Na(){(0,a.default)(z).hasClass("show")&&(0,a.default)(z).dropdown("toggle").off("click.bs.dropdown")}var sa={state:0,layer:null,layerElem:null,dragX:0,dragY:0,initialScrollTop:0,dropTarget:null,dropBetweenMarkerElem:null,frameElem:null},Oa=document.createElement("div"),Ka=document.createElement("div"),bb=Ka,V=function(){var na=document.createElement("div");na.className="dropdown-menu";for(var X=0,aa=[{title:"Rename...",action:"CPRenameLayer"},{require:["image-layer"],
title:"Delete layer",action:"CPRemoveLayer"},{require:["layer-group"],title:"Delete group",action:"CPRemoveLayer"},{require:["image-layer","no-clipping-mask"],title:"Clip to the layer below",action:"CPCreateClippingMask"},{require:["image-layer","clipping-mask"],title:"Unclip from the layer below",action:"CPReleaseClippingMask"},{require:["no-mask"],title:"Add mask",action:"CPAddLayerMask"},{require:["mask"],title:"Delete mask",action:"CPRemoveLayerMask"},{require:["mask"],title:"Apply mask",action:"CPApplyLayerMask"},
{require:["layer-group"],title:"Merge group",action:"CPGroupMerge"},{require:["mask-enabled"],title:"Disable mask",action:"CPSetMaskVisible",actionData:{visible:"false"}},{require:["mask-disabled"],title:"Enable mask",action:"CPSetMaskVisible",actionData:{visible:"true"}}];X<aa.length;X++){var D=aa[X],K=document.createElement("a");K.className="dropdown-item";D.require&&(K.className=K.className+" "+D.require.map(function(Aa){return"chickenpaint-action-require-"+Aa}).join(" "));K.href="#";K.innerHTML=
(0,h._)(D.title);K.setAttribute("data-action",D.action);if(D.actionData)for(var Z in D.actionData)D.actionData.hasOwnProperty(Z)&&K.setAttribute("data-action-"+Z,D.actionData[Z]);na.appendChild(K)}return na}(),ca=ja=0,fa=null,ba=!1,va=null;this.buildLayers=function(){I=w.getLayersRoot().getLinearizedLayerList(!0);var na=I.map(function(D,K){return T(K,D)}),X=document.createDocumentFragment();(0,a.default)(Ka).empty();for(var aa=na.length-1;0<=aa;aa--)X.appendChild(na[aa]);Ka.appendChild(X);Qa()};this.layerChanged=
function(na){var X=I.indexOf(na),aa=(0,a.default)(ua(X));0===aa.length||na instanceof b.default&&(na.expanded!=(0,a.default)(aa).hasClass("chickenpaint-layer-group-expanded")||na.visible!=(0,a.default)(aa).hasClass("chickenpaint-layer-visible"))?this.buildLayers():aa.replaceWith(T(X,na))};this.setRotation90=function(na){if(ca!=na)for(ca=na,na=0;na<I.length;na++){var X=I[na],aa=(0,a.default)(ua(na));0<aa.length&&(ub(aa,X,!1),X.mask&&ub(aa,X,!0))}};this.layerImageThumbChanged=function(na){var X=I.indexOf(na);
X=(0,a.default)(ua(X));0<X.length&&ub(X,na,!1)};this.layerMaskThumbChanged=function(na){var X=I.indexOf(na);X=(0,a.default)(ua(X));0<X.length&&(na.mask?ub(X,na,!0):(0,a.default)(".chickenpaint-layer-mask-thumbnail",X).remove())};this.activeLayerChanged=function(na,X){(0,a.default)(".active",Ka).removeClass("active");na=(0,a.default)(ua(I.indexOf(na)));na.addClass("active");(0,a.default)(".chickenpaint-layer-image-thumbnail",na).toggleClass("active",!X);(0,a.default)(".chickenpaint-layer-mask-thumbnail",
na).toggleClass("active",X)};this.resize=function(){F.dismissNotification();this.buildLayers()};this.getElement=function(){return Oa};this.revealLayer=function(na){na=ua(na);var X=na.getBoundingClientRect(),aa=Ka.getBoundingClientRect();bb.scrollTop=Math.max(Math.min(Math.max(bb.scrollTop,bb.scrollTop+X.bottom-aa.bottom),bb.scrollTop+X.top-aa.top),0);return na};z.id="chickenpaint-layer-pop";Oa.className="chickenpaint-layers-widget well";Oa.addEventListener("contextmenu",function(na){return na.preventDefault()},
!0);V.addEventListener("click",function(na){var X=na.target.getAttribute("data-action");if(X){na.preventDefault();Na();n.actionPerformed({action:"CPSetActiveLayer",layer:fa,mask:w.isEditingMask()});var aa={action:X,layer:fa};na=na.target.attributes;for(var D=0;D<na.length;D++){var K=na[D].name.match(/^data-action-(.+)/);K&&(aa[K[1]]=JSON.parse(na[D].value))}"CPRenameLayer"===X?ea(I.indexOf(fa)):n.actionPerformed(aa)}});Ka.className="list-group";Ka.addEventListener("dblclick",function(na){0===na.button&&
0<(0,a.default)(na.target).closest(".chickenpaint-layer-description").length&&0===(0,a.default)(na.target).closest("input").length&&(ea(Ha(na.target)),na.preventDefault())});Ka.addEventListener("pointerdown",function(na){var X=(0,a.default)(na.target).closest(".chickenpaint-layer")[0];X=Ha(X);if(-1!=X){var aa=I[X];if(0==na.button&&(0,a.default)(na.target).closest(".chickenpaint-layer-eye").length)n.actionPerformed({action:"CPSetLayerVisibility",layer:aa,visible:!aa.visible});else if(0==na.button&&
aa instanceof b.default&&(0,a.default)(na.target).closest(".chickenpaint-layer-group-toggle").length)n.actionPerformed({action:"CPExpandLayerGroup",group:aa,expand:!aa.expanded});else{var D=w.getActiveLayer()!=aa;ba=0<(0,a.default)(na.target).closest(".chickenpaint-layer-mask-thumbnail").length||aa instanceof b.default&&null!==aa.mask&&D;if(0==na.button&&na.shiftKey&&ba)n.actionPerformed({action:"CPSetMaskVisible",layer:aa,visible:!aa.maskVisible});else{var K=0==na.button||D?ba:w.isEditingMask();
var Z=w.isEditingMask()!=K;(D||Z)&&n.actionPerformed({action:"CPSetActiveLayer",layer:aa,mask:K});K&&na.altKey?n.actionPerformed({action:"CPToggleMaskView"}):0==na.button?("pen"===na.pointerType||"touch"===na.pointerType?(sa.state=3,sa.initialScrollTop=bb.scrollTop,va&&clearTimeout(va),va=setTimeout(function(){3===sa.state&&(Ya(),sa.dragY=na.clientY,Qa())},800)):sa.state=1,sa.dropTarget=null,sa.layer=aa,sa.layerElem=ua(X),sa.dragX=na.clientX,sa.dragY=na.clientY,Ka.setPointerCapture(na.pointerId),
Ka.addEventListener("pointermove",sb),Ka.addEventListener("pointerup",Ia)):2==na.button&&(na.preventDefault(),ya(na))}}}});Ka.setAttribute("touch-action","none");for(var Fa=0,Ga=["ontouchstart","ontouchmove","ontouchend","ontouchcancel"];Fa<Ga.length;Fa++)Ka.addEventListener(Ga[Fa],l);Oa.appendChild(Ka);Oa.appendChild(V);(0,a.default)(z).on("show.bs.dropdown",function(na){var X=(0,a.default)(na.relatedTarget)[0];na=(0,a.default)(z).find(".dropdown-menu");X=X.getBoundingClientRect();var aa=z.getBoundingClientRect();
na.css({left:ja-na.outerWidth(!0)-aa.left+1+"px",top:X.top-na.outerHeight(!0)/2-aa.top+"px"});(0,a.default)(document).on("click",za)})},H=new t.default(0,100),J=document.createElement("select"),N=new function(){var ja=null,za="",ua=document.createElement("input"),Ha=this;this.hide=function(){ja=null;var ra=(0,a.default)(ua).parent();ra&&((0,a.default)(ua).remove(),ra.text(za))};this.renameAndHide=function(){ja&&ja.name!=ua.value&&n.actionPerformed({action:"CPSetLayerName",layer:ja,name:ua.value});
this.hide()};this.show=function(ra,Qa){ja=ra;za=ja.name;ua.value=za;(0,a.default)(".chickenpaint-layer-name",Qa).empty().append(ua);ua.select()};ua.type="text";ua.className="chickenpaint-layer-rename form-control input-sm";ua.addEventListener("keydown",function(ra){ra.stopPropagation()});ua.addEventListener("keypress",function(ra){"Enter"===ra.key&&Ha.renameAndHide();ra.stopPropagation()});ua.addEventListener("keyup",function(ra){"Escape"===ra.key&&Ha.hide();ra.stopPropagation()});ua.addEventListener("blur",
function(ra){ja&&Ha.renameAndHide()})},S=document.createElement("input"),ia=document.createElement("input"),da=!1,ta=this.setSize,oa=this.setWidth,R=this.setHeight;this.setSize=function(ja,za){ta.call(this,ja,za);this.dismissNotification();H.resize()};this.setWidth=function(ja){oa.call(this,ja);H.resize();G.resize()};this.setHeight=function(ja){R.call(this,ja);G.resize()};this.setRotation90=function(ja){G.setRotation90(ja)};this.dismissNotification=function(){(0,a.default)(".chickenpaint-layer[aria-describedby],.chickenpaint-slider[aria-describedby]",
O).each(function(ja,za){za=(0,a.default)(za);za.data("bs.popover")&&za.popover("dispose")});da&&(clearTimeout(da),da=!1)};this.showNotification=function(ja,za,ua){var Ha=I.indexOf(ja);ja=w.getActiveLayer()==ja&&"opacity"==ua?H.getElement():G.revealLayer(Ha);A.dismissNotification();(0,a.default)(ja).popover({html:!1,content:za,placement:"left",trigger:"manual",fallbackPlacement:[],boundary:"window",container:F.getElement()}).popover("show");da=setTimeout(function(){da=!1;A.dismissNotification()},Math.max(Math.round(70*
za.length),3E3))};J.className="form-control form-control-sm";J.title=(0,h._)("Layer blending mode");J.addEventListener("change",function(ja){n.actionPerformed({action:"CPSetLayerBlendMode",blendMode:parseInt(J.value,10)})});O.appendChild(J);H.title=function(ja){return(0,h._)("Opacity")+": "+ja+"%"};H.on("valueChange",function(ja){n.actionPerformed({action:"CPSetLayerAlpha",alpha:ja})});O.appendChild(H.getElement());S.id="chickenpaint-chk-sample-all-layers";S.type="checkbox";S.addEventListener("click",
function(ja){w.setSampleAllLayers(S.checked)});O.appendChild(c(S,(0,h._)("Sample all layers")));ia.id="chickenpaint-chk-lock-alpha";ia.type="checkbox";ia.addEventListener("click",function(ja){n.actionPerformed({action:"CPSetLayerLockAlpha",lock:ia.checked})});O.appendChild(c(ia,(0,h._)("Lock transparency")));O.appendChild(G.getElement());var pa=function(){var ja=[{title:"Add layer",icon:v("fa-file"),action:"CPAddLayer"},{title:"Add group",icon:v("fa-folder"),action:"CPAddGroup"},{title:"Add layer mask",
icon:E("mask"),action:"CPAddLayerMask"},{title:"Clip to the layer below",icon:v("fa-level-down-alt fa-flip-horizontal"),action:"CPCreateClippingMask",require:"no-clipping-mask-or-is-group"},{title:"Unclip from the layer below",icon:v("fa-level-down-alt fa-flip-horizontal"),action:"CPReleaseClippingMask",require:"clipping-mask"},{title:"Delete layer",icon:v("fa-trash"),action:"CPRemoveLayer"}],za=document.createElement("ul");za.className="chickenpaint-layer-buttons list-unstyled";for(var ua=function(){var Qa=
ra[Ha],ab=document.createElement("li");ab.setAttribute("data-action",Qa.action);ab.className="chickenpaint-small-toolbar-button "+(Qa.require?"chickenpaint-action-require-"+Qa.require:"");ab.title=(0,h._)(Qa.title);ab.appendChild(Qa.icon);ab.addEventListener("click",function(){n.actionPerformed({action:Qa.action})});za.appendChild(ab)},Ha=0,ra=ja;Ha<ra.length;Ha++)ua();return za}();O.appendChild(pa);w.on("changeActiveLayer",function(ja,za,ua){G.activeLayerChanged(za,ua);p()});w.on("changeLayer",function(ja){w=
this;F.dismissNotification();G.layerChanged(ja);p()});w.on("changeStructure",u);w.on("changeLayerMaskThumb",function(ja){w=this;G.layerMaskThumbChanged(ja)});w.on("changeLayerImageThumb",function(ja){w=this;G.layerImageThumbChanged(ja)});n.on("layerNotification",this.showNotification.bind(this));u.call(w)}Object.defineProperty(C,"__esModule",{value:!0});C.default=x;var a=y(k("jquery")),m=y(k("./CPPalette.js")),r=y(k("../engine/CPBlend.js")),t=y(k("./CPSlider.js")),b=y(k("../engine/CPLayerGroup.js"));
y(k("../engine/CPLayer.js"));var e=y(k("../engine/CPImageLayer.js")),h=k("../languages/lang.js");x.prototype=Object.create(m.default.prototype);x.prototype.constructor=x;L.exports=C.default},{"../engine/CPBlend.js":5,"../engine/CPImageLayer.js":15,"../engine/CPLayer.js":16,"../engine/CPLayerGroup.js":17,"../languages/lang.js":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:297}],36:[function(k,L,C){function y(x){return x&&x.__esModule?x:{default:x}}function l(x,a){var m=this,r=document.createElement("div"),
t=new E.default(x),b=new c.default(x),e=!1,h=this;this.togglePalettes=function(){b.togglePalettes()};this.arrangePalettes=function(){setTimeout(b.arrangePalettes.bind(b),0)};this.constrainPalettes=function(){b.constrainPalettes()};this.showPalette=function(g,p){b.showPaletteByName(g,p)};this.getSwatches=function(){return b.palettes.swatches.getSwatches()};this.setSwatches=function(g){b.palettes.swatches.setSwatches(g)};this.getPaletteManager=function(){return b};this.setRotation90=function(g){t.setRotation(g*
Math.PI/2);b.palettes.layers.setRotation90(g)};this.setFullScreenMode=function(g){e!==g&&(e=g,h.resize(),h.arrangePalettes())};this.resize=function(){var g=(0,v.default)(window).height(),p=(0,v.default)(n.getElement()).outerHeight();t.resize(e?g-p:Math.min(Math.max(g-p-65,500),850),!1);h.constrainPalettes()};var n=new f.default(x,this);a.appendChild(n.getElement());r.className="chickenpaint-main-section";r.appendChild(t.getElement());r.appendChild(b.getElement());a.appendChild(r);t.on("canvasRotated90",
function(g){b.palettes.layers.setRotation90(g)});window.addEventListener("resize",this.resize.bind(this));x.on("fullScreen",function(g){return m.setFullScreenMode(g)});x.on("toolbarStyleChange",function(g){(0,v.default)(a).toggleClass("chickenpaint-toolbar-style-old","old"===g)});x.on("unsavedChanges",function(g){(0,v.default)(a).toggleClass("chickenpaint-unsaved",g)});setTimeout(this.resize.bind(this),0)}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("./CPCanvas.js")),
c=y(k("./CPPaletteManager.js")),f=y(k("./CPMainMenu.js"));k=y(k("wolfy87-eventemitter"));l.prototype=Object.create(k.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"./CPCanvas.js":26,"./CPMainMenu.js":37,"./CPPaletteManager.js":40,jquery:297,"wolfy87-eventemitter":316}],37:[function(k,L,C){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(C,"__esModule",{value:!0});C.default=function(f,x){function a(n){var g=n.data("action"),p=n.data("checkbox");f.isActionAllowed(g)&&
(p?(n.toggleClass("selected"),n=n.hasClass("selected")):n=!1,f.actionPerformed({action:g,checkbox:p,selected:n}))}function m(n){n=n.toUpperCase();n=n.replace(/(,.+)$/,"");n=n.replace("ctrl+=","ctrl++");n=n.replace("\u2318+=","\u2318++");return n=b?n.replace(/([^+])\+/g,"$1"):n.replace(/([^+])\+/g,"$1 ")}function r(n){(0,l.default)("[data-action]",n).each(function(){var A=(0,l.default)(this),F=this.getAttribute("data-action");F=f.isActionAllowed(F);A.toggleClass("disabled",!F).toggleClass("hidden",
!F&&!0===A.data("hideIfNotAvailable"))});(0,l.default)(".dropdown-divider",n).removeClass("hidden");n=(0,l.default)(".dropdown-item:not(.hidden),.dropdown-divider:not(.hidden)",n);for(var g=null,p=0;p<n.length;p++){var u=(0,l.default)(n[p]);u.hasClass("dropdown-divider")?0===p||g?u.addClass("hidden"):g=u:g=null}g&&g.addClass("hidden")}var t=(0,l.default)('<nav class="navbar navbar-expand-md navbar-light bg-light"><a class="navbar-brand" href="#">ChickenPaint</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#chickenpaint-main-menu-content" aria-controls="chickenpaint-main-menu-content" aria-expanded="false" aria-label="Toggle main menu"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="chickenpaint-main-menu-content"><ul class="navbar-nav mr-auto"></ul></div><div class="widget-nav" id="chickenpaint-palette-toggler-content"/></nav>'),
b=/^Mac/i.test(navigator.platform);this.getElement=function(){return t[0]};(function(n,g){n.append(g.map(function(p){var u=(0,l.default)('<li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">'+(0,E._)(p.name)+'</a><div class="dropdown-menu"></div></li>');(0,l.default)(".dropdown-toggle",u).dropdown();u.on("show.bs.dropdown",function(){r(u);(0,l.default)(document).one("click",function(){u.hasClass("show")&&
(0,l.default)(".dropdown-toggle",u).dropdown("toggle")})});(0,l.default)(".dropdown-menu",u).append(p.children.map(function(A){if(!A.action||f.isActionSupported(A.action)){"CPSend"!=A.action||f.isActionSupported("CPContinue")||(A.name=(0,E._)("Post Oekaki"),A.shortcut="ctrl+p");if("-"==A.name)var F=(0,l.default)('<div class="dropdown-divider"></div>');else F=(0,l.default)('<a class="dropdown-item" href="#" data-action="'+A.action+'"><span>'+(0,E._)(A.name)+"</span></a>"),A.checkbox&&(0,l.default)(F).data("checkbox",
!0).toggleClass("selected",!!A.checked),A.hideIfNotAvailable&&F.data("hideIfNotAvailable",!0);A.title&&F.attr("title",(0,E._)(A.title));if(A.shortcut){var w=F,I=document.createElement("small");b&&(A.shortcut=A.shortcut.replace(/SHIFT/im,"\u21e7"),A.shortcut=A.shortcut.replace(/ALT/im,"\u2325"),A.shortcut=A.shortcut.replace(/CTRL/im,"\u2318"));I.className="chickenpaint-shortcut";I.innerHTML=m(A.shortcut);w.append(I);(0,v.default)(A.shortcut,function(O){a(w);O.preventDefault();O.stopPropagation();return!1})}return F}}));
return u}))})((0,l.default)(".navbar-nav",t),c);(function(n,g){n.append(g.filter(function(p){return!!p.mnemonic&&f.isActionSupported(p.action)}).map(function(p){var u=(0,l.default)('<button class="widget-toggler selected" type="button" data-action="'.concat(p.action,'" data-checkbox="true" data-selected="').concat(!p.checked,'">')+"<span>"+p.mnemonic+"</span></button>");u.on("click",function(A){a(u);A.preventDefault()});return u}))})((0,l.default)(".widget-nav",t),c[5].children);(0,l.default)(t).on("click",
"a:not(.dropdown-toggle)",function(n){a((0,l.default)(this));n.preventDefault()});(0,l.default)(".navbar-toggler",t).on("click",function(n){(0,l.default)(".collapse",t).collapse("toggle");n.preventDefault()});x.getPaletteManager().on("paletteVisChange",function(n,g){(0,l.default)('[data-action="CPPal'+n.substring(0,1).toUpperCase()+n.substring(1)+'"]',t).toggleClass("selected",g)});var e=(0,l.default)(".dropdown-item[data-action=CPFullScreen]",t),h=(0,l.default)(".dropdown-item[data-action=CPToolbarStyle]",
t);f.on("fullScreen",function(n){return e.toggleClass("selected",n)});e.toggleClass("selected",f.isFullScreen());f.on("toolbarStyleChange",function(n){return h.toggleClass("selected","old"===n)});h.toggleClass("selected","old"===f.getToolbarStyle())};var l=y(k("jquery")),v=y(k("../../lib/keymaster.js")),E=k("../languages/lang.js"),c=[{name:"File",mnemonic:"F",children:[{name:"Save to my computer",action:"CPSave",mnemonic:"S",shortcut:"ctrl+s"},{name:"Save Oekaki",action:"CPSend",mnemonic:"S",shortcut:"ctrl+s"}]},
{name:"Edit",mnemonic:"E",children:[{name:"Undo",action:"CPUndo",mnemonic:"U",shortcut:"ctrl+z",title:"Undoes the most recent action"},{name:"Redo",action:"CPRedo",mnemonic:"R",shortcut:"shift+ctrl+z",title:"Redoes a previously undone action"},{name:"Clear history",action:"CPClearHistory",mnemonic:"H",title:"Removes all undo/redo information to regain memory"},{name:"-"},{name:"Cut",action:"CPCut",mnemonic:"T",shortcut:"ctrl+x"},{name:"Copy",action:"CPCopy",mnemonic:"C",shortcut:"ctrl+c"},{name:"Copy merged",
action:"CPCopyMerged",mnemonic:"Y",shortcut:"shift+ctrl+c"},{name:"Paste",action:"CPPaste",mnemonic:"P",shortcut:"ctrl+v"},{name:"-"},{name:"Select all",action:"CPSelectAll",mnemonic:"A",shortcut:"ctrl+a"},{name:"Deselect",action:"CPDeselectAll",mnemonic:"D",shortcut:"ctrl+d"},{name:"-"},{name:"Transform",action:"CPTransform",mnemonic:"T",shortcut:"ctrl+y"}]},{name:"Layers",mnemonic:"L",children:[{name:"Duplicate",action:"CPLayerDuplicate",mnemonic:"D",shortcut:"shift+ctrl+d",title:"Creates a copy of the currently selected layer"},
{name:"-"},{name:"Merge down",action:"CPLayerMergeDown",mnemonic:"E",shortcut:"ctrl+e",title:"Merges the currently selected layer with the one directly below it"},{name:"Merge group",action:"CPGroupMerge",mnemonic:"G",title:"Merges the contents of the selected group"},{name:"Merge all layers",action:"CPLayerMergeAll",mnemonic:"A",title:"Merges all the layers"},{name:"-"},{hideIfNotAvailable:!0,name:"Add layer mask",action:"CPAddLayerMask"},{hideIfNotAvailable:!0,name:"Delete layer mask",action:"CPRemoveLayerMask"},
{hideIfNotAvailable:!0,name:"Apply layer mask",action:"CPApplyLayerMask"},{name:"-"},{hideIfNotAvailable:!0,name:"Clip to the layer below",action:"CPCreateClippingMask"},{hideIfNotAvailable:!0,name:"Unclip from the layer below",action:"CPReleaseClippingMask"}]},{name:"Effects",mnemonic:"E",children:[{name:"Clear",action:"CPClear",mnemonic:"D",shortcut:"del,backspace",title:"Clears the selected area"},{name:"Fill",action:"CPFill",mnemonic:"F",shortcut:"ctrl+f",title:"Fills the selected area with the current color"},
{name:"Flip horizontal",action:"CPHFlip",mnemonic:"H",title:"Flips the current selected area horizontally"},{name:"Flip vertical",action:"CPVFlip",mnemonic:"V",title:"Flips the current selected area vertically"},{name:"Invert",action:"CPFXInvert",mnemonic:"I",title:"Invert the image colors"},{name:"-"},{name:"Box blur...",action:"CPFXBoxBlur",mnemonic:"B",title:"Blur effect"},{name:"-"},{name:"Monochromatic noise",action:"CPMNoise",mnemonic:"M",title:"Fills the selection with noise"},{name:"Color noise",
action:"CPCNoise",mnemonic:"C",title:"Fills the selection with colored noise"}]},{name:"View",mnemonic:"V",children:[{name:"Full-screen mode",action:"CPFullScreen",mnemonic:"F",checkbox:!0,checked:!1},{name:"-"},{name:"Zoom in",action:"CPZoomIn",mnemonic:"I",shortcut:"ctrl+=",title:"Zooms in"},{name:"Zoom out",action:"CPZoomOut",mnemonic:"O",shortcut:"ctrl+-",title:"Zooms out"},{name:"Zoom 100%",action:"CPZoom100",mnemonic:"1",shortcut:"ctrl+0",title:"Resets the zoom factor to 100%"},{action:"CPLinearInterpolation",
name:"-"},{name:"Smooth-out zoomed canvas",action:"CPLinearInterpolation",mnemonic:"L",title:"Linear interpolation is used to give a smoothed looked to the picture when zoomed in",checkbox:!0},{name:"-"},{name:"Show grid",action:"CPToggleGrid",mnemonic:"G",shortcut:"ctrl+g",title:"Displays a grid over the image",checkbox:!0,checked:!1},{name:"Grid options...",action:"CPGridOptions",mnemonic:"D",title:"Shows the grid options dialog box"}]},{name:"Palettes",mnemonic:"P",children:[{name:"Rearrange",
action:"CPArrangePalettes",title:"Rearrange the palette windows"},{name:"Toggle palettes",action:"CPTogglePalettes",mnemonic:"P",shortcut:"tab",title:"Hides or shows all palettes"},{name:"Use old icons",action:"CPToolbarStyle",checkbox:!0,checked:!1},{name:"-"},{name:"Show tools",action:"CPPalTool",mnemonic:"T",checkbox:!0,checked:!0},{name:"Show color",action:"CPPalColor",mnemonic:"C",checkbox:!0,checked:!0},{name:"Show stroke",action:"CPPalStroke",mnemonic:"S",checkbox:!0,checked:!0},{name:"Show misc",
action:"CPPalMisc",mnemonic:"M",checkbox:!0,checked:!0},{name:"Show swatches",action:"CPPalSwatches",mnemonic:"W",checkbox:!0,checked:!0},{name:"Show textures",action:"CPPalTextures",mnemonic:"X",checkbox:!0,checked:!0},{name:"Show tool options",action:"CPPalBrush",mnemonic:"B",checkbox:!0,checked:!0},{name:"Show layers",action:"CPPalLayers",mnemonic:"L",checkbox:!0,checked:!0}]},{name:"Help",mnemonic:"H",children:[{name:"Tablet support",mnemonic:"T",action:"CPTabletSupport",title:"Help with getting a drawing tablet working"},
{name:"Shortcuts",mnemonic:"S",action:"CPShortcuts",title:"List of keyboard and mouse shortcuts"},{name:"-"},{name:"About",mnemonic:"A",action:"CPAbout",title:"Displays some information about ChickenPaint"}]}];L.exports=C.default},{"../../lib/keymaster.js":68,"../languages/lang.js":54,jquery:297}],38:[function(k,L,C){function y(f){return f&&f.__esModule?f:{default:f}}function l(f){E.default.call(this,f,"misc","Misc");var x=this,a=[{className:"chickenpaint-tool-zoom-in",command:"CPZoomIn",toolTip:"Zoom in"},
{className:"chickenpaint-tool-zoom-out",command:"CPZoomOut",toolTip:"Zoom out"},{className:"chickenpaint-tool-zoom-100",command:"CPZoom100",toolTip:"Zoom 100%"},{className:"chickenpaint-tool-undo",command:"CPUndo",toolTip:"Undo"},{className:"chickenpaint-tool-redo",command:"CPRedo",toolTip:"Redo"},{className:"chickenpaint-tool-send",command:"CPSend",toolTip:"Save Oekaki"}];(function(){var m=x.getBodyElement(),r=document.createElement("ul");r.className="chickenpaint-misc-tools list-unstyled";for(var t in a){var b=
a[t],e=document.createElement("li"),h=document.createElement("div");"CPSend"!=b.command||f.isActionSupported("CPContinue")||(b.toolTip="Post Oekaki",b.className="chickenpaint-tool-send-and-end");e.className="chickenpaint-toolbar-button "+b.className;e.setAttribute("data-buttonIndex",t);e.setAttribute("title",(0,c._)(b.toolTip));h.className="chickenpaint-toolbar-button-icon";e.appendChild(h);r.appendChild(e)}(0,v.default)(r).on("mousedown","li",function(n){(0,v.default)(this).addClass("selected")}).on("mouseup",
"li",function(n){(0,v.default)(this).removeClass("selected")}).on("click","li",function(n){n=a[parseInt(this.getAttribute("data-buttonIndex"),10)];f.actionPerformed({action:n.command})});m.appendChild(r)})()}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("./CPPalette.js")),c=k("../languages/lang.js");l.prototype=Object.create(E.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"../languages/lang.js":54,"./CPPalette.js":39,jquery:297}],39:[function(k,
L,C){function y(x){return x&&x.__esModule?x:{default:x}}function l(x,a,m,r){var t,b,e,h;function n(ia){"vertResize"==J&&N.setHeight(ia.pageY-(0,v.default)(w).offset().top)}function g(ia){G.releasePointerCapture(ia.pointerId);J=!1}function p(ia){J="vertResize";G.setPointerCapture(ia.pointerId)}function u(ia){"horzResize"==J&&N.setWidth(ia.pageX-(0,v.default)(w).offset().left)}function A(ia){H.releasePointerCapture(ia.pointerId);J=!1}function F(ia){J="horzResize";H.setPointerCapture(ia.pointerId)}x.getSmallScreenMode()&&
(0,c._)(m+" (shorter)")!==m+" (shorter)"?this.title=(0,c._)(m+" (shorter)"):this.title=(0,c._)(m);r=r||{};this.name=a;this.resizeVert=r.resizeVert||!1;this.resizeHorz=r.resizeHorz||!1;var w=document.createElement("div");m=document.createElement("div");var I=document.createElement("i"),O=document.createElement("button"),z=document.createElement("div"),G=null,H=null,J,N=this;this.getElement=function(){return w};this.getBodyElement=function(){return z};this.getWidth=function(){return(0,v.default)(w).outerWidth()};
this.getHeight=function(){return(0,v.default)(w).outerHeight()};this.getX=function(){return parseInt(w.style.left,10)||0};this.getY=function(){return parseInt(w.style.top,10)||0};this.setLocation=function(ia,da){w.style.left=ia+"px";w.style.top=da+"px"};this.setWidth=function(ia){w.style.width=ia+"px"};this.setHeight=function(ia){w.style.height=ia+"px"};this.setSize=function(ia,da){this.setWidth(ia);this.setHeight(da)};this.setCollapseDownwards=function(ia){r.collapseDownwards=ia};this.toggleCollapse=
function(ia){var da=(0,v.default)(w);if(void 0===ia)ia=!da.hasClass("collapsed");else if(da.hasClass("collapsed")==ia)return;var ta=da.parents(".chickenpaint").find(".chickenpaint-canvas").height(),oa=this.getHeight();oa=this.getY()+oa;da.toggleClass("collapsed",ia);(0,v.default)(I).toggleClass("fa-angle-down",!ia).toggleClass("fa-angle-up",ia);ia?r.collapseDownwards&&this.setLocation(this.getX(),Math.min(oa,ta)-this.getHeight()):(ia=this.getHeight(),r.collapseDownwards?this.setLocation(this.getX(),
Math.max(oa-ia,0)):this.getY()+ia>ta&&this.setLocation(this.getX(),Math.max(ta-ia,0)))};this.userIsDoneWithUs=function(){x.getSmallScreenMode()&&this.toggleCollapse(!0)};I.className="collapse-icon fas fa-angle-down";O.type="button";O.className="close";O.innerHTML="&times;";w.className="chickenpaint-palette chickenpaint-palette-"+a;m.className="chickenpaint-palette-head";m.setAttribute("touch-action","none");a=document.createElement("div");var S=document.createElement("h5");a.className="modal-header";
S.className="modal-title";S.appendChild(document.createTextNode(this.title));S.appendChild(I);a.appendChild(S);a.appendChild(O);m.appendChild(a);z.className="chickenpaint-palette-body";w.appendChild(m);w.appendChild(z);this.resizeVert&&(G=document.createElement("div"),G.className="chickenpaint-resize-handle-vert",G.addEventListener("pointerdown",p),G.addEventListener("pointermove",n),G.addEventListener("pointerup",g),w.appendChild(G));this.resizeHorz&&(H=document.createElement("div"),H.className=
"chickenpaint-resize-handle-horz",H.addEventListener("pointerdown",F),H.addEventListener("pointermove",u),H.addEventListener("pointerup",A),w.appendChild(H));m.addEventListener("pointerdown",function(ia){0==ia.button&&(ia.stopPropagation(),ia.preventDefault(),"BUTTON"==ia.target.nodeName?N.emitEvent("paletteVisChange",[N,!1]):(e=parseInt(w.style.left,10)||0,h=parseInt(w.style.top,10)||0,t=ia.pageX-(0,v.default)(w).position().left,b=ia.pageY-(0,v.default)(w).position().top,J=x.getSmallScreenMode()?
"dragStart":"dragging",ia.target.setPointerCapture(ia.pointerId)))});m.addEventListener("pointermove",function(ia){if(("dragStart"===J||"dragging"===J)&&0!==ia.buttons){var da=ia.pageX-t;ia=ia.pageY-b;"dragStart"==J&&(da-e)*(da-e)+(ia-h)*(ia-h)>f*f&&(J="dragging");"dragging"==J&&N.setLocation(da,ia)}});m.addEventListener("pointerup",function(ia){if("dragging"===J||"dragStart"===J){"dragStart"===J&&(ia.stopPropagation(),ia.preventDefault(),setTimeout(function(){N.setLocation(e,h);N.toggleCollapse()},
100));J=!1;try{ia.target.releasePointerCapture(ia.pointerId)}catch(da){console.error(da)}}})}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("wolfy87-eventemitter")),c=k("../languages/lang"),f=5;l.prototype=Object.create(E.default.prototype);l.prototype.constructor=E.default;L.exports=C.default},{"../languages/lang":54,jquery:297,"wolfy87-eventemitter":316}],40:[function(k,L,C){function y(e){return e&&e.__esModule?e:{default:e}}function l(e){function h(){var J=
(0,v.default)(A).parents(".chickenpaint").find(".chickenpaint-canvas");return{width:J.width(),height:J.height()}}function n(J,N){var S=J.getElement();N?A.appendChild(S):A.removeChild(S);F.emitEvent("paletteVisChange",[J.name,N])}var g={tool:new c.default(e),misc:new f.default(e),stroke:new x.default(e),color:new a.default(e),brush:new m.default(e),layers:new r.default(e),textures:new t.default(e),swatches:new b.default(e)},p={tool:!1,color:!1,misc:!1},u={color:!0,textures:!0,layers:!0},A=document.createElement("div"),
F=this,w=[],I=[];this.palettes=g;this.showPaletteByName=function(J,N){(J=g[J])&&n(J,N)};this.togglePalettes=function(){if(0==I.length)(0,v.default)("> .chickenpaint-palette",A).each(function(){F.showPaletteByName(this.getAttribute("data-paletteName"),!1);I.push(this)});else{for(var J=0;J<I.length;J++)F.showPaletteByName(I[J].getAttribute("data-paletteName"),!0);I=[]}};this.constrainPalettes=function(){var J=h();for(S in g){var N=g[S];N.getX()+N.getWidth()/2>J.width&&N.setLocation(J.width-N.getWidth(),
N.getY());N.getY()+N.getHeight()/2>J.height&&N.setLocation(N.getX(),J.height-N.getHeight())}var S=0<J.width-g.tool.getWidth()-g.misc.getWidth()-g.stroke.getWidth()-g.color.getWidth()-g.brush.getWidth()-15;g.swatches.getX()+g.swatches.getWidth()==g.brush.getX()+g.brush.getWidth()&&20>Math.abs(g.swatches.getY()-g.brush.getY())&&g.swatches.setLocation(g.brush.getX()-g.swatches.getWidth()-(S?5:1),0);g.layers.getY()+g.layers.getHeight()>J.height&&g.layers.setHeight(Math.max(J.height-g.layers.getY(),200))};
this.arrangePalettes=function(){var J=h();if(e.getSmallScreenMode())g.tool.setLocation(0,0),g.misc.setLocation(g.tool.getX()+g.tool.getWidth()+1,0),g.brush.setLocation(J.width-g.brush.getWidth()-15,g.misc.getY()+g.misc.getHeight()+1),g.textures.setWidth(J.width-g.textures.getX()),g.layers.setLocation(g.brush.getX()+g.brush.getWidth()-g.layers.getWidth(),g.textures.getY()-g.layers.getHeight()),g.layers.setHeight(g.textures.getY()-330-1),g.stroke.setLocation(g.misc.getX(),g.misc.getY()+g.misc.getHeight()+
1),g.swatches.setLocation(g.stroke.getX(),g.stroke.getY()+g.stroke.getHeight()+1);else{var N=0<J.width-g.tool.getWidth()-g.misc.getWidth()-g.stroke.getWidth()-g.color.getWidth()-g.brush.getWidth()-15;g.brush.setLocation(J.width-g.brush.getWidth()-15,0);var S=g.brush.getY()+g.brush.getHeight();S=300<J.height-S?S+2:S;g.layers.setSize(g.brush.getWidth()+(N?30:0),J.height-S);g.layers.setLocation(g.brush.getX()+g.brush.getWidth()-g.layers.getWidth(),S);g.tool.setLocation(0,0);g.misc.setLocation(g.tool.getX()+
g.tool.getWidth()+(N?5:1),0);N?g.stroke.setLocation(g.misc.getX()+g.misc.getWidth()+(N?5:1),0):g.stroke.setLocation(g.misc.getX(),g.misc.getY()+g.misc.getHeight()+1);g.swatches.setLocation(Math.max(g.brush.getX()-g.swatches.getWidth()-(N?5:1),g.tool.getX()+g.tool.getWidth()),0);g.textures.setWidth(Math.min(g.layers.getX()-g.textures.getX(),490))}g.textures.setLocation(g.color.getX()+g.color.getWidth()+4,J.height-g.textures.getHeight());g.color.setLocation(0,Math.max(g.tool.getY()+g.tool.getHeight(),
J.height-g.color.getHeight()))};e.on("smallScreen",function(J){if(J)for(var N in g)g[N].toggleCollapse(J&&(!(N in p)||p[N]))});this.getElement=function(){return A};A.className="chickenpaint-palettes";for(var O in g){var z=g[O],G=z.getElement();z.on("paletteVisChange",function(){n(this,!1)});O in u&&z.setCollapseDownwards(!0);G.setAttribute("data-paletteName",O);w.push(G)}for(var H in g)u=g[H].getElement(),A.appendChild(u)}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),
E=y(k("wolfy87-eventemitter")),c=y(k("./CPToolPalette.js")),f=y(k("./CPMiscPalette.js")),x=y(k("./CPStrokePalette.js")),a=y(k("./CPColorPalette.js")),m=y(k("./CPBrushPalette.js")),r=y(k("./CPLayersPalette.js")),t=y(k("./CPTexturePalette.js")),b=y(k("./CPSwatchesPalette.js"));l.prototype=Object.create(E.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"./CPBrushPalette.js":25,"./CPColorPalette.js":28,"./CPLayersPalette.js":35,"./CPMiscPalette.js":38,"./CPStrokePalette.js":46,"./CPSwatchesPalette.js":47,
"./CPTexturePalette.js":49,"./CPToolPalette.js":50,jquery:297,"wolfy87-eventemitter":316}],41:[function(k,L,C){function y(E){return E&&E.__esModule?E:{default:E}}function l(E){function c(){var A=E?(0,v.default)(f).height():(0,v.default)(f).width();n=b/(r-m)*A;A=(t-m)/(r-m)*(A-n);a.style[E?"height":"width"]=n+"px";x.style[E?"height":"width"]=n+"px";x.style[E?"top":"left"]=A+"px"}var f=document.createElement("div"),x=document.createElement("div"),a=document.createElement("div"),m=0,r=1,t=0,b=1,e=10,
h=!1,n=1,g=!1,p,u=this;this.setValues=function(A,F,w,I){t=A;b=F;m=w;r=I;c()};this.setBlockIncrement=function(A){e=A};this.setUnitIncrement=function(A){};this.getElement=function(){return f};this.getValueIsAdjusting=function(){return h};f.className="chickenpaint-scrollbar "+(E?"chickenpaint-scrollbar-vertical":"chickenpaint-scrollbar-horizontal");x.className="chickenpaint-scrollbar-handle";x.setAttribute("touch-action","none");a.className="chickenpaint-scrollbar-handle-inner";x.appendChild(a);f.appendChild(x);
x.addEventListener("pointerdown",function(A){A.stopPropagation();p=E?A.pageY-(0,v.default)(f).offset().top:A.pageX-(0,v.default)(f).offset().left;x.setPointerCapture(A.pointerId);(0,v.default)(x).addClass("dragging");g=!0});x.addEventListener("pointermove",function(A){if(g){h=!0;var F=E?(0,v.default)(f).height():(0,v.default)(f).width();A=E?A.pageY-(0,v.default)(f).offset().top:A.pageX-(0,v.default)(f).offset().left;t+=(A-p)*(r-m)/(F-n);t=Math.min(Math.max(t,m),r);p=A;u.emitEvent("valueChanged",[t]);
c();h=!1}});x.addEventListener("pointerup",function(A){A.stopPropagation();if(g){try{x.releasePointerCapture(A.pointerId)}catch(F){}(0,v.default)(x).removeClass("dragging");g=!1}});x.addEventListener("click",function(A){A.stopPropagation()});f.addEventListener("click",function(A){if(this==f){A=E?A.pageY-(0,v.default)(f).offset().top:A.pageX-(0,v.default)(f).offset().left;var F=parseInt(x.style[E?"top":"left"],10);t=A<F?t-e:t+e;u.emitEvent("valueChanged",[t]);c()}})}Object.defineProperty(C,"__esModule",
{value:!0});C.default=l;var v=y(k("jquery"));k=y(k("wolfy87-eventemitter"));l.prototype=Object.create(k.default.prototype);l.prototype.constructor=l;L.exports=C.default},{jquery:297,"wolfy87-eventemitter":316}],42:[function(k,L,C){function y(f){return f&&f.__esModule?f:{default:f}}function l(f,x,a){var m=(0,v.default)('<div class="modal fade chickenpaint-send-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content" data-stage="saving">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,c._)("Saving drawing..."),
'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-saving-progress-message">').concat((0,c._)("Preparing your drawing to be saved, please wait..."),'</p>\n                            <pre class="chickenpaint-saving-error-message pre-scrollable"></pre>\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light chickenpaint-send-cancel" data-dismiss="modal">').concat((0,c._)("Cancel"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-not-previously-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">').concat((0,c._)("Drawing saved!"),'</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, would you like to post it to the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-dismiss="modal">').concat((0,c._)("Yes, post it now"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-dismiss="modal">').concat((0,c._)("No, keep drawing"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-exit" data-dismiss="modal">').concat((0,c._)("No, quit and I'll finish it later"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-already-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, would you like to view it on the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-dismiss="modal">').concat((0,c._)("Yes, view the post"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-dismiss="modal">').concat((0,c._)("No, keep drawing"),'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-redirect" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,c._)("Your drawing has been saved, redirecting you to view your new post now..."),
"</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),r=(0,v.default)(".chickenpaint-saving-progress-message",m),t=(0,v.default)(".chickenpaint-saving-error-message",m),b=(0,v.default)(".progress-bar",m),e=this;a.on("savingProgress",function(h,n){h*=100;r.text(n);(0,v.default)(b).attr("aria-valuenow",h).css("width",h+"%")});a.on("savingComplete",function(){(0,v.default)(".modal-content[data-stage='saving']",m).hide();f.isActionSupported("CPContinue")?
f.isActionSupported("CPExit")?(0,v.default)(".modal-content[data-stage='success-not-previously-posted']",m).show():(0,v.default)(".modal-content[data-stage='success-already-posted']",m).show():(0,v.default)(".modal-content[data-stage='success-redirect']",m).show()});a.on("savingFailure",function(h){b.addClass("progress-bar-danger");var n=(0,c._)("Sorry, your drawing could not be saved, please try again later.");h&&(h=h.replace(/^CHIBIERROR\s*/,""),0<h.length&&(n+="<br><br>The error returned from the server was:",
t.text(h).show()),r.html(n))});(0,v.default)(".chickenpaint-post-drawing",m).on("click",function(){f.actionPerformed({action:"CPPost"})});(0,v.default)(".chickenpaint-exit",m).toggle(f.isActionSupported("CPExit")).on("click",function(){alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and you can choose to continue this drawing.");f.actionPerformed({action:"CPExit"})});(0,v.default)(".chickenpaint-send-cancel",m).on("click",function(){a.cancel()});
m.on("hidden.bs.modal",function(h){m.remove()});m.modal({show:!1});m.on("shown.bs.modal",function(){e.emitEvent("shown")});m.data("bs.modal").$body=(0,v.default)(x);x.appendChild(m[0]);this.show=function(){m.modal("show")}}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("wolfy87-eventemitter")),c=k("../languages/lang.js");l.prototype=Object.create(E.default.prototype);l.prototype.contructor=l;L.exports=C.default},{"../languages/lang.js":54,jquery:297,"wolfy87-eventemitter":316}],
43:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(l){var v=(0,y.default)('<div class="modal fade chickenpaint-shortcuts-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Shortcuts</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>\n                                Many of the menu options and painting tools have keyboard shortcuts which are\n                                written next to them or appear when you hover.\n                            </p>\n                            <p>\n                                Here are some other shortcuts which are not as obvious!\n                            </p>\n                            <div class="chickenpaint-shortcuts-sections">\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Color swatches palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Use as the drawing color\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span>\n                                                </dt>\n                                                <dd>\n                                                    Remove or replace a color swatch\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Line drawing mode</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Snap line to nearest 45 degrees\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Painting tools</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">1</span> - <span class="chickenpaint-shortcut-key">9</span> , <span class="chickenpaint-shortcut-key">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush opacity\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">[</span> , <span class="chickenpaint-shortcut-key">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush size\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Brush palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right drag</span>\n                                                </dt>\n                                                <dd>\n                                                    Adjust brush sliders more precisely\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Drawing canvas</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Middle</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Move the canvas around\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> Middle</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="chickenpaint-shortcut-key">Space</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Rotate the canvas\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Right</span> <span class="chickenpaint-shortcut-alternate">or</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa fa-mouse-pointer"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Sample the color under the cursor\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>Layers palette</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa fa-mouse-pointer"></span> Double click</span>\n                                                </dt>\n                                                <dd>\n                                                    Rename layer\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ');
v.on("hidden.bs.modal",function(E){v.remove()});v.modal({show:!1});v.data("bs.modal").$body=(0,y.default)(l);l.appendChild(v[0]);this.show=function(){v.modal("show")}};var y=function(l){return l&&l.__esModule?l:{default:l}}(k("jquery"));L.exports=C.default},{jquery:297}],44:[function(k,L,C){function y(f){return f&&f.__esModule?f:{default:f}}function l(f,x,a,m){function r(){var F=e.width,w=e.height,I="string"===typeof A.title?(0,c._)(A.title):A.title(A.value),O=3*window.devicePixelRatio,z=.75*e.height;
if(a)h.save(),h.fillStyle="white",h.fillRect(0,0,F,w),h.fillStyle="black",h.fillText(I,O,z),h.beginPath(),A.value>=n/2?h.rect(F/2,0,(A.value-n/2)*F/n,w):h.rect(A.value*F/n,0,(n/2-A.value)*F/n,w),h.fill(),h.clip(),h.fillStyle="white";else{var G=(A.value-f)/n;m&&(G=Math.pow(G,1/1.5));G*=F;h.save();h.save();h.fillStyle="black";h.beginPath();h.rect(0,0,G,w);h.fill();h.clip();h.fillStyle="white";h.fillText(I,O,z);h.restore();h.fillStyle="white";h.beginPath();h.rect(G,0,F,w);h.fill();h.clip();h.fillStyle=
"black"}h.fillText(I,O,z);h.restore()}function t(F){var w=(0,v.default)(e).width(),I=(0,v.default)(e).offset().left;F=(F.pageX-I)/w;m&&(F=Math.pow(Math.max(F,0),1.5));A.setValue(F*n+f)}function b(F){switch(g){case 1:t(F);break;case 2:var w=(F.pageX-p)/4;if(0!==w){w=A.value+w;var I=w|0;A.setValue(I);p=F.pageX-4*(w-I)}}}var e=document.createElement("canvas"),h=e.getContext("2d"),n=x-f,g=0,p,u=!1,A=this;this.value=void 0;this.title="";a=a||!1;this.setValue=function(F){F=~~Math.max(f,Math.min(x,F));this.value!=
F&&(this.value=F,this.emitEvent("valueChange",[this.value]),u?r():(u=!0,this.resize()))};this.getElement=function(){return e};this.resize=function(){e.width=(0,v.default)(e).width()||150;e.height=(0,v.default)(e).height()||20;1<window.devicePixelRatio&&(e.style.height=e.height+"px",e.width*=window.devicePixelRatio,e.height*=window.devicePixelRatio);h.font=.47*e.height+"pt sans-serif";r()};e.addEventListener("pointerdown",function(F){if(0===g){switch(F.button){case 0:g=1;t(F);break;case 2:g=2;p=F.pageX;
break;default:return}e.setPointerCapture(F.pointerId);e.addEventListener("pointermove",b)}});e.addEventListener("pointerup",function(F){if(0!==g){switch(g){case 1:0===F.button&&(g=0);break;case 2:2==F.button&&(g=0);break;default:return}0===g&&(e.releasePointerCapture(F.pointerId),e.removeEventListener("pointermove",b))}});e.addEventListener("contextmenu",function(F){F.preventDefault()});e.setAttribute("touch-action","none");e.className="chickenpaint-slider";"devicePixelRatio"in window||(window.devicePixelRatio=
1)}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("wolfy87-eventemitter")),c=k("../languages/lang");l.prototype=Object.create(E.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"../languages/lang":54,jquery:297,"wolfy87-eventemitter":316}],45:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(y,l,v){function E(){var z=f.width/2,G=f.height/2;x.fillStyle="white";x.fillRect(0,0,f.width,f.height);if(g==n.length){var H=
t.width,J=t.height,N=Math.round(z-H/2),S=Math.round(G-J/2);x.drawImage(t,N,S);var ia=w;p||(p=document.createElement("canvas"),p.width=H,p.height=J,A=p.getContext("2d"));A.globalCompositeOperation="copy";A.drawImage(a,0,0);u||(u=document.createElement("canvas"),u.width=H,u.height=J,F=u.getContext("2d"));F.globalCompositeOperation="copy";F.drawImage(h,0,0);F.globalCompositeOperation="source-in";F.drawImage(h,0,Math.round(170*ia));A.globalCompositeOperation="source-over";A.drawImage(u,0,0);A.drawImage(m,
0,0);A.globalCompositeOperation="screen";A.drawImage(e,0,0);A.globalCompositeOperation="multiply";A.drawImage(b,0,0);x.globalAlpha=.88;x.drawImage(p,N,S);x.globalAlpha=1;x.drawImage(r,N,S);G=Math.round(G+J/2+2)}if(""!=I)for(x.fillStyle="black",H=I.split("\n"),J=0;J<H.length;J++)N=H[J],S=x.measureText(N).width,G+=28,x.fillText(N,z-S/2,G)}function c(){f.width=f.clientWidth;f.height=f.clientHeight;x.font="14pt sans-serif";E()}var f=document.createElement("canvas"),x=f.getContext("2d"),a=new Image,m=
new Image,r=new Image,t=new Image,b=new Image,e=new Image,h=new Image,n=[a,m,r,t,b,e,h],g=0,p,u,A,F,w=0,I="";v+="splash/";for(var O=0;O<n.length;O++)n[O].onload=function(){g++;g==n.length&&E()};a.src=v+"cup.png";e.src=v+"highlights.png";m.src=v+"lid.png";r.src=v+"lines.png";b.src=v+"shading.png";h.src=v+"smoothie.png";t.src=v+"text.png";l.on("loadingProgress",function(z,G){w=z;I=G;E()});l.on("loadingFailure",function(z){w=0;I=z;E()});l.on("loadingComplete",function(){window.removeEventListener("resize",
c);y.removeChild(f)});window.addEventListener("resize",c);f.className="chickenpaint-splash-screen";y.appendChild(f);c()};L.exports=C.default},{}],46:[function(k,L,C){function y(x){return x&&x.__esModule?x:{default:x}}function l(x){E.default.call(this,x,"stroke","Stroke");var a=this,m=[{className:"chickenpaint-tool-freehand",command:"CPFreeHand",toolTip:(0,f._)("Free-hand"),selected:!0},{className:"chickenpaint-tool-line",command:"CPLine",toolTip:(0,f._)("Straight line")},{className:"chickenpaint-tool-bezier",
command:"CPBezier",toolTip:(0,f._)("Bezier curve")}],r=a.getBodyElement();(function(){var t=document.createElement("ul");t.className="chickenpaint-stroke-tools list-unstyled";for(var b in m){var e=m[b],h=document.createElement("li"),n=document.createElement("div");h.className="chickenpaint-toolbar-button "+e.className;h.setAttribute("data-buttonIndex",b);h.setAttribute("title",e.toolTip);e.selected&&(h.className+=" selected");n.className="chickenpaint-toolbar-button-icon";h.appendChild(n);t.appendChild(h)}(0,v.default)(t).on("click",
"li",function(g){g=m[parseInt(this.getAttribute("data-buttonIndex"),10)];(0,v.default)("li",t).removeClass("selected");(0,v.default)(this).addClass("selected");x.actionPerformed({action:g.command});a.userIsDoneWithUs()});r.appendChild(t)})();x.on("toolChange",function(t,b){(0,v.default)(".chickenpaint-tool-freehand",r).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_FREEHAND);(0,v.default)(".chickenpaint-tool-line",r).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_LINE);(0,v.default)(".chickenpaint-tool-bezier",
r).toggleClass("selected",b.strokeMode==c.default.STROKE_MODE_BEZIER)})}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("./CPPalette.js")),c=y(k("../engine/CPBrushInfo.js")),f=k("../languages/lang");l.prototype=Object.create(E.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"../engine/CPBrushInfo.js":8,"../languages/lang":54,"./CPPalette.js":39,jquery:297}],47:[function(k,L,C){function y(m){return m&&m.__esModule?m:{default:m}}function l(m){function r(F){var w=
document.createElement("div"),I=document.createElement("a"),O=document.createElement("ul"),z=document.createElement("a"),G=document.createElement("a"),H=this;this.getElement=function(){return w};this.setColor=function(J){I.setAttribute("data-color",J);var N=I.style;for(J=""+Number(J).toString(16);6>J.length;)J="0"+J;N.backgroundColor="#"+J};this.setColor(F);I.href="#";I.className="chickenpaint-color-swatch dropdown-toggle";I.setAttribute("data-toggle","dropdown");z.className="dropdown-item";z.href=
"#";z.innerHTML=(0,a._)("Remove");z.addEventListener("click",function(J){J.preventDefault();(0,v.default)(w).remove();n=!0});G.className="dropdown-item";G.href="#";G.innerHTML=(0,a._)("Replace with current color");G.addEventListener("click",function(J){J.preventDefault();H.setColor(m.getCurColor().getRgb());n=!0});O.className="dropdown-menu";O.appendChild(z);O.appendChild(G);w.className="chickenpaint-color-swatch-wrapper";w.appendChild(I);w.appendChild(O);(0,v.default)(w).on("show.bs.dropdown",function(){var J=
(0,v.default)(this).find(".dropdown-toggle");(0,v.default)(this).find(".dropdown-menu").css({top:J.position().top+J.outerHeight(!0)+"px",left:J.position().left+"px"})})}function t(F){F=new r(F);g.appendChild(F.getElement())}function b(){u.onchange=function(){var F=this.files;if(!(1>F.length)){F=F[0];var w=new FileReader;w.onload=function(){var I=(new x.default).read(this.result);null!=I&&0<I.length?A.setSwatches(I):alert((0,a._)("The swatches could not be read, did you select an .aco file?"))};w.readAsArrayBuffer(F)}};
u.click()}function e(F){var w=document.createElement("span");w.className="fa fa-"+F;return w}c.default.call(this,m,"swatches","Color swatches");var h=[16777215,0,16711680,65280,255,16776960],n=!1,g=document.createElement("ul"),p=document.createElement("div"),u,A=this;this.getSwatches=function(){for(var F=(0,v.default)(".chickenpaint-color-swatch",g),w=Array(F.length),I=0;I<F.length;I++)w[I]=parseInt(F.get(I).getAttribute("data-color"),10);return w};this.setSwatches=function(F){for(;g.lastChild;)g.removeChild(g.lastChild);
for(var w=0;w<F.length;w++)t(F[w]);n=!0};this.isModified=function(){return n};(function(){g.className="chickenpaint-color-swatches list-unstyled";for(var F=0;F<h.length;F++)g.appendChild((new r(h[F])).getElement());g.addEventListener("click",function(w){var I=w.target;/chickenpaint-color-swatch/.test(I.className)&&0==w.button&&void 0!==I.getAttribute("data-color")&&(m.setCurColor(new f.default(parseInt(I.getAttribute("data-color"),10))),w.stopPropagation(),w.preventDefault(),A.userIsDoneWithUs())});
g.addEventListener("contextmenu",function(w){var I=w.target;/chickenpaint-color-swatch/.test(I.className)&&(w.preventDefault(),(0,v.default)(I).dropdown("toggle").off("click.bs.dropdown"),(0,v.default)(document).on("click",function G(z){"button"in z&&0!==z.button||((0,v.default)(I).closest(".chickenpaint-color-swatch-wrapper").hasClass("show")&&(0,v.default)(I).closest(".dropdown-toggle").dropdown("toggle"),(0,v.default)(this).off("click",G))}))})})();this.getBodyElement().appendChild(g);(function(){var F=
document.createElement("button"),w=document.createElement("button"),I=document.createElement("div"),O=document.createElement("a"),z=document.createElement("a");w.type="button";w.title=(0,a._)("Add the current brush color as a new swatch");w.className="btn chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";w.appendChild(e("plus"));F.type="button";F.className="btn dropdown-toggle chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";F.setAttribute("data-toggle","dropdown");
F.appendChild(e("cog"));O.className="dropdown-item";O.href="#";O.innerHTML=(0,a._)("Save swatches to your computer...");O.addEventListener("click",function(J){J.preventDefault();J=(new x.default).write(A.getSwatches());J=new Blob([J],{type:"application/octet-stream"});E.default.saveAs(J,"oekakiswatches.aco")});z.className="dropdown-item";z.href="#";z.innerHTML=(0,a._)("Load swatches from your computer...");z.addEventListener("click",function(J){J.preventDefault();b()});I.className="dropdown-menu";
I.appendChild(O);I.appendChild(z);var G=document.createElement("div");G.className="btn-group dropright";G.appendChild(F);G.appendChild(I);(0,v.default)(F).dropdown();var H=function S(N){"button"in N&&0!==N.button||((0,v.default)(G).hasClass("show")&&(0,v.default)(F).dropdown("toggle"),(0,v.default)(this).off("click",S))};(0,v.default)(G).on("show.bs.dropdown",function(){(0,v.default)(document).on("click",H)});w.addEventListener("click",function(N){t(m.getCurColor().getRgb());n=!0});p.className="chickenpaint-color-swatches-buttons";
window.File&&window.FileReader&&window.FileList&&window.Blob&&(u=document.createElement("input"),u.type="file",u.multiple=!1,u.style.display="none",p.appendChild(G),p.appendChild(u));p.appendChild(w)})();this.getBodyElement().appendChild(p)}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("file-saver")),c=y(k("./CPPalette.js")),f=y(k("../util/CPColor.js")),x=y(k("../util/AdobeColorTable.js")),a=k("../languages/lang");l.prototype=Object.create(c.default.prototype);
l.prototype.constructor=l;L.exports=C.default},{"../languages/lang":54,"../util/AdobeColorTable.js":55,"../util/CPColor.js":58,"./CPPalette.js":39,"file-saver":296,jquery:297}],48:[function(k,L,C){function y(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(C,"__esModule",{value:!0});C.default=function(E){var c=(0,l.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing tablet support</h5>\n                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                <span aria-hidden="true">&times;</span>\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-tablet-there-are-two-options">\n                                There are two ways you could use your tablet\'s pen pressure support with ChickenPaint.\n                            </p>\n                            <div class="chickenpaint-tablet-support chickenpaint-wacom-support">\n                                <h5>\n                                    Plugin for Wacom tablets\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE 10, 11\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-safari"></span>\n                                        Safari\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-opera"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-installed">\n                                    The plugin for Wacom tablets doesn\'t seem to be installed in your browser yet.\n                                </p>\n                                <p class="chickenpaint-not-installed">\n                                    Please make sure that you\'ve installed the latest drivers for your tablet from the \n                                    <a href="http://www.wacom.com/en-us/support/product-support/drivers" target="_blank">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class="chickenpaint-tablet-support chickenpaint-pointerevents-support">\n                                <h5>\n                                    Built-in support for most tablets.\n                                    <small>macOS, Windows 8 or newer</small>\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-internet-explorer"></span>\n                                        IE (Windows 8)\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-edge"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-firefox"></span>\n                                        Firefox (<a href="https://github.com/thenickdude/chickenpaint/blob/master/help/Firefox pressure support.md" target="_blank">help <i class="fa fa-external-link-alt"></i></a>)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="fab fa-chrome"></span>\n                                        Chrome\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       '),
f=(0,l.default)(".chickenpaint-wacom-support",c),x=(0,l.default)(".chickenpaint-pointerevents-support",c),a=(0,l.default)(".chickenpaint-tablet-there-are-two-options",c),m=v.default.getRef().isTabletPresent(),r=!!window.hasNativePointerEvents;f.toggleClass("supported",m);m?(x.hide(),a.hide()):((/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent))&&f.addClass("not-supported"),r&&(f.hide(),a.hide()));x.toggleClass("supported",
r);x.toggleClass("not-supported",!r);c.modal({show:!1});c.data("bs.modal").$body=(0,l.default)(E);E.appendChild(c[0]);this.show=function(){c.modal("show")}};var l=y(k("jquery")),v=y(k("../util/CPWacomTablet.js"));L.exports=C.default},{"../util/CPWacomTablet.js":66,jquery:297}],49:[function(k,L,C){function y(b){return b&&b.__esModule?b:{default:b}}function l(b,e){var h=document.createElement("div"),n=document.createElement("label");h.className="form-check";b.className="form-check-input";n.className=
"form-check-label";n.setAttribute("for",b.id);n.appendChild(b);n.appendChild(document.createTextNode(e));h.appendChild(b);h.appendChild(n);return h}function v(b,e,h,n,g){var p=new Image,u=[];p.onload=function(){var A=document.createElement("canvas"),F=A.getContext("2d",{willReadFrequently:!0});A.width=p.width;A.height=p.height;for(A=0;A<n;A++){F.drawImage(p,0,A*h,e,h,0,0,e,h);try{for(var w=F.getImageData(0,0,e,h),I=new x.default(e,h,8),O=0;O<e*h;O++)I.data[O]=w.data[4*O];u.push(I)}catch(z){console.log(z)}}g(u)};
p.src=b}function E(b){function e(S){for(var ia=0;ia<S.length;ia++){var da=new A(S[ia],32,32);da.on("click",function(){F=this.texture;u()});H.appendChild(da.getElement())}}function h(S){for(var ia=new x.default(S,S,8),da=1;da<S*S;da++)ia.data[da]=255;return ia}function n(S){for(var ia=2*S,da=new x.default(ia,ia,8),ta=0;ta<ia;ta++)for(var oa=0;oa<ia;oa++)da.data[ta+oa*ia]=0==(~~(ta/S)+~~(oa/S))%2?0:255;return da}function g(S,ia){for(var da=new x.default(ia,ia,8),ta=0;ta<ia*ia;ta++)~~(ta%ia)>=S&&(da.data[ta]=
255);return da}function p(S,ia){for(var da=new x.default(ia,ia,8),ta=0;ta<ia*ia;ta++)ta/ia>=S&&(da.data[ta]=255);return da}function u(){if(null!=F){w=F.clone();I&&w.mirrorHorizontally();var S=new a.default;S.loadBrightnessContrast(z,G);O&&S.invert();w.applyLUT(S)}else w=null;b.getArtwork().setBrushTexture(w);null!=N&&N.updateTexture()}function A(S,ia,da){var ta=document.createElement("canvas"),oa=ta.getContext("2d"),R=this;this.setTexture=function(pa){this.texture=pa;this.paint()};this.getElement=
function(){return ta};this.paint=function(){oa.fillStyle=null!=this.texture?oa.createPattern(this.texture.getAsCanvas(),"repeat"):"white";oa.fillRect(0,0,ta.width,ta.height)};ta.addEventListener("click",function(){R.emit("click")});ta.width=ia;ta.height=da;this.setTexture(S)}m.default.call(this,b,"textures","Textures");var F,w,I=!1,O=!1,z=0,G=0,H=document.createElement("div"),J=this.getBodyElement();A.prototype=Object.create(f.default.prototype);A.prototype.constructor=A;var N=new function(){function S(){da.checked=
O;ta.checked=I;oa.setValue(100*z+100);R.setValue(100*G+100)}var ia=document.createElement("div"),da=document.createElement("input"),ta=document.createElement("input"),oa=new r.default(0,200,!0),R=new r.default(0,200,!0),pa=new A(null,64,64),ja=document.createElement("button");this.updateTexture=function(){ja.disabled=null==w;pa.setTexture(w)};this.getElement=function(){return ia};ia.className="chickenpaint-texture-options";ia.appendChild(pa.getElement());ja.type="button";ja.className="btn btn-light btn-sm";
ja.innerHTML=(0,t._)("Customize");var za=function(){var ua=document.createElement("div");ua.className="chickenpaint-texture-controls";da.id="chickenpaint-chk-texture-invert";da.type="checkbox";da.addEventListener("click",function(Qa){O=this.checked;u()});ua.appendChild(l(da,(0,t._)("Inverse")));ta.id="chickenpaint-chk-texture-mirror";ta.type="checkbox";ta.addEventListener("click",function(Qa){I=this.checked;u()});ua.appendChild(l(ta,(0,t._)("Mirror")));oa.title=function(Qa){return(0,t._)("Brightness")+
": "+(Qa-100)+"%"};oa.on("valueChange",function(Qa){z=(Qa-100)/100;u()});ua.appendChild(oa.getElement());R.title=function(Qa){return(0,t._)("Contrast")+": "+(Qa-100)+"%"};R.on("valueChange",function(Qa){G=(Qa-100)/100;u()});ua.appendChild(R.getElement());var Ha=document.createElement("button"),ra=document.createElement("button");Ha.innerHTML="Ok";Ha.className="btn btn-primary btn-sm";Ha.type="button";Ha.addEventListener("click",function(Qa){(0,c.default)(ja).popover("hide")});ua.appendChild(Ha);ua.appendChild(document.createTextNode(" "));
ra.innerHTML="Reset";ra.className="btn btn-secondary btn-sm";ra.type="button";ra.addEventListener("click",function(Qa){G=z=0;O=I=!1;S();u()});ua.appendChild(ra);S();return ua}();(0,c.default)(ja).popover({html:!0,content:function(){return za},trigger:"manual",container:J}).on("click",function(){(0,c.default)(this).popover("toggle")});ia.appendChild(ja);this.updateTexture()};J.appendChild(N.getElement());H.className="chickenpaint-texture-swatches";J.appendChild(H);e(function(){var S=[null],ia=new x.default(2,
2,8);ia.data[0]=255;ia.data[3]=255;S.push(ia);S.push(h(2));S.push(h(3));S.push(h(4));S.push(h(6));S.push(h(8));S.push(g(1,2));S.push(g(2,4));S.push(p(1,2));S.push(p(2,4));S.push(n(2));S.push(n(4));S.push(n(8));S.push(n(16));return S}());v(b.getResourcesRoot()+"gfx/textures32.png",32,32,2,function(S){e(S)})}Object.defineProperty(C,"__esModule",{value:!0});C.default=E;var c=y(k("jquery")),f=y(k("wolfy87-eventemitter")),x=y(k("../engine/CPGreyBmp.js")),a=y(k("../engine/CPLookUpTable.js")),m=y(k("./CPPalette.js")),
r=y(k("./CPSlider.js")),t=k("../languages/lang");E.prototype=Object.create(m.default.prototype);E.prototype.constructor=E;L.exports=C.default},{"../engine/CPGreyBmp.js":14,"../engine/CPLookUpTable.js":18,"../languages/lang":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:297,"wolfy87-eventemitter":316}],50:[function(k,L,C){function y(a){return a&&a.__esModule?a:{default:a}}function l(a){function m(e){"LI"==this.nodeName&&(e=t[parseInt(this.getAttribute("data-buttonIndex"),10)],a.actionPerformed({action:e.command}),
r.userIsDoneWithUs())}c.default.call(this,a,"tool","Tools");var r=this,t=[{className:"chickenpaint-tool-rect-selection",command:"CPRectSelection",toolTip:"Marquee",shortcut:"m",mode:f.default.M_RECT_SELECTION},{className:"chickenpaint-tool-move",command:"CPMoveTool",toolTip:"Move tool",shortcut:"v",mode:f.default.M_MOVE_TOOL},{className:"chickenpaint-tool-flood-fill",command:"CPFloodFill",toolTip:"Flood fill",shortcut:"f",mode:f.default.M_FLOODFILL},{className:"chickenpaint-tool-gradient-fill",command:"CPGradientFill",
toolTip:"Gradient fill",shortcut:"g",mode:f.default.M_GRADIENTFILL},{className:"chickenpaint-tool-color-picker",command:"CPColorPicker",toolTip:"Color picker",shortcut:"i",mode:f.default.M_COLOR_PICKER},{className:"chickenpaint-tool-blur",command:"CPBlur",toolTip:"Blur",mode:f.default.M_DRAW,tool:f.default.T_BLUR},{className:"chickenpaint-tool-pencil",command:"CPPencil",toolTip:"Pencil",shortcut:"n",mode:f.default.M_DRAW,tool:f.default.T_PENCIL},{className:"chickenpaint-tool-pen",command:"CPPen",
toolTip:"Pen",selected:!0,shortcut:"b",mode:f.default.M_DRAW,tool:f.default.T_PEN},{className:"chickenpaint-tool-airbrush",command:"CPAirbrush",toolTip:"Airbrush",mode:f.default.M_DRAW,tool:f.default.T_AIRBRUSH},{className:"chickenpaint-tool-water",command:"CPWater",toolTip:"Waterpaint",mode:f.default.M_DRAW,tool:f.default.T_WATER},{className:"chickenpaint-tool-eraser",command:"CPEraser",toolTip:"Eraser",shortcut:"e",mode:f.default.M_DRAW,tool:f.default.T_ERASER},{className:"chickenpaint-tool-soft-eraser",
command:"CPSoftEraser",toolTip:"Soft eraser",mode:f.default.M_DRAW,tool:f.default.T_SOFTERASER},{className:"chickenpaint-tool-smudge",command:"CPSmudge",toolTip:"Smudge",mode:f.default.M_DRAW,tool:f.default.T_SMUDGE},{className:"chickenpaint-tool-blender",command:"CPBlender",toolTip:"Blender",mode:f.default.M_DRAW,tool:f.default.T_BLENDER},{className:"chickenpaint-tool-dodge",command:"CPDodge",toolTip:"Dodge (tool)",shortcut:"o",mode:f.default.M_DRAW,tool:f.default.T_DODGE},{className:"chickenpaint-tool-burn",
command:"CPBurn",toolTip:"Burn (tool)",shortcut:"p",mode:f.default.M_DRAW,tool:f.default.T_BURN},{className:"chickenpaint-tool-rotate-canvas",command:"CPRotateCanvas",commandDoubleClick:"CPResetCanvasRotation",toolTip:"Rotate canvas",mode:f.default.M_ROTATE_CANVAS},{className:"chickenpaint-tool-pan-canvas",command:"CPPanCanvas",toolTip:"Grab canvas",mode:f.default.M_PAN_CANVAS}],b=document.createElement("ul");a.on("modeChange",function(e){var h=r.getBodyElement();(0,v.default)("li",h).removeClass("selected");
e==f.default.M_DRAW?(0,v.default)("li[data-tool="+a.getCurTool()+"]",h).addClass("selected"):(0,v.default)("li[data-mode="+e+"]",h).addClass("selected")});a.on("toolChange",function(e){var h=r.getBodyElement();a.getCurMode()==f.default.M_DRAW&&((0,v.default)("li",h).removeClass("selected"),(0,v.default)("li[data-tool="+e+"]",h).addClass("selected"))});(function(){var e=r.getBodyElement();b.className="chickenpaint-tools list-unstyled";for(var h in t)(function(n){var g=t[n],p=document.createElement("li"),
u=document.createElement("div");p.className="chickenpaint-toolbar-button "+g.className;p.setAttribute("data-buttonIndex",n);p.setAttribute("data-mode",g.mode);void 0!==g.tool&&p.setAttribute("data-tool",g.tool);p.title=(0,x._)(g.toolTip);g.shortcut&&(p.title+=" ("+g.shortcut.toUpperCase()+")",(0,E.default)(g.shortcut,function(){m.call(p);return!1}));g.selected&&(p.className+=" selected");u.className="chickenpaint-toolbar-button-icon";p.appendChild(u);b.appendChild(p)})(h);(0,v.default)(b).on("click",
"li",m).on("dblclick","li",function(n){n=t[parseInt(this.getAttribute("data-buttonIndex"),10)];n.commandDoubleClick&&a.actionPerformed({action:n.commandDoubleClick})});e.appendChild(b)})()}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;var v=y(k("jquery")),E=y(k("../../lib/keymaster.js")),c=y(k("./CPPalette.js")),f=y(k("../ChickenPaint.js")),x=k("../languages/lang");l.prototype=Object.create(c.default.prototype);l.prototype.constructor=l;L.exports=C.default},{"../../lib/keymaster.js":68,
"../ChickenPaint.js":1,"../languages/lang":54,"./CPPalette.js":39,jquery:297}],51:[function(k,L,C){function y(b){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(b)}function l(b,e){for(var h=0;h<e.length;h++){var n=e[h];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(b,
r(n.key),n)}}function v(b,e,h){e&&l(b.prototype,e);h&&l(b,h);Object.defineProperty(b,"prototype",{writable:!1});return b}function E(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});e&&c(b,e)}function c(b,e){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,n){h.__proto__=n;return h};
return c(b,e)}function f(b){var e=a();return function(){var h=m(b);if(e){var n=m(this).constructor;h=Reflect.construct(h,arguments,n)}else h=h.apply(this,arguments);if(!h||"object"!==y(h)&&"function"!==typeof h){if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");h=x(this)}return h}}function x(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function a(){if("undefined"===typeof Reflect||!Reflect.construct||
Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}function m(b){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(b)}function r(b){a:if("object"===y(b)&&null!==b){var e=b[Symbol.toPrimitive];if(void 0!==e){b=e.call(b,"string");if("object"!==y(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}b=String(b)}return"symbol"===y(b)?b:String(b)}Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;k=function(b){return b&&b.__esModule?b:{default:b}}(k("wolfy87-eventemitter"));var t={toolbarStyle:"new"};C.default=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var n=h.call(this);var g=x(n);var p=r("toolbarStyle");p in g?Object.defineProperty(g,p,{value:void 0,enumerable:!0,configurable:!0,writable:!0}):g[p]=void 0;n.setDefaults();
return n}E(e,b);var h=f(e);v(e,[{key:"setDefaults",value:function(){for(var n in t)t.hasOwnProperty(n)&&this.set(n,t[n])}},{key:"load",value:function(){var n={};try{n=JSON.parse(localStorage.getItem("chickenpaint-prefs"))}catch(p){console.error(p)}n&&"object"===y(n)||(n={});for(var g in t)if(t.hasOwnProperty(g))try{this.set(g,n.hasOwnProperty(g)?n[g]:t[g])}catch(p){console.error(p)}}},{key:"save",value:function(){try{var n=!1,g;for(g in t)if(t.hasOwnProperty(g)&&this[g]!=t[g]){n=!0;break}n?localStorage.setItem("chickenpaint-prefs",
JSON.stringify({toolbarStyle:this.toolbarStyle})):localStorage.removeItem("chickenpaint-prefs")}catch(p){console.error(p)}}},{key:"set",value:function(n,g){this[n]=g;this.emitEvent(n,[g])}},{key:"get",value:function(n){return this[n]}}]);return e}(k.default);L.exports=C.default},{"wolfy87-eventemitter":316}],52:[function(k,L,C){L.exports={"Dodge (tool)":"Dodge","Burn (tool)":"Burn","Color (picker)":"Color","Color swatches (shorter)":"Swatches"}},{}],53:[function(k,L,C){L.exports={File:"\u30d5\u30a1\u30a4\u30eb",
"Save to my computer":"PC\u306b\u4fdd\u5b58","Post Oekaki":"\u304a\u7d75\u304b\u304d\u3092\u6295\u7a3f",Edit:"\u7de8\u96c6",Undo:"\u53d6\u308a\u6d88\u3057",Redo:"\u3084\u308a\u76f4\u3057",Cut:"\u5207\u308a\u53d6\u308a",Copy:"\u30b3\u30d4\u30fc","Clear history":"\u5c65\u6b74\u524a\u9664","Copy merged":"\u7d50\u5408\u30b3\u30d4\u30fc",Paste:"\u8cbc\u308a\u4ed8\u3051","Select all":"\u3059\u3079\u3066\u9078\u629e",Deselect:"\u9078\u629e\u89e3\u9664",Transform:"\u5909\u5f62",Layers:"\u30ec\u30a4\u30e4\u30fc",
Duplicate:"\u8907\u88fd","Merge down":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3068\u7d50\u5408","Merge group":"\u30b0\u30eb\u30fc\u30d7\u7d50\u5408","Merge all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u7d50\u5408","Add layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0","Delete mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Delete layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Apply mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528",
"Apply layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Disable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u7121\u52b9\u5316","Enable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u6709\u52b9\u5316","Clip to the layer below":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u30af\u30ea\u30c3\u30d4\u30f3\u30b0","Unclip from the layer below":"\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u89e3\u9664",Effects:"\u52b9\u679c",Clear:"\u6d88\u53bb",Fill:"\u5857\u308a\u6f70\u3057","Flip horizontal":"\u5de6\u53f3\u53cd\u8ee2",
"Flip vertical":"\u4e0a\u4e0b\u53cd\u8ee2",Invert:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Box blur...":"\u307c\u304b\u3057","Blur amount (pixels)":"\u307c\u304b\u3057\u91cf(\u30d4\u30af\u30bb\u30eb\u5358\u4f4d)","Iterations (1-8, larger gives smoother blur)":"\u53cd\u5fa9(1-8,\u5927\u304d\u3044\u307b\u3069\u307c\u304b\u3057\u304c\u6ed1\u3089\u304b)","Monochromatic noise":"\u5358\u8272\u30ce\u30a4\u30ba","Color noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba",View:"\u8868\u793a","Full-screen mode":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u30e2\u30fc\u30c9",
"Zoom in":"\u62e1\u5927","Zoom out":"\u7e2e\u5c0f","Zoom 100%":"100%","Smooth-out zoomed canvas":"\u30ba\u30fc\u30e0\u3092\u306a\u3081\u3089\u304b\u306b\u8868\u793a\u3059\u308b","Show grid":"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a","Grid options...":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",Palettes:"\u30d1\u30ec\u30c3\u30c8",Rearrange:"\u521d\u671f\u5316","Toggle palettes":"\u8868\u793a\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Use old icons":"\u53e4\u3044\u30a2\u30a4\u30b3\u30f3","Show tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3",
"Show color":"\u30ab\u30e9\u30fc","Show layers":"\u30ec\u30a4\u30e4\u30fc","Show misc":"\u64cd\u4f5c","Show stroke":"\u30b9\u30c8\u30ed\u30fc\u30af","Show swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Show textures":"\u30c6\u30af\u30b9\u30c1\u30e3","Show tools":"\u30c4\u30fc\u30eb",Help:"\u30d8\u30eb\u30d7","Tablet support":"\u30bf\u30d6\u30ec\u30c3\u30c8\u30b5\u30dd\u30fc\u30c8",Shortcuts:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8",About:"ChickenPaint\u306b\u3064\u3044\u3066",Misc:"\u64cd\u4f5c",
"Round Pixelated":"\u5186\u30d4\u30af\u30bb\u30eb","Round Hard Edge":"\u5186\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Round Soft":"\u5186\u30bd\u30d5\u30c8","Square Pixelated":"\u89d2\u30d4\u30af\u30bb\u30eb","Square Hard Edge":"\u89d2\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Color (picker)":"\u30ab\u30e9\u30fc","Tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba",Opacity:"\u4e0d\u900f\u660e\u5ea6",Color:"\u8272\u88dc\u5145",Blend:"\u6df7\u8272",
Spacing:"\u9593\u9694",Scattering:"\u6563\u4e71",Smoothing:"\u624b\u3076\u308c\u88dc\u6b63","Color swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Color swatches (shorter)":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8",Remove:"\u524a\u9664","Replace with current color":"\u9078\u629e\u4e2d\u306e\u8272\u306b\u7f6e\u304d\u63db\u3048","Save swatches to your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u306b\u4fdd\u5b58","Load swatches from your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u304b\u3089\u8aad\u307f\u8fbc\u307f",
"Add the current brush color as a new swatch":"\u9078\u629e\u4e2d\u306e\u8272\u3092\u8ffd\u52a0","Sample all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u53c2\u7167","Lock transparency":"\u900f\u660e\u90e8\u5206\u3092\u4fdd\u8b77",Textures:"\u30c6\u30af\u30b9\u30c1\u30e3",Customize:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",Inverse:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",Mirror:"\u5de6\u53f3\u53cd\u8ee2",Brightness:"\u8f1d\u5ea6",Contrast:"\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8",Reset:"\u30ea\u30bb\u30c3\u30c8",
"Blending mode":"\u5408\u6210\u30e2\u30fc\u30c9",Normal:"\u901a\u5e38",Multiply:"\u4e57\u7b97",Add:"\u52a0\u7b97",Screen:"\u30b9\u30af\u30ea\u30fc\u30f3",Lighten:"\u6bd4\u8f03(\u660e)",Darken:"\u6bd4\u8f03(\u6697)",Subtract:"\u6e1b\u7b97",Dodge:"\u8986\u3044\u713c\u304d",Burn:"\u713c\u304d\u8fbc\u307f",Overlay:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4","Hard Light":"\u30cf\u30fc\u30c9\u30e9\u30a4\u30c8","Soft Light":"\u30bd\u30d5\u30c8\u30e9\u30a4\u30c8","Vivid Light":"\u30d3\u30d3\u30c3\u30c9\u30e9\u30a4\u30c8",
"Linear Light":"\u30ea\u30cb\u30a2\u30e9\u30a4\u30c8","Pin Light":"\u30d4\u30f3\u30e9\u30a4\u30c8",Passthrough:"\u901a\u904e",Stroke:"\u30b9\u30c8\u30ed\u30fc\u30af","Free-hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","Straight line":"\u76f4\u7dda","Bezier curve":"Bz\uff08\u30d9\u30b8\u30a7\uff09\u66f2\u7dda",Tools:"\u30c4\u30fc\u30eb",Marquee:"\u9078\u629e\u7bc4\u56f2","Move tool":"\u79fb\u52d5","Flood fill":"\u5857\u308a\u6f70\u3057","Gradient fill":"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3","Color picker":"\u30b9\u30dd\u30a4\u30c8",
"Rotate canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2","Grab canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u4f4d\u7f6e",Pencil:"\u925b\u7b46",Pen:"\u30da\u30f3",Airbrush:"\u30a8\u30a2\u30d6\u30e9\u30b7",Waterpaint:"\u6c34\u5f69",Eraser:"\u6d88\u3057\u30b4\u30e0","Soft eraser":"\u8584\u6d88\u3057",Smudge:"\u6307\u5148",Blender:"\u6df7\u8272","Dodge (tool)":"\u8986\u3044\u713c\u304d","Burn (tool)":"\u713c\u304d\u8fbc\u307f",Blur:"\u307c\u304b\u3057","Grid options":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",
"Grid size":"\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba","Rename...":"\u540d\u524d\u3092\u5909\u66f4","Add layer":"\u65b0\u898f\u30ec\u30a4\u30e4\u30fc","Delete layer":"\u30ec\u30a4\u30e4\u30fc\u524a\u9664","Add group":"\u65b0\u898f\u30b0\u30eb\u30fc\u30d7","Delete group":"\u30b0\u30eb\u30fc\u30d7\u524a\u9664","Add mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",Gradient:"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210","Please enter a color in hex format":"16\u9032\u5f62\u5f0f\u3067\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff08#xxxxxx\u306e\u5f62\uff09",
Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",Ok:"OK",Okay:"OK",OK:"OK","Are you sure you want to send your drawing to the server and finish drawing now?":"\u304a\u7d75\u304b\u304d\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","Your drawing has unsaved changes! Are you sure to want to navigate away?":"\u304a\u7d75\u304b\u304d\u306b\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",
"Save Oekaki":"\u4fdd\u5b58","Saving drawing...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u4e2d\u2026","Preparing your drawing to be saved, please wait...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3059\u308b\u6e96\u5099\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u2026","Drawing saved!":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01","Your drawing has been saved, would you like to post it to the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f",
"Yes, post it now":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059","No, keep drawing":"\u307e\u3060\u63cf\u304d\u307e\u3059","No, quit and I'll finish it later":"\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u7d9a\u304d\u3092\u5f8c\u3067\u63cf\u304f","Your drawing has been saved, would you like to view it on the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, view the post":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002",
"Your drawing has been saved, redirecting you to view your new post now...":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u6295\u7a3f\u5148\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002","Sorry, your drawing could not be saved, please try again later.":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u518d\u5ea6\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002"}},{}],54:[function(k,L,C){function y(b){"@babel/helpers - typeof";
return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(b)}function l(b){if("function"!=typeof WeakMap)return null;var e=new WeakMap,h=new WeakMap;return(l=function(n){return n?h:e})(b)}function v(b,e){if(!e&&b&&b.__esModule)return b;if(null===b||"object"!=y(b)&&"function"!=typeof b)return{default:b};if((e=l(e))&&e.has(b))return e.get(b);var h=
{__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in b)if("default"!==g&&Object.prototype.hasOwnProperty.call(b,g)){var p=n?Object.getOwnPropertyDescriptor(b,g):null;p&&(p.get||p.set)?Object.defineProperty(h,g,p):h[g]=b[g]}return h.default=b,e&&e.set(b,h),h}function E(b,e){var h="undefined"!==typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(!h){if(Array.isArray(b)||(h=c(b))||e&&b&&"number"===typeof b.length){h&&(b=h);var n=0;e=function(){};return{s:e,n:function(){return n>=
b.length?{done:!0}:{done:!1,value:b[n++]}},e:function(A){throw A;},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var g=!0,p=!1,u;return{s:function(){h=h.call(b)},n:function(){var A=h.next();g=A.done;return A},e:function(A){p=!0;u=A},f:function(){try{g||null==h.return||h.return()}finally{if(p)throw u;}}}}function c(b,e){if(b){if("string"===typeof b)return f(b,e);var h=Object.prototype.toString.call(b).slice(8,
-1);"Object"===h&&b.constructor&&(h=b.constructor.name);if("Map"===h||"Set"===h)return Array.from(b);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return f(b,e)}}function f(b,e){if(null==e||e>b.length)e=b.length;for(var h=0,n=Array(e);h<e;h++)n[h]=b[h];return n}function x(b){b=b.replace(/[-_].+$/,"").toLowerCase();b in m?(r=m[b],t=b):(r=a,t="en")}Object.defineProperty(C,"__esModule",{value:!0});C._=function(b){return b in r?r[b]:b};C.currentLanguage=function(){return t};C.guessLanguage=
function(){try{if("undefined"!==typeof navigator){var b=navigator.languages;Array.isArray(b)||(b=[b]);var e=E(b),h;try{for(e.s();!(h=e.n()).done;){var n=h.value,g=/^(..)([-_].+)?$/.exec(n);if(g){g[1]=g[1].toLowerCase();if(g[1]in m){x(n);break}if("en"===g[1]){x("en");break}}}}catch(p){e.e(p)}finally{e.f()}}}catch(p){console.error(p)}};C.setLanguage=x;var a=v(k("./en.json")),m={ja:v(k("./ja.json")),en:a},r=a,t="en"},{"./en.json":52,"./ja.json":53}],55:[function(k,L,C){function y(){}Object.defineProperty(C,
"__esModule",{value:!0});C.default=y;var l=function(v){return v&&v.__esModule?v:{default:v}}(k("./ArrayDataStream.js"));y.prototype.read=function(v){if(null==v)return null;v=new l.default(new Uint8Array(v));var E=[];if(1!=v.readU16BE())return null;var c=v.readU16BE();for(var f=0;f<c;f++)if(0==v.readU16BE()){var x=255*v.readU16BE()/65535,a=255*v.readU16BE()/65535,m=255*v.readU16BE()/65535;v.readU16BE();E.push(x<<16|a<<8|m)}return E};y.prototype.write=function(v){var E=new Uint8Array(4+10*v.length);
E=new l.default(E);E.writeU16BE(1);E.writeU16BE(v.length);for(var c=0;c<v.length;c++){var f=v[c];E.writeU16BE(0);E.writeU16BE(257*(f>>16&255));E.writeU16BE(257*(f>>8&255));E.writeU16BE(257*(f&255));E.writeU16BE(0)}return E.getAsDataArray()};L.exports=C.default},{"./ArrayDataStream.js":56}],56:[function(k,L,C){function y(l,v,E){this.data=l;this.eof=!1;this.start=void 0===v?0:v;this.end=void 0===E?l.length:E;this.pos=this.start}Object.defineProperty(C,"__esModule",{value:!0});C.default=y;y.prototype.readChar=
function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos++]);this.eof=!0;return-1};y.prototype.readByte=function(){if(this.pos<this.end)return this.data[this.pos++];this.eof=!0;return-1};y.prototype.readU8=y.prototype.readByte;y.prototype.readS8=function(){var l=this.readByte();return l&128?l|4294967040:l};y.prototype.unreadChar=function(l){this.pos--};y.prototype.peekChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos]);this.eof=!0;return-1};y.prototype.readString=
function(l){var v=Array(l),E;for(E=0;E<l;E++)v[E]=this.readChar();return v.join("")};y.prototype.readS16=function(){var l=this.readByte(),v=this.readByte();l=l<<8|v;return l&32768?l|4294901760:l};y.prototype.readU16BE=function(){var l=this.readByte(),v=this.readByte();return l<<8|v};y.prototype.readU16LE=function(){var l=this.readByte();return this.readByte()<<8|l};y.prototype.readU32BE=function(){var l=this.readByte(),v=this.readByte(),E=this.readByte(),c=this.readByte();return(l<<24|v<<16|E<<8|
c)>>>0};y.prototype.readU32LE=function(){var l=this.readByte(),v=this.readByte(),E=this.readByte();return(this.readByte()<<24|E<<16|v<<8|l)>>>0};y.prototype.readBytes=function(l){var v=this.data.subarray(this.pos,this.pos+l);this.pos+=l;this.pos>this.end&&(this.eof=!0);return v};y.prototype.skip=function(l){this.pos+=l;this.pos>this.end&&(this.eof=!0)};y.prototype.seek=function(l){this.pos=l};y.prototype.writeBytes=function(l){for(var v=0;v<l.length;v++)this.data[this.pos++]=l[v]};y.prototype.writeByte=
function(l){this.data[this.pos++]=l};y.prototype.writeU8=y.prototype.writeByte;y.prototype.writeU16LE=function(l){this.data[this.pos++]=l;this.data[this.pos++]=l>>8};y.prototype.writeU16BE=function(l){this.data[this.pos++]=l>>8;this.data[this.pos++]=l};y.prototype.writeU32BE=function(l){this.data[this.pos++]=l>>24;this.data[this.pos++]=l>>16;this.data[this.pos++]=l>>8;this.data[this.pos++]=l};y.prototype.writeU32LE=function(l){this.data[this.pos++]=l;this.data[this.pos++]=l>>8;this.data[this.pos++]=
l>>16;this.data[this.pos++]=l>>24};y.prototype.writeDoubleBE=function(l){l=new Uint8Array((new Float64Array([l])).buffer);for(var v=l.length-1;0<=v;v--)this.writeByte(l[v])};y.prototype.writeFloatBE=function(l){l=new Uint8Array((new Float32Array([l])).buffer);for(var v=l.length-1;0<=v;v--)this.writeByte(l[v])};y.prototype.writeString=function(l){for(var v=0;v<l.length;v++)this.data[this.pos++]=l.charCodeAt(v)};y.prototype.writeUnsignedIntBE=function(l,v){void 0===v&&(v=this.measureUnsignedInt(l));
switch(v){case 5:this.writeU8(Math.floor(l/4294967296));case 4:this.writeU8(l>>24);case 3:this.writeU8(l>>16);case 2:this.writeU8(l>>8);case 1:this.writeU8(l);break;default:throw"Bad UINT size "+v;}};y.prototype.measureUnsignedInt=function(l){return 256>l?1:65536>l?2:16777216>l?3:4294967296>l?4:5};y.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayDataStream's pos lies beyond end of buffer";
};y.prototype.EOF=-1;L.exports=C.default},{}],57:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){var y=this;this.x0=this.y0=this.x1=this.y1=this.x2=this.y2=this.x3=this.y3=0;var l,v,E,c,f,x,a,m;this.compute=function(r,t,b){var e=1/b,h=3*e,n=h*e;e*=e*e;var g=2*n,p=6*e,u=y.x0-2*y.x1+y.x2,A=y.y0-2*y.y1+y.y2,F=3*(y.x1-y.x2)-y.x0+y.x3,w=3*(y.y1-y.y2)-y.y0+y.y3;l=y.x0;f=y.y0;v=(y.x1-y.x0)*h+u*n+F*e;x=(y.y1-y.y0)*h+A*n+w*e;E=u*g+F*p;a=A*g+w*p;c=F*p;m=w*p;r[0]=l;t[0]=
f;for(h=1;h<b;h++)l+=v,f+=x,v+=E,x+=a,E+=c,a+=m,r[h]=l,t[h]=f}};L.exports=C.default},{}],58:[function(k,L,C){function y(v){if(0==v.saturation)return v.value<<16|v.value<<8|v.value;var E=v.hue/60;E-=Math.floor(E);var c=v.saturation/255,f=~~(v.value*(1-c)),x=~~(v.value*(1-c*E));E=~~(v.value*(1-c*(1-E)));switch(~~(v.hue/60)){case 0:return v.value<<16|E<<8|f;case 1:return x<<16|v.value<<8|f;case 2:return f<<16|v.value<<8|E;case 3:return f<<16|x<<8|v.value;case 4:return E<<16|f<<8|v.value;case 5:return v.value<<
16|f<<8|x;default:return 0}}function l(v){this.value=this.saturation=this.hue=this.rgb=0;this.setRgb(v||0)}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;l.prototype.getRgb=function(){return this.rgb};l.prototype.getSaturation=function(){return this.saturation};l.prototype.getHue=function(){return this.hue};l.prototype.getValue=function(){return this.value};l.prototype.setRgbComponents=function(v,E,c){this.setRgb(v<<16|E<<8|c)};l.prototype.setRgb=function(v){this.rgb=v;var E=v>>16&255,
c=v>>8&255;v&=255;this.value=Math.max(E,Math.max(c,v));var f=Math.min(E,Math.min(c,v));this.saturation=0==this.value?0:~~((this.value-f)/this.value*255);if(0==this.saturation)this.hue=0;else{var x=(this.value-E)/(this.value-f),a=(this.value-c)/(this.value-f);f=(this.value-v)/(this.value-f);var m=0;this.value==E&&(m=f-a);this.value==c&&(m=2+x-f);this.value==v&&(m=4+a-x);m*=60;0>m&&(m+=360);this.hue=~~m}};l.prototype.setHsv=function(v,E,c){this.hue=v;this.saturation=E;this.value=c;this.rgb=y(this)};
l.prototype.setHue=function(v){this.hue=v;this.rgb=y(this)};l.prototype.setSaturation=function(v){this.saturation=v;this.rgb=y(this)};l.prototype.setValue=function(v){this.value=v;this.rgb=y(this)};l.prototype.setGreyscale=function(v){this.rgb=l.greyToRGB(v);this.saturation=this.hue=0;this.value=v};l.prototype.clone=function(){var v=new l(0);v.copyFrom(this);return v};l.prototype.copyFrom=function(v){this.rgb=v.rgb;this.hue=v.hue;this.saturation=v.saturation;this.value=v.value};l.prototype.isEqual=
function(v){return this.rgb==v.rgb&&this.hue==v.hue&&this.saturation==v.saturation&&this.value==v.value};l.greyToRGB=function(v){return v|v<<8|v<<16};L.exports=C.default},{}],59:[function(k,L,C){function y(l,v,E){this.r=l;this.g=v;this.b=E}Object.defineProperty(C,"__esModule",{value:!0});C.default=y;y.prototype.toInt=function(){return Math.max(0,Math.min(255,Math.round(255*this.r)))<<16|Math.max(0,Math.min(255,Math.round(255*this.g)))<<8|Math.max(0,Math.min(255,Math.round(255*this.b)))};y.prototype.mixWith=
function(l,v){this.r=this.r*(1-v)+l.r*v;this.g=this.g*(1-v)+l.g*v;this.b=this.b*(1-v)+l.b*v};y.prototype.clone=function(){return new y(this.r,this.g,this.b)};y.createFromInt=function(l){return new y((l>>>16&255)/255,(l>>>8&255)/255,(l&255)/255)};L.exports=C.default},{}],60:[function(k,L,C){function y(v){for(var E=["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"],c=0;c<E.length;c++)if(E[c]in v)return E[c];return null}Object.defineProperty(C,
"__esModule",{value:!0});C.isCanvasInterpolationSupported=function(){var v=(0,l.createCanvas)(0,0).getContext("2d");return!!y(v)};C.isCanvasSupported=function(){var v=(0,l.createCanvas)(0,0);return!(!v.getContext||!v.getContext("2d"))};C.isEventSupported=function(v){var E=v in window;E||(E=document.createElement("div"),E.setAttribute(v,"return;"),E="function"==typeof E[v]);return E};C.isFlexboxSupported=function(){return("string"==typeof document.body.style.flexBasis||"string"==typeof document.body.style.msFlexDirection)&&
!/Presto/.test(navigator.userAgent)};C.setCanvasInterpolation=function(v,E){var c=y(v);c&&(v[c]=E)};var l=k("./Canvas.js")},{"./Canvas.js":2}],61:[function(k,L,C){function y(l){this.points=l||[]}Object.defineProperty(C,"__esModule",{value:!0});C.default=y;(function(l){return l&&l.__esModule?l:{default:l}})(k("./CPTransform.js"));y.prototype.clone=function(){for(var l=new y(Array(this.points.length)),v=0;v<this.points.length;v++)l.points[v]={x:this.points[v].x,y:this.points[v].y};return l};y.prototype.getTransformed=
function(l){for(var v=new y(Array(this.points.length)),E=0;E<this.points.length;E++)v.points[E]=l.getTransformedPoint(this.points[E]);return v};y.prototype.getCenter=function(){for(var l=this.points[0].x,v=this.points[0].y,E=1;E<this.points.length;E++)l+=this.points[E].x,v+=this.points[E].y;return{x:l/this.points.length,y:v/this.points.length}};y.prototype.containsPoint=function(l){var v,E=!1;var c=0;for(v=this.points.length-1;c<this.points.length;v=c++)this.points[c].y>l.y!=this.points[v].y>l.y&&
l.x<(this.points[v].x-this.points[c].x)*(l.y-this.points[c].y)/(this.points[v].y-this.points[c].y)+this.points[c].x&&(E=!E);return E};L.exports=C.default},{"./CPTransform.js":64}],62:[function(k,L,C){Object.defineProperty(C,"__esModule",{value:!0});C.default=function(){var y,l=!1;this.nextGaussian=function(){if(l)return l=!1,y;do{var v=2*Math.random()-1;var E=2*Math.random()-1;var c=v*v+E*E}while(1<=c||0==c);c=Math.sqrt(-2*Math.log(c)/c);y=E*c;l=!0;return v*c}};L.exports=C.default},{}],63:[function(k,
L,C){function y(v){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},y(v)}function l(v,E,c,f){this.left=v;this.top=E;this.right=c;this.bottom=f}Object.defineProperty(C,"__esModule",{value:!0});C.default=l;l.prototype.makeEmpty=function(){this.bottom=this.right=this.top=this.left=0};l.prototype.union=function(v){this.isEmpty()?
this.set(v):v.isEmpty()||(this.left=Math.min(this.left,v.left),this.top=Math.min(this.top,v.top),this.right=Math.max(this.right,v.right),this.bottom=Math.max(this.bottom,v.bottom))};l.prototype.getUnion=function(v){var E=this.clone();E.union(v);return E};l.prototype.getIntersection=function(v){return new l(Math.max(this.left,v.left),Math.max(this.top,v.top),Math.min(this.right,v.right),Math.min(this.bottom,v.bottom))};l.prototype.clipTo=function(v){this.isEmpty()||(v.isEmpty()?this.makeEmpty():(this.left=
Math.min(Math.max(this.left,v.left),v.right),this.top=Math.min(Math.max(this.top,v.top),v.bottom),this.right=Math.max(Math.min(this.right,v.right),v.left),this.bottom=Math.max(Math.min(this.bottom,v.bottom),v.top)));return this};l.prototype.containsPoint=function(v){return!(v.x<this.left||v.y<this.top||v.x>=this.right||v.y>=this.bottom)};l.prototype.isInside=function(v){return this.left>=v.left&&this.top>=v.top&&this.right<=v.right&&this.bottom<=v.bottom};l.prototype.clipSourceDest=function(v,E){E.right=
E.left+v.getWidth();E.bottom=E.top+v.getHeight();this.isEmpty()||E.left>=this.right||E.top>=this.bottom||E.right<=this.left||E.bottom<=this.top?(v.makeEmpty(),E.makeEmpty()):(E.right>this.right&&(v.right-=E.right-this.right,E.right=this.right),E.bottom>this.bottom&&(v.bottom-=E.bottom-this.bottom,E.bottom=this.bottom),E.left<this.left&&(v.left+=this.left-E.left,E.left=this.left),E.top<this.top&&(v.top+=this.top-E.top,E.top=this.top))};l.prototype.getWidth=function(){return this.right-this.left};l.prototype.getHeight=
function(){return this.bottom-this.top};l.prototype.getArea=function(){return this.getWidth()*this.getHeight()};l.prototype.isEmpty=function(){return this.right<=this.left||this.bottom<=this.top};l.prototype.set=function(v){this.left=v.left;this.top=v.top;this.right=v.right;this.bottom=v.bottom};l.prototype.clone=function(){return new l(this.left,this.top,this.right,this.bottom)};l.prototype.translate=function(v,E){this.left+=v;this.right+=v;this.top+=E;this.bottom+=E;return this};l.prototype.getTranslated=
function(v,E){var c=this.clone();c.translate(v,E);return c};l.prototype.moveTo=function(v,E){this.translate(v-this.left,E-this.top)};l.prototype.equals=function(v){return this.left==v.left&&this.right==v.right&&this.top==v.top&&this.bottom==v.bottom};l.prototype.grow=function(v,E){this.left-=v;this.right+=v;this.top-=E;this.bottom+=E};l.prototype.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"};l.prototype.toPoints=function(){return[{x:this.left,y:this.top},
{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]};l.prototype.roundNearest=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);return this};l.prototype.roundContain=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};l.createBoundingBox=function(v){if(0===v.length)return new l(0,
0,0,0);for(var E=new l(v[0].x,v[0].y,v[0].x,v[0].y),c=1;c<v.length;c++)E.left=Math.min(E.left,v[c].x),E.top=Math.min(E.top,v[c].y),E.right=Math.max(E.right,v[c].x),E.bottom=Math.max(E.bottom,v[c].y);return E};l.prototype.subtract=function(v){return l.subtract(this,v)};l.subtract=function(v,E){v instanceof l&&(v=[v]);E instanceof l&&(E=[E]);v=v.slice(0);for(var c=0;c<E.length;c++)for(var f=E[c],x=v.length,a=0;a<x;a++){var m=v[a];if(m){var r=m.getIntersection(f);if(!r.isEmpty()){var t=[];m.top<f.top&&
t.push(new l(m.left,m.top,m.right,r.top));m.bottom>f.bottom&&t.push(new l(m.left,r.bottom,m.right,m.bottom));m.left<f.left&&t.push(new l(m.left,r.top,r.left,r.bottom));m.right>f.right&&t.push(new l(r.right,r.top,m.right,r.bottom));t=t.filter(function(b){return!b.isEmpty()});if(0<t.length)for(v[a]=t[0],m=1;m<t.length;m++)v.push(t[m]);else v[a]=null}}}return v.filter(function(b){return null!=b})};l.union=function(v){if(v instanceof l)v=[v];else{v=v.slice(0);for(var E=0;E<v.length;E++){var c=v[E],f=
v.length;if(c)for(var x=E+1;x<f;x++){var a=v[x];if(a&&!c.getIntersection(a).isEmpty()){a=l.subtract(a,c);v[x]=a[0];for(var m=1;m<a.length;m++)v.push(a[m])}}}}return v.filter(function(r){return r&&!r.isEmpty()})};"object"==("undefined"===typeof window?"undefined":y(window))&&(window.cpRectGarbage=new l(1.5,2.5,3.5,4.5));L.exports=C.default},{}],64:[function(k,L,C){function y(){this.setToIdentity()}Object.defineProperty(C,"__esModule",{value:!0});C.default=y;y.prototype.setToIdentity=function(){this.m=
[1,0,0,1,0,0]};y.prototype.multiply=function(l){var v=this.m[1]*l.m[0]+this.m[3]*l.m[1],E=this.m[0]*l.m[2]+this.m[2]*l.m[3],c=this.m[1]*l.m[2]+this.m[3]*l.m[3],f=this.m[0]*l.m[4]+this.m[2]*l.m[5]+this.m[4],x=this.m[1]*l.m[4]+this.m[3]*l.m[5]+this.m[5];this.m[0]=this.m[0]*l.m[0]+this.m[2]*l.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=c;this.m[4]=f;this.m[5]=x};y.prototype.preMultiply=function(l){var v=l.m[1]*this.m[0]+l.m[3]*this.m[1],E=l.m[0]*this.m[2]+l.m[2]*this.m[3],c=l.m[1]*this.m[2]+l.m[3]*this.m[3],
f=l.m[0]*this.m[4]+l.m[2]*this.m[5]+l.m[4],x=l.m[1]*this.m[4]+l.m[3]*this.m[5]+l.m[5];this.m[0]=l.m[0]*this.m[0]+l.m[2]*this.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=c;this.m[4]=f;this.m[5]=x};y.prototype.invert=function(){var l=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),v=-this.m[1]*l,E=-this.m[2]*l,c=this.m[0]*l,f=l*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),x=l*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*l;this.m[1]=v;this.m[2]=E;this.m[3]=c;this.m[4]=f;this.m[5]=x};y.prototype.getInverted=
function(){var l=new y;l.m[0]=this.m[0];l.m[1]=this.m[1];l.m[2]=this.m[2];l.m[3]=this.m[3];l.m[4]=this.m[4];l.m[5]=this.m[5];l.invert();return l};y.prototype.rotate=function(l){var v=Math.cos(l);l=Math.sin(l);var E=this.m[1]*v+this.m[3]*l,c=this.m[0]*-l+this.m[2]*v,f=this.m[1]*-l+this.m[3]*v;this.m[0]=this.m[0]*v+this.m[2]*l;this.m[1]=E;this.m[2]=c;this.m[3]=f};y.prototype.rotateAroundPoint=function(l,v,E){this.translate(v,E);this.rotate(l);this.translate(-v,-E)};y.prototype.translate=function(l,
v){this.m[4]+=this.m[0]*l+this.m[2]*v;this.m[5]+=this.m[1]*l+this.m[3]*v};y.prototype.scale=function(l,v){this.m[0]*=l;this.m[1]*=l;this.m[2]*=v;this.m[3]*=v};y.prototype.scaleAroundPoint=function(l,v,E,c){this.translate(E,c);this.scale(l,v);this.translate(-E,-c)};y.prototype.shear=function(l,v){var E=this.m[1]+this.m[3]*v,c=this.m[2]+this.m[0]*l;l=this.m[3]+this.m[1]*l;this.m[0]+=this.m[2]*v;this.m[1]=E;this.m[2]=c;this.m[3]=l};y.prototype.getTransformedPoint=function(l){return{x:l.x*this.m[0]+l.y*
this.m[2]+this.m[4],y:l.x*this.m[1]+l.y*this.m[3]+this.m[5]}};y.prototype.transformPoints=function(l){for(var v=0;v<l.length;v++)l[v]=this.getTransformedPoint(l[v])};y.prototype.getTranslateX=function(){return this.m[4]};y.prototype.getTranslateY=function(){return this.m[5]};y.prototype.clone=function(){var l=new y;l.m[0]=this.m[0];l.m[1]=this.m[1];l.m[2]=this.m[2];l.m[3]=this.m[3];l.m[4]=this.m[4];l.m[5]=this.m[5];return l};y.prototype.getDeterminant=function(){return this.m[0]*this.m[3]-this.m[1]*
this.m[2]};y.prototype.decompose=function(){var l=this.getDeterminant(),v=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return{translate:{x:this.m[4],y:this.m[5]},rotate:Math.sign(this.m[1])*Math.acos(this.m[0]/v),scale:{x:v,y:l/v},shear:{x:Math.atan((this.m[0]*this.m[2]+this.m[1]*this.m[3])/(v*v)),y:0}}};y.prototype.toString=function(){return"["+this.m[0].toFixed(2)+" "+this.m[2].toFixed(2)+" "+this.m[4].toFixed(2)+"]\n["+this.m[1].toFixed(2)+" "+this.m[3].toFixed(2)+" "+this.m[5].toFixed(2)+
"]\n[0.00 0.00 1.00]"};Math.sign=Math.sign||function(l){l=+l;return 0===l||isNaN(l)?l:0<l?1:-1};L.exports=C.default},{}],65:[function(k,L,C){function y(l,v){this.x=l;this.y=v}Object.defineProperty(C,"__esModule",{value:!0});C.default=y;y.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};y.prototype.normalize=function(){var l=this.getLength();this.x/=l;this.y/=l;return this};y.prototype.getDotProduct=function(l){return this.x*l.x+this.y*l.y};y.prototype.scale=function(l){this.x*=
l;this.y*=l;return this};y.prototype.getScaled=function(l){var v=new y(this.x,this.y);v.scale(l);return v};y.prototype.getRounded=function(){return new y(Math.round(this.x),Math.round(this.y))};y.prototype.getTruncated=function(){return new y(~~this.x,~~this.y)};y.prototype.getPerpendicular=function(){return new y(-this.y,this.x)};y.prototype.add=function(l){this.x+=l.x;this.y+=l.y;return this};y.prototype.subtract=function(l){this.x-=l.x;this.y-=l.y;return this};y.prototype.getSum=function(l){return new y(this.x+
l.x,this.y+l.y)};y.subtractPoints=function(l,v){return new y(l.x-v.x,l.y-v.y)};L.exports=C.default},{}],66:[function(k,L,C){function y(){var l=null,v,E=this;this.isPen=function(){if(l){var c=l.pointerType;return 1==c||3==c}return!1};this.getPressure=function(){return l?l.pressure:1};this.pluginLoaded=function(){console.log("Wacom tablet support loaded!");l=v.penAPI};this.isTabletPresent=function(){return!!l};this.detectTablet=function(){if(/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent))console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");
else{console.log("Attempting to load Wacom tablet support...");v=document.createElement("object");if("classid"in v)v.classid="CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";else{var c=document.createElement("param");c.name="onload";c.value="onWacomPluginLoaded";v.appendChild(c);v.type="application/x-wacomtabletplugin"}v.style.position="absolute";v.style.visibility="hidden";v.onload="onWacomPluginLoaded";document.body.appendChild(v);setTimeout(function(){E.isTabletPresent()||console.log("Looks like the Wacom plugin isn't installed, or failed to load.")},
5E3)}}}Object.defineProperty(C,"__esModule",{value:!0});C.default=y;y.getRef=function(){null==y.instance&&(y.instance=new y);return y.instance};window.onWacomPluginLoaded=function(){y.getRef().pluginLoaded()};L.exports=C.default},{}],67:[function(k,L,C){function y(l,v,E,c){var f,x=0;"boolean"!==typeof v&&(c=E,E=v,v=void 0);return function(){function a(){x=+new Date;E.apply(r,b)}function m(){f=void 0}var r=this,t=+new Date-x,b=arguments;c&&!f&&a();f&&clearTimeout(f);void 0===c&&t>l?a():!0!==v&&(f=
setTimeout(c?m:a,void 0===c?l-t:l))}}Object.defineProperty(C,"__esModule",{value:!0});C.debounce=function(l,v,E){return void 0===E?y(l,v,!1):y(l,E,!1!==v)};C.throttle=y},{}],68:[function(k,L,C){function y(l){for(var v={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27," ":32,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SHIFT:16,"[":219,"]":221,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"+":187,";":187},E=65;90>=E;E++){var c=String.fromCharCode(E);v[c]=E}l=l.toUpperCase();
if(l in v)return v[l]}(function(l){function v(w,I){for(var O=w.length;O--;)if(w[O]===I)return O;return-1}function E(){if(0<navigator.userAgent.toLowerCase().indexOf("firefox"))return"firefox"}function c(w){var I,O;var z=y(w.key);-1==v(u,z)&&u.push(z);if(93==z||224==z)z=91;if(z in e)for(I in e[z]=!0,n)n[I]==z&&(f[I]=!0);else{for(t in e)e[t]=w[A[t]];if(f.filter.call(this,w)&&z in b){var G=x();for(O=0;O<b[z].length;O++){var H=b[z][O];if(H.scope==G||"all"==H.scope){var J=0<H.mods.length;for(I in e)if(!e[I]&&
-1<v(H.mods,+I)||e[I]&&-1==v(H.mods,+I))J=!1;(0!=H.mods.length||e[16]||e[18]||e[17]||e[91])&&!J||!1!==H.method(w,H)||(w.preventDefault?w.preventDefault():w.returnValue=!1,w.stopPropagation&&w.stopPropagation(),w.cancelBubble&&(w.cancelBubble=!0))}}}}}function f(w,I,O){var z=a(w);void 0===O&&(O=I,I="all");for(var G=0;G<z.length;G++){var H=[];w=z[G].split("+");1<w.length&&(H=m(w),w=[w[w.length-1]]);w=w[0];w=p(w);w in b||(b[w]=[]);b[w].push({shortcut:z[G],scope:I,method:O,key:z[G],mods:H})}}function x(){return h||
"all"}function a(w){w=w.replace(/\s/g,"");w=w.split(",");""==w[w.length-1]&&(w[w.length-2]+=",");return w}function m(w){w=w.slice(0,w.length-1);for(var I=0;I<w.length;I++)w[I]=n[w[I]];return w}function r(w,I,O){w.addEventListener?w.addEventListener(I,O,!1):w.attachEvent&&w.attachEvent("on"+I,function(){O(window.event)})}var t,b={},e={16:!1,18:!1,17:!1,91:!1},h="all",n={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},g={backspace:8,tab:9,clear:12,
enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":function(){return"firefox"==E()?173:189},"=":function(){return"firefox"==E()?61:187},";":186,"'":222,"[":219,"]":221,"\\":220},p=function(w){w=g[w]||w.toUpperCase().charCodeAt(0);return"function"===typeof w?w():w},u=[];for(t=1;20>t;t++)g["f"+t]=111+t;var A={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(t in n)f[t]=!1;r(document,
"keydown",function(w){c(w)});r(document,"keyup",function(w){w=y(w.key);var I,O=v(u,w);0<=O&&u.splice(O,1);if(93==w||224==w)w=91;if(w in e)for(I in e[w]=!1,n)n[I]==w&&(f[I]=!1)});r(window,"focus",function(){for(t in e)e[t]=!1;for(t in n)f[t]=!1});var F=l.key;l.key=f;l.key.setScope=function(w){h=w||"all"};l.key.getScope=x;l.key.deleteScope=function(w){var I,O;for(I in b){var z=b[I];for(O=0;O<z.length;)z[O].scope===w?z.splice(O,1):O++}};l.key.filter=function(w){w=(w.target||w.srcElement).tagName;return!("INPUT"==
w||"SELECT"==w||"TEXTAREA"==w)};l.key.isPressed=function(w){"string"==typeof w&&(w=p(w));return-1!=v(u,w)};l.key.getPressedKeyCodes=function(){return u.slice(0)};l.key.noConflict=function(){var w=l.key;l.key=F;return w};l.key.unbind=function(w,I){var O=[],z,G;var H=a(w);for(G=0;G<H.length;G++){w=H[G].split("+");1<w.length&&(O=m(w));w=w[w.length-1];w=p(w);void 0===I&&(I=x());if(!b[w])break;for(z=0;z<b[w].length;z++){var J=b[w][z];var N;if(N=J.scope===I)a:if(J=J.mods,J.length!=O.length)N=!1;else{for(N=
0;N<J.length;N++)if(J[N]!==O[N]){N=!1;break a}N=!0}N&&(b[w][z]={})}}};"undefined"!==typeof L&&(L.exports=f)})({})},{}],69:[function(k,L,C){(function(){for(var y=0,l=["ms","moz","webkit","o"],v=0;v<l.length&&!window.requestAnimationFrame;++v)window.requestAnimationFrame=window[l[v]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[v]+"CancelAnimationFrame"]||window[l[v]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(E,c){var f=(new Date).getTime(),
x=Math.max(0,16-(f-y));c=window.setTimeout(function(){E(f+x)},x);y=f+x;return c});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(E){clearTimeout(E)})})()},{}],70:[function(k,L,C){(function(y,l){"object"===typeof C&&"undefined"!==typeof L?l(C,k("jquery"),k("popper.js")):(y="undefined"!==typeof globalThis?globalThis:y||self,l(y.bootstrap={},y.jQuery,y.Popper))})(this,function(y,l,v){function E(X){return X&&"object"===typeof X&&"default"in X?X:{"default":X}}function c(X,aa){for(var D=
0;D<aa.length;D++){var K=aa[D];K.enumerable=K.enumerable||!1;K.configurable=!0;"value"in K&&(K.writable=!0);Object.defineProperty(X,K.key,K)}}function f(X,aa,D){aa&&c(X.prototype,aa);D&&c(X,D);Object.defineProperty(X,"prototype",{writable:!1});return X}function x(){x=Object.assign?Object.assign.bind():function(X){for(var aa=1;aa<arguments.length;aa++){var D=arguments[aa],K;for(K in D)Object.prototype.hasOwnProperty.call(D,K)&&(X[K]=D[K])}return X};return x.apply(this,arguments)}function a(X,aa){X.prototype=
Object.create(aa.prototype);X.prototype.constructor=X;m(X,aa)}function m(X,aa){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,K){D.__proto__=K;return D};return m(X,aa)}function r(X,aa){var D=X.nodeName.toLowerCase();if(-1!==aa.indexOf(D))return-1!==za.indexOf(D)?!(!ua.test(X.nodeValue)&&!Ha.test(X.nodeValue)):!0;X=aa.filter(function(Z){return Z instanceof RegExp});aa=0;for(var K=X.length;aa<K;aa++)if(X[aa].test(D))return!0;return!1}function t(X,aa,D){if(0===X.length)return X;if(D&&
"function"===typeof D)return D(X);X=(new window.DOMParser).parseFromString(X,"text/html");var K=Object.keys(aa),Z=[].slice.call(X.body.querySelectorAll("*"));D=function(Va,Eb){var P=Z[Va];Va=P.nodeName.toLowerCase();if(-1===K.indexOf(P.nodeName.toLowerCase()))return P.parentNode.removeChild(P),"continue";Eb=[].slice.call(P.attributes);var Ib=[].concat(aa["*"]||[],aa[Va]||[]);Eb.forEach(function(cc){r(cc,Ib)||P.removeAttribute(cc.nodeName)})};for(var Aa=0,Ra=Z.length;Aa<Ra;Aa++)D(Aa);return X.body.innerHTML}
var b=E(l),e=E(v),h={TRANSITION_END:"bsTransitionEnd",getUID:function(X){do X+=~~(1E6*Math.random());while(document.getElementById(X));return X},getSelectorFromElement:function(X){var aa=X.getAttribute("data-target");aa&&"#"!==aa||(aa=(X=X.getAttribute("href"))&&"#"!==X?X.trim():"");try{return document.querySelector(aa)?aa:null}catch(D){return null}},getTransitionDurationFromElement:function(X){if(!X)return 0;var aa=b["default"](X).css("transition-duration");X=b["default"](X).css("transition-delay");
var D=parseFloat(aa),K=parseFloat(X);if(!D&&!K)return 0;aa=aa.split(",")[0];X=X.split(",")[0];return 1E3*(parseFloat(aa)+parseFloat(X))},reflow:function(X){return X.offsetHeight},triggerTransitionEnd:function(X){b["default"](X).trigger("transitionend")},supportsTransitionEnd:function(){return!0},isElement:function(X){return(X[0]||X).nodeType},typeCheckConfig:function(X,aa,D){for(var K in D)if(Object.prototype.hasOwnProperty.call(D,K)){var Z=D[K],Aa=aa[K];Aa=Aa&&h.isElement(Aa)?"element":null===Aa||
"undefined"===typeof Aa?""+Aa:{}.toString.call(Aa).match(/\s([a-z]+)/i)[1].toLowerCase();if(!(new RegExp(Z)).test(Aa))throw Error(X.toUpperCase()+': Option "'+(K+'" provided type "'+Aa+'" but expected type "')+(Z+'".'));}},findShadowRoot:function(X){return document.documentElement.attachShadow?"function"===typeof X.getRootNode?(X=X.getRootNode(),X instanceof ShadowRoot?X:null):X instanceof ShadowRoot?X:X.parentNode?h.findShadowRoot(X.parentNode):null:null},jQueryDetection:function(){if("undefined"===
typeof b["default"])throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var X=b["default"].fn.jquery.split(" ")[0].split(".");if(2>X[0]&&9>X[1]||1===X[0]&&9===X[1]&&1>X[2]||4<=X[0])throw Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");}};h.jQueryDetection();b["default"].fn.emulateTransitionEnd=function(X){var aa=this,D=!1;b["default"](this).one(h.TRANSITION_END,function(){D=!0});setTimeout(function(){D||
h.triggerTransitionEnd(aa)},X);return this};b["default"].event.special[h.TRANSITION_END]=function(){return{bindType:"transitionend",delegateType:"transitionend",handle:function(X){if(b["default"](X.target).is(this))return X.handleObj.handler.apply(this,arguments)}}}();var n=b["default"].fn.alert,g=function(){function X(D){this._element=D}var aa=X.prototype;aa.close=function(D){var K=this._element;D&&(K=this._getRootElement(D));this._triggerCloseEvent(K).isDefaultPrevented()||this._removeElement(K)};
aa.dispose=function(){b["default"].removeData(this._element,"bs.alert");this._element=null};aa._getRootElement=function(D){var K=h.getSelectorFromElement(D),Z=!1;K&&(Z=document.querySelector(K));Z||=b["default"](D).closest(".alert")[0];return Z};aa._triggerCloseEvent=function(D){var K=b["default"].Event("close.bs.alert");b["default"](D).trigger(K);return K};aa._removeElement=function(D){var K=this;b["default"](D).removeClass("show");if(b["default"](D).hasClass("fade")){var Z=h.getTransitionDurationFromElement(D);
b["default"](D).one(h.TRANSITION_END,function(Aa){return K._destroyElement(D,Aa)}).emulateTransitionEnd(Z)}else this._destroyElement(D)};aa._destroyElement=function(D){b["default"](D).detach().trigger("closed.bs.alert").remove()};X._jQueryInterface=function(D){return this.each(function(){var K=b["default"](this),Z=K.data("bs.alert");Z||(Z=new X(this),K.data("bs.alert",Z));if("close"===D)Z[D](this)})};X._handleDismiss=function(D){return function(K){K&&K.preventDefault();D.close(this)}};f(X,null,[{key:"VERSION",
get:function(){return"4.6.2"}}]);return X}();b["default"](document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',g._handleDismiss(new g));b["default"].fn.alert=g._jQueryInterface;b["default"].fn.alert.Constructor=g;b["default"].fn.alert.noConflict=function(){b["default"].fn.alert=n;return g._jQueryInterface};var p=b["default"].fn.button,u=function(){function X(D){this._element=D;this.shouldAvoidTriggerChange=!1}var aa=X.prototype;aa.toggle=function(){var D=!0,K=!0,Z=b["default"](this._element).closest('[data-toggle="buttons"]')[0];
if(Z){var Aa=this._element.querySelector('input:not([type="hidden"])');if(Aa){"radio"===Aa.type&&(Aa.checked&&this._element.classList.contains("active")?D=!1:(K=Z.querySelector(".active"))&&b["default"](K).removeClass("active"));if(D){if("checkbox"===Aa.type||"radio"===Aa.type)Aa.checked=!this._element.classList.contains("active");this.shouldAvoidTriggerChange||b["default"](Aa).trigger("change")}Aa.focus();K=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||
(K&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),D&&b["default"](this._element).toggleClass("active"))};aa.dispose=function(){b["default"].removeData(this._element,"bs.button");this._element=null};X._jQueryInterface=function(D,K){return this.each(function(){var Z=b["default"](this),Aa=Z.data("bs.button");Aa||(Aa=new X(this),Z.data("bs.button",Aa));Aa.shouldAvoidTriggerChange=K;if("toggle"===D)Aa[D]()})};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}}]);
return X}();b["default"](document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(X){var aa=X.target,D=aa;b["default"](aa).hasClass("btn")||(aa=b["default"](aa).closest(".btn")[0]);if(!aa||aa.hasAttribute("disabled")||aa.classList.contains("disabled"))X.preventDefault();else{var K=aa.querySelector('input:not([type="hidden"])');K&&(K.hasAttribute("disabled")||K.classList.contains("disabled"))?X.preventDefault():"INPUT"!==D.tagName&&"LABEL"===aa.tagName||u._jQueryInterface.call(b["default"](aa),
"toggle","INPUT"===D.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(X){var aa=b["default"](X.target).closest(".btn")[0];b["default"](aa).toggleClass("focus",/^focus(in)?$/.test(X.type))});b["default"](window).on("load.bs.button.data-api",function(){for(var X=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),aa=0,D=X.length;aa<D;aa++){var K=X[aa],Z=K.querySelector('input:not([type="hidden"])');Z.checked||Z.hasAttribute("checked")?
K.classList.add("active"):K.classList.remove("active")}X=[].slice.call(document.querySelectorAll('[data-toggle="button"]'));aa=0;for(D=X.length;aa<D;aa++)K=X[aa],"true"===K.getAttribute("aria-pressed")?K.classList.add("active"):K.classList.remove("active")});b["default"].fn.button=u._jQueryInterface;b["default"].fn.button.Constructor=u;b["default"].fn.button.noConflict=function(){b["default"].fn.button=p;return u._jQueryInterface};var A=b["default"].fn.carousel,F={interval:5E3,keyboard:!0,slide:!1,
pause:"hover",wrap:!0,touch:!0},w={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},I={TOUCH:"touch",PEN:"pen"},O=function(){function X(D,K){this._activeElement=this._interval=this._items=null;this._isSliding=this._isPaused=!1;this.touchTimeout=null;this.touchDeltaX=this.touchStartX=0;this._config=this._getConfig(K);this._element=D;this._indicatorsElement=this._element.querySelector(".carousel-indicators");this._touchSupported=
"ontouchstart"in document.documentElement||0<navigator.maxTouchPoints;this._pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent);this._addEventListeners()}var aa=X.prototype;aa.next=function(){this._isSliding||this._slide("next")};aa.nextWhenVisible=function(){var D=b["default"](this._element);!document.hidden&&D.is(":visible")&&"hidden"!==D.css("visibility")&&this.next()};aa.prev=function(){this._isSliding||this._slide("prev")};aa.pause=function(D){D||(this._isPaused=!0);this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&
(h.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null};aa.cycle=function(D){D||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))};aa.to=function(D){var K=this;this._activeElement=this._element.querySelector(".active.carousel-item");
var Z=this._getItemIndex(this._activeElement);if(!(D>this._items.length-1||0>D))if(this._isSliding)b["default"](this._element).one("slid.bs.carousel",function(){return K.to(D)});else Z===D?(this.pause(),this.cycle()):this._slide(D>Z?"next":"prev",this._items[D])};aa.dispose=function(){b["default"](this._element).off(".bs.carousel");b["default"].removeData(this._element,"bs.carousel");this._indicatorsElement=this._activeElement=this._isSliding=this._isPaused=this._interval=this._element=this._config=
this._items=null};aa._getConfig=function(D){D=x({},F,D);h.typeCheckConfig("carousel",D,w);return D};aa._handleSwipe=function(){var D=Math.abs(this.touchDeltaX);40>=D||(D/=this.touchDeltaX,this.touchDeltaX=0,0<D&&this.prev(),0>D&&this.next())};aa._addEventListeners=function(){var D=this;if(this._config.keyboard)b["default"](this._element).on("keydown.bs.carousel",function(K){return D._keydown(K)});if("hover"===this._config.pause)b["default"](this._element).on("mouseenter.bs.carousel",function(K){return D.pause(K)}).on("mouseleave.bs.carousel",
function(K){return D.cycle(K)});this._config.touch&&this._addTouchEventListeners()};aa._addTouchEventListeners=function(){var D=this;if(this._touchSupported){var K=function(Aa){D._pointerEvent&&I[Aa.originalEvent.pointerType.toUpperCase()]?D.touchStartX=Aa.originalEvent.clientX:D._pointerEvent||(D.touchStartX=Aa.originalEvent.touches[0].clientX)},Z=function(Aa){D._pointerEvent&&I[Aa.originalEvent.pointerType.toUpperCase()]&&(D.touchDeltaX=Aa.originalEvent.clientX-D.touchStartX);D._handleSwipe();"hover"===
D._config.pause&&(D.pause(),D.touchTimeout&&clearTimeout(D.touchTimeout),D.touchTimeout=setTimeout(function(Ra){return D.cycle(Ra)},500+D._config.interval))};b["default"](this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(Aa){return Aa.preventDefault()});this._pointerEvent?(b["default"](this._element).on("pointerdown.bs.carousel",function(Aa){return K(Aa)}),b["default"](this._element).on("pointerup.bs.carousel",function(Aa){return Z(Aa)}),this._element.classList.add("pointer-event")):
(b["default"](this._element).on("touchstart.bs.carousel",function(Aa){return K(Aa)}),b["default"](this._element).on("touchmove.bs.carousel",function(Aa){D.touchDeltaX=Aa.originalEvent.touches&&1<Aa.originalEvent.touches.length?0:Aa.originalEvent.touches[0].clientX-D.touchStartX}),b["default"](this._element).on("touchend.bs.carousel",function(Aa){return Z(Aa)}))}};aa._keydown=function(D){if(!/input|textarea/i.test(D.target.tagName))switch(D.key){case "ArrowLeft":D.preventDefault();this.prev();break;
case "ArrowRight":D.preventDefault(),this.next()}};aa._getItemIndex=function(D){this._items=D&&D.parentNode?[].slice.call(D.parentNode.querySelectorAll(".carousel-item")):[];return this._items.indexOf(D)};aa._getItemByDirection=function(D,K){var Z="next"===D,Aa="prev"===D,Ra=this._getItemIndex(K),Va=this._items.length-1;if((Aa&&0===Ra||Z&&Ra===Va)&&!this._config.wrap)return K;D=(Ra+("prev"===D?-1:1))%this._items.length;return-1===D?this._items[this._items.length-1]:this._items[D]};aa._triggerSlideEvent=
function(D,K){var Z=this._getItemIndex(D),Aa=this._getItemIndex(this._element.querySelector(".active.carousel-item"));D=b["default"].Event("slide.bs.carousel",{relatedTarget:D,direction:K,from:Aa,to:Z});b["default"](this._element).trigger(D);return D};aa._setActiveIndicatorElement=function(D){if(this._indicatorsElement){var K=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));b["default"](K).removeClass("active");(D=this._indicatorsElement.children[this._getItemIndex(D)])&&b["default"](D).addClass("active")}};
aa._updateInterval=function(){var D=this._activeElement||this._element.querySelector(".active.carousel-item");D&&((D=parseInt(D.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=D):this._config.interval=this._config.defaultInterval||this._config.interval)};aa._slide=function(D,K){var Z=this,Aa=this._element.querySelector(".active.carousel-item"),Ra=this._getItemIndex(Aa),Va=K||Aa&&this._getItemByDirection(D,Aa),
Eb=this._getItemIndex(Va);K=!!this._interval;if("next"===D){var P="carousel-item-left";var Ib="carousel-item-next";D="left"}else P="carousel-item-right",Ib="carousel-item-prev",D="right";if(Va&&b["default"](Va).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(Va,D).isDefaultPrevented()&&Aa&&Va){this._isSliding=!0;K&&this.pause();this._setActiveIndicatorElement(Va);this._activeElement=Va;var cc=b["default"].Event("slid.bs.carousel",{relatedTarget:Va,direction:D,from:Ra,to:Eb});
b["default"](this._element).hasClass("slide")?(b["default"](Va).addClass(Ib),h.reflow(Va),b["default"](Aa).addClass(P),b["default"](Va).addClass(P),Ra=h.getTransitionDurationFromElement(Aa),b["default"](Aa).one(h.TRANSITION_END,function(){b["default"](Va).removeClass(P+" "+Ib).addClass("active");b["default"](Aa).removeClass("active "+Ib+" "+P);Z._isSliding=!1;setTimeout(function(){return b["default"](Z._element).trigger(cc)},0)}).emulateTransitionEnd(Ra)):(b["default"](Aa).removeClass("active"),b["default"](Va).addClass("active"),
this._isSliding=!1,b["default"](this._element).trigger(cc));K&&this.cycle()}};X._jQueryInterface=function(D){return this.each(function(){var K=b["default"](this).data("bs.carousel"),Z=x({},F,b["default"](this).data());"object"===typeof D&&(Z=x({},Z,D));var Aa="string"===typeof D?D:Z.slide;K||(K=new X(this,Z),b["default"](this).data("bs.carousel",K));if("number"===typeof D)K.to(D);else if("string"===typeof Aa){if("undefined"===typeof K[Aa])throw new TypeError('No method named "'+Aa+'"');K[Aa]()}else Z.interval&&
Z.ride&&(K.pause(),K.cycle())})};X._dataApiClickHandler=function(D){var K=h.getSelectorFromElement(this);if(K&&(K=b["default"](K)[0])&&b["default"](K).hasClass("carousel")){var Z=x({},b["default"](K).data(),b["default"](this).data()),Aa=this.getAttribute("data-slide-to");Aa&&(Z.interval=!1);X._jQueryInterface.call(b["default"](K),Z);Aa&&b["default"](K).data("bs.carousel").to(Aa);D.preventDefault()}};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return F}}]);
return X}();b["default"](document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",O._dataApiClickHandler);b["default"](window).on("load.bs.carousel.data-api",function(){for(var X=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),aa=0,D=X.length;aa<D;aa++){var K=b["default"](X[aa]);O._jQueryInterface.call(K,K.data())}});b["default"].fn.carousel=O._jQueryInterface;b["default"].fn.carousel.Constructor=O;b["default"].fn.carousel.noConflict=function(){b["default"].fn.carousel=
A;return O._jQueryInterface};var z=b["default"].fn.collapse,G={toggle:!0,parent:""},H={toggle:"boolean",parent:"(string|element)"},J=function(){function X(D,K){this._isTransitioning=!1;this._element=D;this._config=this._getConfig(K);this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+D.id+'"],[data-toggle="collapse"][data-target="#'+(D.id+'"]')));K=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]'));for(var Z=0,Aa=K.length;Z<Aa;Z++){var Ra=
K[Z],Va=h.getSelectorFromElement(Ra),Eb=[].slice.call(document.querySelectorAll(Va)).filter(function(P){return P===D});null!==Va&&0<Eb.length&&(this._selector=Va,this._triggerArray.push(Ra))}this._parent=this._config.parent?this._getParent():null;this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}var aa=X.prototype;aa.toggle=function(){b["default"](this._element).hasClass("show")?this.hide():this.show()};aa.show=function(){var D=
this;if(!this._isTransitioning&&!b["default"](this._element).hasClass("show")){var K;if(this._parent){var Z=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(Va){return"string"===typeof D._config.parent?Va.getAttribute("data-parent")===D._config.parent:Va.classList.contains("collapse")});0===Z.length&&(Z=null)}if(Z&&(K=b["default"](Z).not(this._selector).data("bs.collapse"))&&K._isTransitioning)return;var Aa=b["default"].Event("show.bs.collapse");b["default"](this._element).trigger(Aa);
if(!Aa.isDefaultPrevented()){Z&&(X._jQueryInterface.call(b["default"](Z).not(this._selector),"hide"),K||b["default"](Z).data("bs.collapse",null));var Ra=this._getDimension();b["default"](this._element).removeClass("collapse").addClass("collapsing");this._element.style[Ra]=0;this._triggerArray.length&&b["default"](this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0);this.setTransitioning(!0);Z="scroll"+(Ra[0].toUpperCase()+Ra.slice(1));K=h.getTransitionDurationFromElement(this._element);
b["default"](this._element).one(h.TRANSITION_END,function(){b["default"](D._element).removeClass("collapsing").addClass("collapse show");D._element.style[Ra]="";D.setTransitioning(!1);b["default"](D._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(K);this._element.style[Ra]=this._element[Z]+"px"}}};aa.hide=function(){var D=this;if(!this._isTransitioning&&b["default"](this._element).hasClass("show")){var K=b["default"].Event("hide.bs.collapse");b["default"](this._element).trigger(K);if(!K.isDefaultPrevented()){K=
this._getDimension();this._element.style[K]=this._element.getBoundingClientRect()[K]+"px";h.reflow(this._element);b["default"](this._element).addClass("collapsing").removeClass("collapse show");var Z=this._triggerArray.length;if(0<Z)for(var Aa=0;Aa<Z;Aa++){var Ra=this._triggerArray[Aa],Va=h.getSelectorFromElement(Ra);null!==Va&&(b["default"]([].slice.call(document.querySelectorAll(Va))).hasClass("show")||b["default"](Ra).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[K]=
"";K=h.getTransitionDurationFromElement(this._element);b["default"](this._element).one(h.TRANSITION_END,function(){D.setTransitioning(!1);b["default"](D._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")}).emulateTransitionEnd(K)}}};aa.setTransitioning=function(D){this._isTransitioning=D};aa.dispose=function(){b["default"].removeData(this._element,"bs.collapse");this._isTransitioning=this._triggerArray=this._element=this._parent=this._config=null};aa._getConfig=
function(D){D=x({},G,D);D.toggle=!!D.toggle;h.typeCheckConfig("collapse",D,H);return D};aa._getDimension=function(){return b["default"](this._element).hasClass("width")?"width":"height"};aa._getParent=function(){var D=this;if(h.isElement(this._config.parent)){var K=this._config.parent;"undefined"!==typeof this._config.parent.jquery&&(K=this._config.parent[0])}else K=document.querySelector(this._config.parent);var Z=[].slice.call(K.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+
'"]'));b["default"](Z).each(function(Aa,Ra){D._addAriaAndCollapsedClass(X._getTargetFromElement(Ra),[Ra])});return K};aa._addAriaAndCollapsedClass=function(D,K){D=b["default"](D).hasClass("show");K.length&&b["default"](K).toggleClass("collapsed",!D).attr("aria-expanded",D)};X._getTargetFromElement=function(D){return(D=h.getSelectorFromElement(D))?document.querySelector(D):null};X._jQueryInterface=function(D){return this.each(function(){var K=b["default"](this),Z=K.data("bs.collapse"),Aa=x({},G,K.data(),
"object"===typeof D&&D?D:{});!Z&&Aa.toggle&&"string"===typeof D&&/show|hide/.test(D)&&(Aa.toggle=!1);Z||(Z=new X(this,Aa),K.data("bs.collapse",Z));if("string"===typeof D){if("undefined"===typeof Z[D])throw new TypeError('No method named "'+D+'"');Z[D]()}})};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return G}}]);return X}();b["default"](document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(X){"A"===X.currentTarget.tagName&&X.preventDefault();
var aa=b["default"](this);X=h.getSelectorFromElement(this);X=[].slice.call(document.querySelectorAll(X));b["default"](X).each(function(){var D=b["default"](this),K=D.data("bs.collapse")?"toggle":aa.data();J._jQueryInterface.call(D,K)})});b["default"].fn.collapse=J._jQueryInterface;b["default"].fn.collapse.Constructor=J;b["default"].fn.collapse.noConflict=function(){b["default"].fn.collapse=z;return J._jQueryInterface};var N=b["default"].fn.dropdown,S=RegExp("ArrowUp|ArrowDown|Escape"),ia={offset:0,
flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},da={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},ta=function(){function X(D,K){this._element=D;this._popper=null;this._config=this._getConfig(K);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var aa=X.prototype;aa.toggle=function(){if(!this._element.disabled&&
!b["default"](this._element).hasClass("disabled")){var D=b["default"](this._menu).hasClass("show");X._clearMenus();D||this.show(!0)}};aa.show=function(D){void 0===D&&(D=!1);if(!(this._element.disabled||b["default"](this._element).hasClass("disabled")||b["default"](this._menu).hasClass("show"))){var K={relatedTarget:this._element},Z=b["default"].Event("show.bs.dropdown",K),Aa=X._getParentFromElement(this._element);b["default"](Aa).trigger(Z);if(!Z.isDefaultPrevented()){if(!this._inNavbar&&D){if("undefined"===
typeof e["default"])throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");D=this._element;"parent"===this._config.reference?D=Aa:h.isElement(this._config.reference)&&(D=this._config.reference,"undefined"!==typeof this._config.reference.jquery&&(D=this._config.reference[0]));"scrollParent"!==this._config.boundary&&b["default"](Aa).addClass("position-static");this._popper=new e["default"](D,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&
0===b["default"](Aa).closest(".navbar-nav").length)b["default"](document.body).children().on("mouseover",null,b["default"].noop);this._element.focus();this._element.setAttribute("aria-expanded",!0);b["default"](this._menu).toggleClass("show");b["default"](Aa).toggleClass("show").trigger(b["default"].Event("shown.bs.dropdown",K))}}};aa.hide=function(){if(!this._element.disabled&&!b["default"](this._element).hasClass("disabled")&&b["default"](this._menu).hasClass("show")){var D={relatedTarget:this._element},
K=b["default"].Event("hide.bs.dropdown",D),Z=X._getParentFromElement(this._element);b["default"](Z).trigger(K);K.isDefaultPrevented()||(this._popper&&this._popper.destroy(),b["default"](this._menu).toggleClass("show"),b["default"](Z).toggleClass("show").trigger(b["default"].Event("hidden.bs.dropdown",D)))}};aa.dispose=function(){b["default"].removeData(this._element,"bs.dropdown");b["default"](this._element).off(".bs.dropdown");this._menu=this._element=null;null!==this._popper&&(this._popper.destroy(),
this._popper=null)};aa.update=function(){this._inNavbar=this._detectNavbar();null!==this._popper&&this._popper.scheduleUpdate()};aa._addEventListeners=function(){var D=this;b["default"](this._element).on("click.bs.dropdown",function(K){K.preventDefault();K.stopPropagation();D.toggle()})};aa._getConfig=function(D){D=x({},this.constructor.Default,b["default"](this._element).data(),D);h.typeCheckConfig("dropdown",D,this.constructor.DefaultType);return D};aa._getMenuElement=function(){if(!this._menu){var D=
X._getParentFromElement(this._element);D&&(this._menu=D.querySelector(".dropdown-menu"))}return this._menu};aa._getPlacement=function(){var D=b["default"](this._element.parentNode),K="bottom-start";D.hasClass("dropup")?K=b["default"](this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":D.hasClass("dropright")?K="right-start":D.hasClass("dropleft")?K="left-start":b["default"](this._menu).hasClass("dropdown-menu-right")&&(K="bottom-end");return K};aa._detectNavbar=function(){return 0<b["default"](this._element).closest(".navbar").length};
aa._getOffset=function(){var D=this,K={};"function"===typeof this._config.offset?K.fn=function(Z){Z.offsets=x({},Z.offsets,D._config.offset(Z.offsets,D._element));return Z}:K.offset=this._config.offset;return K};aa._getPopperConfig=function(){var D={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};"static"===this._config.display&&(D.modifiers.applyStyle={enabled:!1});return x({},D,this._config.popperConfig)};
X._jQueryInterface=function(D){return this.each(function(){var K=b["default"](this).data("bs.dropdown"),Z="object"===typeof D?D:null;K||(K=new X(this,Z),b["default"](this).data("bs.dropdown",K));if("string"===typeof D){if("undefined"===typeof K[D])throw new TypeError('No method named "'+D+'"');K[D]()}})};X._clearMenus=function(D){if(!D||2!==D.button&&("keyup"!==D.type||"Tab"===D.key))for(var K=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),Z=0,Aa=K.length;Z<Aa;Z++){var Ra=X._getParentFromElement(K[Z]),
Va=b["default"](K[Z]).data("bs.dropdown"),Eb={relatedTarget:K[Z]};D&&"click"===D.type&&(Eb.clickEvent=D);if(Va){var P=Va._menu;if(b["default"](Ra).hasClass("show")&&!(D&&("click"===D.type&&/input|textarea/i.test(D.target.tagName)||"keyup"===D.type&&"Tab"===D.key)&&b["default"].contains(Ra,D.target))){var Ib=b["default"].Event("hide.bs.dropdown",Eb);b["default"](Ra).trigger(Ib);Ib.isDefaultPrevented()||("ontouchstart"in document.documentElement&&b["default"](document.body).children().off("mouseover",
null,b["default"].noop),K[Z].setAttribute("aria-expanded","false"),Va._popper&&Va._popper.destroy(),b["default"](P).removeClass("show"),b["default"](Ra).removeClass("show").trigger(b["default"].Event("hidden.bs.dropdown",Eb)))}}}};X._getParentFromElement=function(D){var K,Z=h.getSelectorFromElement(D);Z&&(K=document.querySelector(Z));return K||D.parentNode};X._dataApiKeydownHandler=function(D){if(!((/input|textarea/i.test(D.target.tagName)?" "===D.key||"Escape"!==D.key&&("ArrowDown"!==D.key&&"ArrowUp"!==
D.key||b["default"](D.target).closest(".dropdown-menu").length):!S.test(D.key))||this.disabled||b["default"](this).hasClass("disabled"))){var K=X._getParentFromElement(this),Z=b["default"](K).hasClass("show");if(Z||"Escape"!==D.key)D.preventDefault(),D.stopPropagation(),Z&&"Escape"!==D.key&&" "!==D.key?(K=[].slice.call(K.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(Aa){return b["default"](Aa).is(":visible")}),0!==K.length&&(Z=K.indexOf(D.target),
"ArrowUp"===D.key&&0<Z&&Z--,"ArrowDown"===D.key&&Z<K.length-1&&Z++,0>Z&&(Z=0),K[Z].focus())):("Escape"===D.key&&b["default"](K.querySelector('[data-toggle="dropdown"]')).trigger("focus"),b["default"](this).trigger("click"))}};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ia}},{key:"DefaultType",get:function(){return da}}]);return X}();b["default"](document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',ta._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",
".dropdown-menu",ta._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",ta._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(X){X.preventDefault();X.stopPropagation();ta._jQueryInterface.call(b["default"](this),"toggle")}).on("click.bs.dropdown.data-api",".dropdown form",function(X){X.stopPropagation()});b["default"].fn.dropdown=ta._jQueryInterface;b["default"].fn.dropdown.Constructor=ta;b["default"].fn.dropdown.noConflict=function(){b["default"].fn.dropdown=
N;return ta._jQueryInterface};var oa=b["default"].fn.modal,R={backdrop:!0,keyboard:!0,focus:!0,show:!0},pa={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ja=function(){function X(D,K){this._config=this._getConfig(K);this._element=D;this._dialog=D.querySelector(".modal-dialog");this._backdrop=null;this._isTransitioning=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=!1;this._scrollbarWidth=0}var aa=X.prototype;aa.toggle=function(D){return this._isShown?
this.hide():this.show(D)};aa.show=function(D){var K=this;if(!this._isShown&&!this._isTransitioning){var Z=b["default"].Event("show.bs.modal",{relatedTarget:D});b["default"](this._element).trigger(Z);Z.isDefaultPrevented()||(this._isShown=!0,b["default"](this._element).hasClass("fade")&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),b["default"](this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',
function(Aa){return K.hide(Aa)}),b["default"](this._dialog).on("mousedown.dismiss.bs.modal",function(){b["default"](K._element).one("mouseup.dismiss.bs.modal",function(Aa){b["default"](Aa.target).is(K._element)&&(K._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return K._showElement(D)}))}};aa.hide=function(D){var K=this;D&&D.preventDefault();if(this._isShown&&!this._isTransitioning&&(D=b["default"].Event("hide.bs.modal"),b["default"](this._element).trigger(D),this._isShown&&!D.isDefaultPrevented())){this._isShown=
!1;if(D=b["default"](this._element).hasClass("fade"))this._isTransitioning=!0;this._setEscapeEvent();this._setResizeEvent();b["default"](document).off("focusin.bs.modal");b["default"](this._element).removeClass("show");b["default"](this._element).off("click.dismiss.bs.modal");b["default"](this._dialog).off("mousedown.dismiss.bs.modal");D?(D=h.getTransitionDurationFromElement(this._element),b["default"](this._element).one(h.TRANSITION_END,function(Z){return K._hideModal(Z)}).emulateTransitionEnd(D)):
this._hideModal()}};aa.dispose=function(){[window,this._element,this._dialog].forEach(function(D){return b["default"](D).off(".bs.modal")});b["default"](document).off("focusin.bs.modal");b["default"].removeData(this._element,"bs.modal");this._scrollbarWidth=this._isTransitioning=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=this._backdrop=this._dialog=this._element=this._config=null};aa.handleUpdate=function(){this._adjustDialog()};aa._getConfig=function(D){D=x({},R,D);h.typeCheckConfig("modal",
D,pa);return D};aa._triggerBackdropTransition=function(){var D=this,K=b["default"].Event("hidePrevented.bs.modal");b["default"](this._element).trigger(K);if(!K.isDefaultPrevented()){var Z=this._element.scrollHeight>document.documentElement.clientHeight;Z||(this._element.style.overflowY="hidden");this._element.classList.add("modal-static");var Aa=h.getTransitionDurationFromElement(this._dialog);b["default"](this._element).off(h.TRANSITION_END);b["default"](this._element).one(h.TRANSITION_END,function(){D._element.classList.remove("modal-static");
Z||b["default"](D._element).one(h.TRANSITION_END,function(){D._element.style.overflowY=""}).emulateTransitionEnd(D._element,Aa)}).emulateTransitionEnd(Aa);this._element.focus()}};aa._showElement=function(D){var K=this,Z=b["default"](this._element).hasClass("fade"),Aa=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");
this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");b["default"](this._dialog).hasClass("modal-dialog-scrollable")&&Aa?Aa.scrollTop=0:this._element.scrollTop=0;Z&&h.reflow(this._element);b["default"](this._element).addClass("show");this._config.focus&&this._enforceFocus();var Ra=b["default"].Event("shown.bs.modal",{relatedTarget:D});D=function(){K._config.focus&&K._element.focus();K._isTransitioning=!1;b["default"](K._element).trigger(Ra)};Z?(Z=h.getTransitionDurationFromElement(this._dialog),
b["default"](this._dialog).one(h.TRANSITION_END,D).emulateTransitionEnd(Z)):D()};aa._enforceFocus=function(){var D=this;b["default"](document).off("focusin.bs.modal").on("focusin.bs.modal",function(K){document!==K.target&&D._element!==K.target&&0===b["default"](D._element).has(K.target).length&&D._element.focus()})};aa._setEscapeEvent=function(){var D=this;if(this._isShown)b["default"](this._element).on("keydown.dismiss.bs.modal",function(K){D._config.keyboard&&27===K.key?(K.preventDefault(),D.hide()):
D._config.keyboard||27!==K.key||D._triggerBackdropTransition()});else this._isShown||b["default"](this._element).off("keydown.dismiss.bs.modal")};aa._setResizeEvent=function(){var D=this;if(this._isShown)b["default"](window).on("resize.bs.modal",function(K){return D.handleUpdate(K)});else b["default"](window).off("resize.bs.modal")};aa._hideModal=function(){var D=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");
this._isTransitioning=!1;this._showBackdrop(function(){b["default"](document.body).removeClass("modal-open");D._resetAdjustments();D._resetScrollbar();b["default"](D._element).trigger("hidden.bs.modal")})};aa._removeBackdrop=function(){this._backdrop&&(b["default"](this._backdrop).remove(),this._backdrop=null)};aa._showBackdrop=function(D){var K=this,Z=b["default"](this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop)this._backdrop=document.createElement("div"),this._backdrop.className=
"modal-backdrop",Z&&this._backdrop.classList.add(Z),b["default"](this._backdrop).appendTo(document.body),b["default"](this._element).on("click.dismiss.bs.modal",function(Ra){K._ignoreBackdropClick?K._ignoreBackdropClick=!1:Ra.target===Ra.currentTarget&&("static"===K._config.backdrop?K._triggerBackdropTransition():K.hide())}),Z&&h.reflow(this._backdrop),b["default"](this._backdrop).addClass("show"),D&&(Z?(Z=h.getTransitionDurationFromElement(this._backdrop),b["default"](this._backdrop).one(h.TRANSITION_END,
D).emulateTransitionEnd(Z)):D());else if(!this._isShown&&this._backdrop)if(b["default"](this._backdrop).removeClass("show"),Z=function(){K._removeBackdrop();D&&D()},b["default"](this._element).hasClass("fade")){var Aa=h.getTransitionDurationFromElement(this._backdrop);b["default"](this._backdrop).one(h.TRANSITION_END,Z).emulateTransitionEnd(Aa)}else Z();else D&&D()};aa._adjustDialog=function(){var D=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&D&&(this._element.style.paddingLeft=
this._scrollbarWidth+"px");this._isBodyOverflowing&&!D&&(this._element.style.paddingRight=this._scrollbarWidth+"px")};aa._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};aa._checkScrollbar=function(){var D=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(D.left+D.right)<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};aa._setScrollbar=function(){var D=this;if(this._isBodyOverflowing){var K=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),
Z=[].slice.call(document.querySelectorAll(".sticky-top"));b["default"](K).each(function(Aa,Ra){Aa=Ra.style.paddingRight;var Va=b["default"](Ra).css("padding-right");b["default"](Ra).data("padding-right",Aa).css("padding-right",parseFloat(Va)+D._scrollbarWidth+"px")});b["default"](Z).each(function(Aa,Ra){Aa=Ra.style.marginRight;var Va=b["default"](Ra).css("margin-right");b["default"](Ra).data("margin-right",Aa).css("margin-right",parseFloat(Va)-D._scrollbarWidth+"px")});K=document.body.style.paddingRight;
Z=b["default"](document.body).css("padding-right");b["default"](document.body).data("padding-right",K).css("padding-right",parseFloat(Z)+this._scrollbarWidth+"px")}b["default"](document.body).addClass("modal-open")};aa._resetScrollbar=function(){var D=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));b["default"](D).each(function(K,Z){K=b["default"](Z).data("padding-right");b["default"](Z).removeData("padding-right");Z.style.paddingRight=K?K:""});D=[].slice.call(document.querySelectorAll(".sticky-top"));
b["default"](D).each(function(K,Z){K=b["default"](Z).data("margin-right");"undefined"!==typeof K&&b["default"](Z).css("margin-right",K).removeData("margin-right")});D=b["default"](document.body).data("padding-right");b["default"](document.body).removeData("padding-right");document.body.style.paddingRight=D?D:""};aa._getScrollbarWidth=function(){var D=document.createElement("div");D.className="modal-scrollbar-measure";document.body.appendChild(D);var K=D.getBoundingClientRect().width-D.clientWidth;
document.body.removeChild(D);return K};X._jQueryInterface=function(D,K){return this.each(function(){var Z=b["default"](this).data("bs.modal"),Aa=x({},R,b["default"](this).data(),"object"===typeof D&&D?D:{});Z||(Z=new X(this,Aa),b["default"](this).data("bs.modal",Z));if("string"===typeof D){if("undefined"===typeof Z[D])throw new TypeError('No method named "'+D+'"');Z[D](K)}else Aa.show&&Z.show(K)})};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return R}}]);
return X}();b["default"](document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(X){var aa=this,D,K=h.getSelectorFromElement(this);K&&(D=document.querySelector(K));K=b["default"](D).data("bs.modal")?"toggle":x({},b["default"](D).data(),b["default"](this).data());"A"!==this.tagName&&"AREA"!==this.tagName||X.preventDefault();var Z=b["default"](D).one("show.bs.modal",function(Aa){if(!Aa.isDefaultPrevented())Z.one("hidden.bs.modal",function(){b["default"](aa).is(":visible")&&aa.focus()})});
ja._jQueryInterface.call(b["default"](D),K,this)});b["default"].fn.modal=ja._jQueryInterface;b["default"].fn.modal.Constructor=ja;b["default"].fn.modal.noConflict=function(){b["default"].fn.modal=oa;return ja._jQueryInterface};var za="background cite href itemtype longdesc poster src xlink:href".split(" "),ua=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ha=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,
ra=b["default"].fn.tooltip,Qa=RegExp("(^|\\s)bs-tooltip\\S+","g"),ab=["sanitize","whiteList","sanitizeFn"],gb={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},T={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class",
"dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:"src srcset alt title width height".split(" "),li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},ea={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",
offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},ya={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",
MOUSELEAVE:"mouseleave.bs.tooltip"},Ia=function(){function X(D,K){if("undefined"===typeof e["default"])throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=D;this.config=this._getConfig(K);this.tip=null;this._setListeners()}var aa=X.prototype;aa.enable=function(){this._isEnabled=!0};aa.disable=function(){this._isEnabled=!1};aa.toggleEnabled=function(){this._isEnabled=
!this._isEnabled};aa.toggle=function(D){if(this._isEnabled)if(D){var K=this.constructor.DATA_KEY,Z=b["default"](D.currentTarget).data(K);Z||(Z=new this.constructor(D.currentTarget,this._getDelegateConfig()),b["default"](D.currentTarget).data(K,Z));Z._activeTrigger.click=!Z._activeTrigger.click;Z._isWithActiveTrigger()?Z._enter(null,Z):Z._leave(null,Z)}else b["default"](this.getTipElement()).hasClass("show")?this._leave(null,this):this._enter(null,this)};aa.dispose=function(){clearTimeout(this._timeout);
b["default"].removeData(this.element,this.constructor.DATA_KEY);b["default"](this.element).off(this.constructor.EVENT_KEY);b["default"](this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler);this.tip&&b["default"](this.tip).remove();this._activeTrigger=this._hoverState=this._timeout=this._isEnabled=null;this._popper&&this._popper.destroy();this.tip=this.config=this.element=this._popper=null};aa.show=function(){var D=this;if("none"===b["default"](this.element).css("display"))throw Error("Please use show on visible elements");
var K=b["default"].Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){b["default"](this.element).trigger(K);var Z=h.findShadowRoot(this.element);Z=b["default"].contains(null!==Z?Z:this.element.ownerDocument.documentElement,this.element);if(!K.isDefaultPrevented()&&Z){K=this.getTipElement();Z=h.getUID(this.constructor.NAME);K.setAttribute("id",Z);this.element.setAttribute("aria-describedby",Z);this.setContent();this.config.animation&&b["default"](K).addClass("fade");Z="function"===
typeof this.config.placement?this.config.placement.call(this,K,this.element):this.config.placement;Z=this._getAttachment(Z);this.addAttachmentClass(Z);var Aa=this._getContainer();b["default"](K).data(this.constructor.DATA_KEY,this);b["default"].contains(this.element.ownerDocument.documentElement,this.tip)||b["default"](K).appendTo(Aa);b["default"](this.element).trigger(this.constructor.Event.INSERTED);this._popper=new e["default"](this.element,K,this._getPopperConfig(Z));b["default"](K).addClass("show");
b["default"](K).addClass(this.config.customClass);if("ontouchstart"in document.documentElement)b["default"](document.body).children().on("mouseover",null,b["default"].noop);K=function(){D.config.animation&&D._fixTransition();var Ra=D._hoverState;D._hoverState=null;b["default"](D.element).trigger(D.constructor.Event.SHOWN);"out"===Ra&&D._leave(null,D)};b["default"](this.tip).hasClass("fade")?(Z=h.getTransitionDurationFromElement(this.tip),b["default"](this.tip).one(h.TRANSITION_END,K).emulateTransitionEnd(Z)):
K()}}};aa.hide=function(D){var K=this,Z=this.getTipElement(),Aa=b["default"].Event(this.constructor.Event.HIDE),Ra=function(){"show"!==K._hoverState&&Z.parentNode&&Z.parentNode.removeChild(Z);K._cleanTipClass();K.element.removeAttribute("aria-describedby");b["default"](K.element).trigger(K.constructor.Event.HIDDEN);null!==K._popper&&K._popper.destroy();D&&D()};b["default"](this.element).trigger(Aa);Aa.isDefaultPrevented()||(b["default"](Z).removeClass("show"),"ontouchstart"in document.documentElement&&
b["default"](document.body).children().off("mouseover",null,b["default"].noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,b["default"](this.tip).hasClass("fade")?(Aa=h.getTransitionDurationFromElement(Z),b["default"](Z).one(h.TRANSITION_END,Ra).emulateTransitionEnd(Aa)):Ra(),this._hoverState="")};aa.update=function(){null!==this._popper&&this._popper.scheduleUpdate()};aa.isWithContent=function(){return!!this.getTitle()};aa.addAttachmentClass=function(D){b["default"](this.getTipElement()).addClass("bs-tooltip-"+
D)};aa.getTipElement=function(){return this.tip=this.tip||b["default"](this.config.template)[0]};aa.setContent=function(){var D=this.getTipElement();this.setElementContent(b["default"](D.querySelectorAll(".tooltip-inner")),this.getTitle());b["default"](D).removeClass("fade show")};aa.setElementContent=function(D,K){"object"===typeof K&&(K.nodeType||K.jquery)?this.config.html?b["default"](K).parent().is(D)||D.empty().append(K):D.text(b["default"](K).text()):this.config.html?(this.config.sanitize&&
(K=t(K,this.config.whiteList,this.config.sanitizeFn)),D.html(K)):D.text(K)};aa.getTitle=function(){var D=this.element.getAttribute("data-original-title");D||="function"===typeof this.config.title?this.config.title.call(this.element):this.config.title;return D};aa._getPopperConfig=function(D){var K=this;D={placement:D,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(Z){Z.originalPlacement!==
Z.placement&&K._handlePopperPlacementChange(Z)},onUpdate:function(Z){return K._handlePopperPlacementChange(Z)}};return x({},D,this.config.popperConfig)};aa._getOffset=function(){var D=this,K={};"function"===typeof this.config.offset?K.fn=function(Z){Z.offsets=x({},Z.offsets,D.config.offset(Z.offsets,D.element));return Z}:K.offset=this.config.offset;return K};aa._getContainer=function(){return!1===this.config.container?document.body:h.isElement(this.config.container)?b["default"](this.config.container):
b["default"](document).find(this.config.container)};aa._getAttachment=function(D){return gb[D.toUpperCase()]};aa._setListeners=function(){var D=this;this.config.trigger.split(" ").forEach(function(K){if("click"===K)b["default"](D.element).on(D.constructor.Event.CLICK,D.config.selector,function(Aa){return D.toggle(Aa)});else if("manual"!==K){var Z="hover"===K?D.constructor.Event.MOUSEENTER:D.constructor.Event.FOCUSIN;K="hover"===K?D.constructor.Event.MOUSELEAVE:D.constructor.Event.FOCUSOUT;b["default"](D.element).on(Z,
D.config.selector,function(Aa){return D._enter(Aa)}).on(K,D.config.selector,function(Aa){return D._leave(Aa)})}});this._hideModalHandler=function(){D.element&&D.hide()};b["default"](this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler);this.config.selector?this.config=x({},this.config,{trigger:"manual",selector:""}):this._fixTitle()};aa._fixTitle=function(){var D=typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||"string"!==D)this.element.setAttribute("data-original-title",
this.element.getAttribute("title")||""),this.element.setAttribute("title","")};aa._enter=function(D,K){var Z=this.constructor.DATA_KEY;K=K||b["default"](D.currentTarget).data(Z);K||(K=new this.constructor(D.currentTarget,this._getDelegateConfig()),b["default"](D.currentTarget).data(Z,K));D&&(K._activeTrigger["focusin"===D.type?"focus":"hover"]=!0);b["default"](K.getTipElement()).hasClass("show")||"show"===K._hoverState?K._hoverState="show":(clearTimeout(K._timeout),K._hoverState="show",K.config.delay&&
K.config.delay.show?K._timeout=setTimeout(function(){"show"===K._hoverState&&K.show()},K.config.delay.show):K.show())};aa._leave=function(D,K){var Z=this.constructor.DATA_KEY;K=K||b["default"](D.currentTarget).data(Z);K||(K=new this.constructor(D.currentTarget,this._getDelegateConfig()),b["default"](D.currentTarget).data(Z,K));D&&(K._activeTrigger["focusout"===D.type?"focus":"hover"]=!1);K._isWithActiveTrigger()||(clearTimeout(K._timeout),K._hoverState="out",K.config.delay&&K.config.delay.hide?K._timeout=
setTimeout(function(){"out"===K._hoverState&&K.hide()},K.config.delay.hide):K.hide())};aa._isWithActiveTrigger=function(){for(var D in this._activeTrigger)if(this._activeTrigger[D])return!0;return!1};aa._getConfig=function(D){var K=b["default"](this.element).data();Object.keys(K).forEach(function(Z){-1!==ab.indexOf(Z)&&delete K[Z]});D=x({},this.constructor.Default,K,"object"===typeof D&&D?D:{});"number"===typeof D.delay&&(D.delay={show:D.delay,hide:D.delay});"number"===typeof D.title&&(D.title=D.title.toString());
"number"===typeof D.content&&(D.content=D.content.toString());h.typeCheckConfig("tooltip",D,this.constructor.DefaultType);D.sanitize&&(D.template=t(D.template,D.whiteList,D.sanitizeFn));return D};aa._getDelegateConfig=function(){var D={};if(this.config)for(var K in this.config)this.constructor.Default[K]!==this.config[K]&&(D[K]=this.config[K]);return D};aa._cleanTipClass=function(){var D=b["default"](this.getTipElement()),K=D.attr("class").match(Qa);null!==K&&K.length&&D.removeClass(K.join(""))};
aa._handlePopperPlacementChange=function(D){this.tip=D.instance.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(D.placement))};aa._fixTransition=function(){var D=this.getTipElement(),K=this.config.animation;null===D.getAttribute("x-placement")&&(b["default"](D).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=K)};X._jQueryInterface=function(D){return this.each(function(){var K=b["default"](this),Z=K.data("bs.tooltip"),Aa="object"===
typeof D&&D;if(Z||!/dispose|hide/.test(D))if(Z||(Z=new X(this,Aa),K.data("bs.tooltip",Z)),"string"===typeof D){if("undefined"===typeof Z[D])throw new TypeError('No method named "'+D+'"');Z[D]()}})};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return T}},{key:"NAME",get:function(){return"tooltip"}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return ya}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",
get:function(){return ea}}]);return X}();b["default"].fn.tooltip=Ia._jQueryInterface;b["default"].fn.tooltip.Constructor=Ia;b["default"].fn.tooltip.noConflict=function(){b["default"].fn.tooltip=ra;return Ia._jQueryInterface};var Ya=b["default"].fn.popover,sb=RegExp("(^|\\s)bs-popover\\S+","g"),ub=x({},Ia.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),
Na=x({},Ia.DefaultType,{content:"(string|element|function)"}),sa={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Oa=function(X){function aa(){return X.apply(this,arguments)||this}a(aa,X);var D=aa.prototype;D.isWithContent=function(){return this.getTitle()||this._getContent()};
D.addAttachmentClass=function(K){b["default"](this.getTipElement()).addClass("bs-popover-"+K)};D.getTipElement=function(){return this.tip=this.tip||b["default"](this.config.template)[0]};D.setContent=function(){var K=b["default"](this.getTipElement());this.setElementContent(K.find(".popover-header"),this.getTitle());var Z=this._getContent();"function"===typeof Z&&(Z=Z.call(this.element));this.setElementContent(K.find(".popover-body"),Z);K.removeClass("fade show")};D._getContent=function(){return this.element.getAttribute("data-content")||
this.config.content};D._cleanTipClass=function(){var K=b["default"](this.getTipElement()),Z=K.attr("class").match(sb);null!==Z&&0<Z.length&&K.removeClass(Z.join(""))};aa._jQueryInterface=function(K){return this.each(function(){var Z=b["default"](this).data("bs.popover"),Aa="object"===typeof K?K:null;if(Z||!/dispose|hide/.test(K))if(Z||(Z=new aa(this,Aa),b["default"](this).data("bs.popover",Z)),"string"===typeof K){if("undefined"===typeof Z[K])throw new TypeError('No method named "'+K+'"');Z[K]()}})};
f(aa,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ub}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return sa}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Na}}]);return aa}(Ia);b["default"].fn.popover=Oa._jQueryInterface;b["default"].fn.popover.Constructor=Oa;b["default"].fn.popover.noConflict=function(){b["default"].fn.popover=
Ya;return Oa._jQueryInterface};var Ka=b["default"].fn.scrollspy,bb={offset:10,method:"auto",target:""},V={offset:"number",method:"string",target:"(string|element)"},ca=function(){function X(D,K){var Z=this;this._element=D;this._scrollElement="BODY"===D.tagName?window:D;this._config=this._getConfig(K);this._selector=this._config.target+" .nav-link,"+(this._config.target+" .list-group-item,")+(this._config.target+" .dropdown-item");this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=
0;b["default"](this._scrollElement).on("scroll.bs.scrollspy",function(Aa){return Z._process(Aa)});this.refresh();this._process()}var aa=X.prototype;aa.refresh=function(){var D=this,K=this._scrollElement===this._scrollElement.window?"offset":"position",Z="auto"===this._config.method?K:this._config.method,Aa="position"===Z?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();[].slice.call(document.querySelectorAll(this._selector)).map(function(Ra){var Va;
(Ra=h.getSelectorFromElement(Ra))&&(Va=document.querySelector(Ra));if(Va){var Eb=Va.getBoundingClientRect();if(Eb.width||Eb.height)return[b["default"](Va)[Z]().top+Aa,Ra]}return null}).filter(Boolean).sort(function(Ra,Va){return Ra[0]-Va[0]}).forEach(function(Ra){D._offsets.push(Ra[0]);D._targets.push(Ra[1])})};aa.dispose=function(){b["default"].removeData(this._element,"bs.scrollspy");b["default"](this._scrollElement).off(".bs.scrollspy");this._scrollHeight=this._activeTarget=this._targets=this._offsets=
this._selector=this._config=this._scrollElement=this._element=null};aa._getConfig=function(D){D=x({},bb,"object"===typeof D&&D?D:{});if("string"!==typeof D.target&&h.isElement(D.target)){var K=b["default"](D.target).attr("id");K||(K=h.getUID("scrollspy"),b["default"](D.target).attr("id",K));D.target="#"+K}h.typeCheckConfig("scrollspy",D,V);return D};aa._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop};aa._getScrollHeight=function(){return this._scrollElement.scrollHeight||
Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};aa._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height};aa._process=function(){var D=this._getScrollTop()+this._config.offset,K=this._getScrollHeight(),Z=this._config.offset+K-this._getOffsetHeight();this._scrollHeight!==K&&this.refresh();if(D>=Z)D=this._targets[this._targets.length-1],this._activeTarget!==D&&this._activate(D);else if(this._activeTarget&&
D<this._offsets[0]&&0<this._offsets[0])this._activeTarget=null,this._clear();else for(K=this._offsets.length;K--;)this._activeTarget!==this._targets[K]&&D>=this._offsets[K]&&("undefined"===typeof this._offsets[K+1]||D<this._offsets[K+1])&&this._activate(this._targets[K])};aa._activate=function(D){this._activeTarget=D;this._clear();var K=this._selector.split(",").map(function(Z){return Z+'[data-target="'+D+'"],'+Z+'[href="'+D+'"]'});K=b["default"]([].slice.call(document.querySelectorAll(K.join(","))));
K.hasClass("dropdown-item")?(K.closest(".dropdown").find(".dropdown-toggle").addClass("active"),K.addClass("active")):(K.addClass("active"),K.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),K.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active"));b["default"](this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:D})};aa._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(D){return D.classList.contains("active")}).forEach(function(D){return D.classList.remove("active")})};
X._jQueryInterface=function(D){return this.each(function(){var K=b["default"](this).data("bs.scrollspy"),Z="object"===typeof D&&D;K||(K=new X(this,Z),b["default"](this).data("bs.scrollspy",K));if("string"===typeof D){if("undefined"===typeof K[D])throw new TypeError('No method named "'+D+'"');K[D]()}})};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return bb}}]);return X}();b["default"](window).on("load.bs.scrollspy.data-api",function(){for(var X=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),
aa=X.length;aa--;){var D=b["default"](X[aa]);ca._jQueryInterface.call(D,D.data())}});b["default"].fn.scrollspy=ca._jQueryInterface;b["default"].fn.scrollspy.Constructor=ca;b["default"].fn.scrollspy.noConflict=function(){b["default"].fn.scrollspy=Ka;return ca._jQueryInterface};var fa=b["default"].fn.tab,ba=function(){function X(D){this._element=D}var aa=X.prototype;aa.show=function(){var D=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&b["default"](this._element).hasClass("active")||
b["default"](this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var K,Z=b["default"](this._element).closest(".nav, .list-group")[0],Aa=h.getSelectorFromElement(this._element);if(Z){var Ra="UL"===Z.nodeName||"OL"===Z.nodeName?"> li > .active":".active";var Va=b["default"].makeArray(b["default"](Z).find(Ra));Va=Va[Va.length-1]}Ra=b["default"].Event("hide.bs.tab",{relatedTarget:this._element});var Eb=b["default"].Event("show.bs.tab",{relatedTarget:Va});Va&&b["default"](Va).trigger(Ra);
b["default"](this._element).trigger(Eb);Eb.isDefaultPrevented()||Ra.isDefaultPrevented()||(Aa&&(K=document.querySelector(Aa)),this._activate(this._element,Z),Z=function(){var P=b["default"].Event("hidden.bs.tab",{relatedTarget:D._element}),Ib=b["default"].Event("shown.bs.tab",{relatedTarget:Va});b["default"](Va).trigger(P);b["default"](D._element).trigger(Ib)},K?this._activate(K,K.parentNode,Z):Z())}};aa.dispose=function(){b["default"].removeData(this._element,"bs.tab");this._element=null};aa._activate=
function(D,K,Z){var Aa=this,Ra=(!K||"UL"!==K.nodeName&&"OL"!==K.nodeName?b["default"](K).children(".active"):b["default"](K).find("> li > .active"))[0],Va=Z&&Ra&&b["default"](Ra).hasClass("fade");K=function(){return Aa._transitionComplete(D,Ra,Z)};Ra&&Va?(Va=h.getTransitionDurationFromElement(Ra),b["default"](Ra).removeClass("show").one(h.TRANSITION_END,K).emulateTransitionEnd(Va)):K()};aa._transitionComplete=function(D,K,Z){if(K){b["default"](K).removeClass("active");var Aa=b["default"](K.parentNode).find("> .dropdown-menu .active")[0];
Aa&&b["default"](Aa).removeClass("active");"tab"===K.getAttribute("role")&&K.setAttribute("aria-selected",!1)}b["default"](D).addClass("active");"tab"===D.getAttribute("role")&&D.setAttribute("aria-selected",!0);h.reflow(D);D.classList.contains("fade")&&D.classList.add("show");(K=D.parentNode)&&"LI"===K.nodeName&&(K=K.parentNode);if(K&&b["default"](K).hasClass("dropdown-menu")){if(K=b["default"](D).closest(".dropdown")[0])K=[].slice.call(K.querySelectorAll(".dropdown-toggle")),b["default"](K).addClass("active");
D.setAttribute("aria-expanded",!0)}Z&&Z()};X._jQueryInterface=function(D){return this.each(function(){var K=b["default"](this),Z=K.data("bs.tab");Z||(Z=new X(this),K.data("bs.tab",Z));if("string"===typeof D){if("undefined"===typeof Z[D])throw new TypeError('No method named "'+D+'"');Z[D]()}})};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}}]);return X}();b["default"](document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(X){X.preventDefault();
ba._jQueryInterface.call(b["default"](this),"show")});b["default"].fn.tab=ba._jQueryInterface;b["default"].fn.tab.Constructor=ba;b["default"].fn.tab.noConflict=function(){b["default"].fn.tab=fa;return ba._jQueryInterface};var va=b["default"].fn.toast,Fa={animation:!0,autohide:!0,delay:500},Ga={animation:"boolean",autohide:"boolean",delay:"number"},na=function(){function X(D,K){this._element=D;this._config=this._getConfig(K);this._timeout=null;this._setListeners()}var aa=X.prototype;aa.show=function(){var D=
this,K=b["default"].Event("show.bs.toast");b["default"](this._element).trigger(K);if(!K.isDefaultPrevented())if(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),K=function(){D._element.classList.remove("showing");D._element.classList.add("show");b["default"](D._element).trigger("shown.bs.toast");D._config.autohide&&(D._timeout=setTimeout(function(){D.hide()},D._config.delay))},this._element.classList.remove("hide"),h.reflow(this._element),this._element.classList.add("showing"),
this._config.animation){var Z=h.getTransitionDurationFromElement(this._element);b["default"](this._element).one(h.TRANSITION_END,K).emulateTransitionEnd(Z)}else K()};aa.hide=function(){if(this._element.classList.contains("show")){var D=b["default"].Event("hide.bs.toast");b["default"](this._element).trigger(D);D.isDefaultPrevented()||this._close()}};aa.dispose=function(){this._clearTimeout();this._element.classList.contains("show")&&this._element.classList.remove("show");b["default"](this._element).off("click.dismiss.bs.toast");
b["default"].removeData(this._element,"bs.toast");this._config=this._element=null};aa._getConfig=function(D){D=x({},Fa,b["default"](this._element).data(),"object"===typeof D&&D?D:{});h.typeCheckConfig("toast",D,this.constructor.DefaultType);return D};aa._setListeners=function(){var D=this;b["default"](this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',function(){return D.hide()})};aa._close=function(){var D=this,K=function(){D._element.classList.add("hide");b["default"](D._element).trigger("hidden.bs.toast")};
this._element.classList.remove("show");if(this._config.animation){var Z=h.getTransitionDurationFromElement(this._element);b["default"](this._element).one(h.TRANSITION_END,K).emulateTransitionEnd(Z)}else K()};aa._clearTimeout=function(){clearTimeout(this._timeout);this._timeout=null};X._jQueryInterface=function(D){return this.each(function(){var K=b["default"](this),Z=K.data("bs.toast"),Aa="object"===typeof D&&D;Z||(Z=new X(this,Aa),K.data("bs.toast",Z));if("string"===typeof D){if("undefined"===typeof Z[D])throw new TypeError('No method named "'+
D+'"');Z[D](this)}})};f(X,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return Ga}},{key:"Default",get:function(){return Fa}}]);return X}();b["default"].fn.toast=na._jQueryInterface;b["default"].fn.toast.Constructor=na;b["default"].fn.toast.noConflict=function(){b["default"].fn.toast=va;return na._jQueryInterface};y.Alert=g;y.Button=u;y.Carousel=O;y.Collapse=J;y.Dropdown=ta;y.Modal=ja;y.Popover=Oa;y.Scrollspy=ca;y.Tab=ba;y.Toast=na;y.Tooltip=Ia;y.Util=h;Object.defineProperty(y,
"__esModule",{value:!0})})},{jquery:297,"popper.js":315}],71:[function(k,L,C){k("../../modules/es.array.fill");k=k("../../internals/entry-unbind");L.exports=k("Array","fill")},{"../../internals/entry-unbind":127,"../../modules/es.array.fill":242}],72:[function(k,L,C){k("../../modules/es.array.iterator");k("../../modules/es.object.to-string");k=k("../../internals/entry-unbind");L.exports=k("Array","values")},{"../../internals/entry-unbind":127,"../../modules/es.array.iterator":243,"../../modules/es.object.to-string":250}],
73:[function(k,L,C){k("../../modules/es.array.iterator");k("../../modules/es.map");k("../../modules/es.object.to-string");k("../../modules/es.string.iterator");k=k("../../internals/path");L.exports=k.Map},{"../../internals/path":200,"../../modules/es.array.iterator":243,"../../modules/es.map":247,"../../modules/es.object.to-string":250,"../../modules/es.string.iterator":265}],74:[function(k,L,C){k("../../modules/es.aggregate-error");k("../../modules/es.array.iterator");k("../../modules/es.object.to-string");
k("../../modules/es.promise");k("../../modules/es.promise.all-settled");k("../../modules/es.promise.any");k("../../modules/es.promise.finally");k("../../modules/es.string.iterator");k=k("../../internals/path");L.exports=k.Promise},{"../../internals/path":200,"../../modules/es.aggregate-error":240,"../../modules/es.array.iterator":243,"../../modules/es.object.to-string":250,"../../modules/es.promise":257,"../../modules/es.promise.all-settled":251,"../../modules/es.promise.any":253,"../../modules/es.promise.finally":256,
"../../modules/es.string.iterator":265}],75:[function(k,L,C){k("../../modules/es.array.iterator");k("../../modules/es.object.to-string");k("../../modules/es.set");k("../../modules/es.string.iterator");k=k("../../internals/path");L.exports=k.Set},{"../../internals/path":200,"../../modules/es.array.iterator":243,"../../modules/es.object.to-string":250,"../../modules/es.set":263,"../../modules/es.string.iterator":265}],76:[function(k,L,C){k("../../modules/es.string.ends-with");k=k("../../internals/entry-unbind");
L.exports=k("String","endsWith")},{"../../internals/entry-unbind":127,"../../modules/es.string.ends-with":264}],77:[function(k,L,C){k("../../modules/es.array.concat");k("../../modules/es.object.to-string");k("../../modules/es.symbol");k("../../modules/es.symbol.async-iterator");k("../../modules/es.symbol.description");k("../../modules/es.symbol.has-instance");k("../../modules/es.symbol.is-concat-spreadable");k("../../modules/es.symbol.iterator");k("../../modules/es.symbol.match");k("../../modules/es.symbol.match-all");
k("../../modules/es.symbol.replace");k("../../modules/es.symbol.search");k("../../modules/es.symbol.species");k("../../modules/es.symbol.split");k("../../modules/es.symbol.to-primitive");k("../../modules/es.symbol.to-string-tag");k("../../modules/es.symbol.unscopables");k("../../modules/es.json.to-string-tag");k("../../modules/es.math.to-string-tag");k("../../modules/es.reflect.to-string-tag");k=k("../../internals/path");L.exports=k.Symbol},{"../../internals/path":200,"../../modules/es.array.concat":241,
"../../modules/es.json.to-string-tag":245,"../../modules/es.math.to-string-tag":248,"../../modules/es.object.to-string":250,"../../modules/es.reflect.to-string-tag":261,"../../modules/es.symbol":273,"../../modules/es.symbol.async-iterator":266,"../../modules/es.symbol.description":268,"../../modules/es.symbol.has-instance":270,"../../modules/es.symbol.is-concat-spreadable":271,"../../modules/es.symbol.iterator":272,"../../modules/es.symbol.match":276,"../../modules/es.symbol.match-all":275,"../../modules/es.symbol.replace":277,
"../../modules/es.symbol.search":278,"../../modules/es.symbol.species":279,"../../modules/es.symbol.split":280,"../../modules/es.symbol.to-primitive":281,"../../modules/es.symbol.to-string-tag":282,"../../modules/es.symbol.unscopables":283}],78:[function(k,L,C){k("../../modules/es.typed-array.fill")},{"../../modules/es.typed-array.fill":284}],79:[function(k,L,C){k("../../modules/es.typed-array.slice")},{"../../modules/es.typed-array.slice":285}],80:[function(k,L,C){var y=k("../internals/is-callable"),
l=k("../internals/try-to-string"),v=TypeError;L.exports=function(E){if(y(E))return E;throw new v(l(E)+" is not a function");}},{"../internals/is-callable":162,"../internals/try-to-string":229}],81:[function(k,L,C){var y=k("../internals/is-constructor"),l=k("../internals/try-to-string"),v=TypeError;L.exports=function(E){if(y(E))return E;throw new v(l(E)+" is not a constructor");}},{"../internals/is-constructor":163,"../internals/try-to-string":229}],82:[function(k,L,C){var y=k("../internals/is-callable"),
l=String,v=TypeError;L.exports=function(E){if("object"==typeof E||y(E))return E;throw new v("Can't set "+l(E)+" as a prototype");}},{"../internals/is-callable":162}],83:[function(k,L,C){C=k("../internals/well-known-symbol");var y=k("../internals/object-create");k=k("../internals/object-define-property").f;var l=C("unscopables"),v=Array.prototype;void 0===v[l]&&k(v,l,{configurable:!0,value:y(null)});L.exports=function(E){v[l][E]=!0}},{"../internals/object-create":183,"../internals/object-define-property":185,
"../internals/well-known-symbol":238}],84:[function(k,L,C){var y=k("../internals/object-is-prototype-of"),l=TypeError;L.exports=function(v,E){if(y(E,v))return v;throw new l("Incorrect invocation");}},{"../internals/object-is-prototype-of":192}],85:[function(k,L,C){var y=k("../internals/is-object"),l=String,v=TypeError;L.exports=function(E){if(y(E))return E;throw new v(l(E)+" is not an object");}},{"../internals/is-object":166}],86:[function(k,L,C){L.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=
typeof DataView},{}],87:[function(k,L,C){k=k("../internals/fails");L.exports=k(function(){if("function"==typeof ArrayBuffer){var y=new ArrayBuffer(8);Object.isExtensible(y)&&Object.defineProperty(y,"a",{value:8})}})},{"../internals/fails":133}],88:[function(k,L,C){var y=k("../internals/array-buffer-basic-detection"),l=k("../internals/descriptors"),v=k("../internals/global"),E=k("../internals/is-callable"),c=k("../internals/is-object"),f=k("../internals/has-own-property"),x=k("../internals/classof"),
a=k("../internals/try-to-string");C=k("../internals/create-non-enumerable-property");var m=k("../internals/define-built-in"),r=k("../internals/define-built-in-accessor"),t=k("../internals/object-is-prototype-of"),b=k("../internals/object-get-prototype-of"),e=k("../internals/object-set-prototype-of"),h=k("../internals/well-known-symbol"),n=k("../internals/uid"),g=k("../internals/internal-state");k=g.enforce;var p=g.get,u=v.Int8Array,A=u&&u.prototype;g=(g=v.Uint8ClampedArray)&&g.prototype;var F=u&&
b(u),w=A&&b(A);u=Object.prototype;var I=v.TypeError;h=h("toStringTag");var O=n("TYPED_ARRAY_TAG"),z=y&&!!e&&"Opera"!==x(v.opera);y=!1;var G,H,J={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},S=function(da){da=b(da);if(c(da)){var ta=p(da);return ta&&f(ta,"TypedArrayConstructor")?ta.TypedArrayConstructor:S(da)}},ia=function(da){if(!c(da))return!1;da=x(da);return f(J,da)||f(N,da)};
for(G in J)(H=(n=v[G])&&n.prototype)?k(H).TypedArrayConstructor=n:z=!1;for(G in N)(H=(n=v[G])&&n.prototype)&&(k(H).TypedArrayConstructor=n);if(!z||!E(F)||F===Function.prototype)if(F=function(){throw new I("Incorrect invocation");},z)for(G in J)v[G]&&e(v[G],F);if(!z||!w||w===u)if(w=F.prototype,z)for(G in J)v[G]&&e(v[G].prototype,w);z&&b(g)!==w&&e(g,w);if(l&&!f(w,h))for(G in y=!0,r(w,h,{configurable:!0,get:function(){return c(this)?this[O]:void 0}}),J)v[G]&&C(v[G],O,G);L.exports={NATIVE_ARRAY_BUFFER_VIEWS:z,
TYPED_ARRAY_TAG:y&&O,aTypedArray:function(da){if(ia(da))return da;throw new I("Target is not a typed array");},aTypedArrayConstructor:function(da){if(E(da)&&(!e||t(F,da)))return da;throw new I(a(da)+" is not a typed array constructor");},exportTypedArrayMethod:function(da,ta,oa,R){if(l){if(oa)for(var pa in J){var ja=v[pa];if(ja&&f(ja.prototype,da))try{delete ja.prototype[da]}catch(za){try{ja.prototype[da]=ta}catch(ua){}}}w[da]&&!oa||m(w,da,oa?ta:z&&A[da]||ta,R)}},exportTypedArrayStaticMethod:function(da,
ta,oa){var R,pa;if(l){if(e){if(oa)for(R in J)if((pa=v[R])&&f(pa,da))try{delete pa[da]}catch(ja){}if(!F[da]||oa)try{return m(F,da,oa?ta:z&&F[da]||ta)}catch(ja){}else return}for(R in J)pa=v[R],!pa||pa[da]&&!oa||m(pa,da,ta)}},getTypedArrayConstructor:S,isView:function(da){if(!c(da))return!1;da=x(da);return"DataView"===da||f(J,da)||f(N,da)},isTypedArray:ia,TypedArray:F,TypedArrayPrototype:w}},{"../internals/array-buffer-basic-detection":86,"../internals/classof":99,"../internals/create-non-enumerable-property":106,
"../internals/define-built-in":110,"../internals/define-built-in-accessor":109,"../internals/descriptors":113,"../internals/global":148,"../internals/has-own-property":149,"../internals/internal-state":159,"../internals/is-callable":162,"../internals/is-object":166,"../internals/object-get-prototype-of":190,"../internals/object-is-prototype-of":192,"../internals/object-set-prototype-of":196,"../internals/try-to-string":229,"../internals/uid":231,"../internals/well-known-symbol":238}],89:[function(k,
L,C){var y=k("../internals/to-object"),l=k("../internals/to-absolute-index"),v=k("../internals/length-of-array-like");L.exports=function(E){var c=y(this),f=v(c),x=arguments.length,a=l(1<x?arguments[1]:void 0,f);x=2<x?arguments[2]:void 0;for(f=void 0===x?f:l(x,f);f>a;)c[a++]=E;return c}},{"../internals/length-of-array-like":176,"../internals/to-absolute-index":219,"../internals/to-object":224}],90:[function(k,L,C){var y=k("../internals/to-indexed-object"),l=k("../internals/to-absolute-index"),v=k("../internals/length-of-array-like");
k=function(E){return function(c,f,x){c=y(c);var a=v(c);x=l(x,a);if(E&&f!==f)for(;a>x;){if(f=c[x++],f!==f)return!0}else for(;a>x;x++)if((E||x in c)&&c[x]===f)return E||x||0;return!E&&-1}};L.exports={includes:k(!0),indexOf:k(!1)}},{"../internals/length-of-array-like":176,"../internals/to-absolute-index":219,"../internals/to-indexed-object":221}],91:[function(k,L,C){var y=k("../internals/function-bind-context");C=k("../internals/function-uncurry-this");var l=k("../internals/indexed-object"),v=k("../internals/to-object"),
E=k("../internals/length-of-array-like"),c=k("../internals/array-species-create"),f=C([].push);k=function(x){var a=1===x,m=2===x,r=3===x,t=4===x,b=6===x,e=7===x,h=5===x||b;return function(n,g,p,u){var A=v(n),F=l(A);g=y(g,p);p=E(F);var w=0;u=u||c;n=a?u(n,p):m||e?u(n,0):void 0;for(var I;p>w;w++)if(h||w in F)if(u=F[w],I=g(u,w,A),x)if(a)n[w]=I;else if(I)switch(x){case 3:return!0;case 5:return u;case 6:return w;case 2:f(n,u)}else switch(x){case 4:return!1;case 7:f(n,u)}return b?-1:r||t?t:n}};L.exports=
{forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},{"../internals/array-species-create":96,"../internals/function-bind-context":136,"../internals/function-uncurry-this":142,"../internals/indexed-object":154,"../internals/length-of-array-like":176,"../internals/to-object":224}],92:[function(k,L,C){var y=k("../internals/fails");C=k("../internals/well-known-symbol");var l=k("../internals/engine-v8-version"),v=C("species");L.exports=function(E){return 51<=
l||!y(function(){var c=[];(c.constructor={})[v]=function(){return{foo:1}};return 1!==c[E](Boolean).foo})}},{"../internals/engine-v8-version":126,"../internals/fails":133,"../internals/well-known-symbol":238}],93:[function(k,L,C){var y=k("../internals/to-absolute-index"),l=k("../internals/length-of-array-like"),v=k("../internals/create-property"),E=Array,c=Math.max;L.exports=function(f,x,a){var m=l(f);x=y(x,m);a=y(void 0===a?m:a,m);m=E(c(a-x,0));for(var r=0;x<a;x++,r++)v(m,r,f[x]);m.length=r;return m}},
{"../internals/create-property":108,"../internals/length-of-array-like":176,"../internals/to-absolute-index":219}],94:[function(k,L,C){k=k("../internals/function-uncurry-this");L.exports=k([].slice)},{"../internals/function-uncurry-this":142}],95:[function(k,L,C){var y=k("../internals/is-array"),l=k("../internals/is-constructor"),v=k("../internals/is-object"),E=k("../internals/well-known-symbol")("species"),c=Array;L.exports=function(f){if(y(f)){var x=f.constructor;l(x)&&(x===c||y(x.prototype))?x=
void 0:v(x)&&(x=x[E],null===x&&(x=void 0))}return void 0===x?c:x}},{"../internals/is-array":161,"../internals/is-constructor":163,"../internals/is-object":166,"../internals/well-known-symbol":238}],96:[function(k,L,C){var y=k("../internals/array-species-constructor");L.exports=function(l,v){return new (y(l))(0===v?0:v)}},{"../internals/array-species-constructor":95}],97:[function(k,L,C){var y=k("../internals/well-known-symbol")("iterator"),l=!1;try{var v=0;k={next:function(){return{done:!!v++}},"return":function(){l=
!0}};k[y]=function(){return this};Array.from(k,function(){throw 2;})}catch(E){}L.exports=function(E,c){if(!c&&!l)return!1;var f=!1;try{c={},c[y]=function(){return{next:function(){return{done:f=!0}}}},E(c)}catch(x){}return f}},{"../internals/well-known-symbol":238}],98:[function(k,L,C){k=k("../internals/function-uncurry-this");var y=k({}.toString),l=k("".slice);L.exports=function(v){return l(y(v),8,-1)}},{"../internals/function-uncurry-this":142}],99:[function(k,L,C){C=k("../internals/to-string-tag-support");
var y=k("../internals/is-callable"),l=k("../internals/classof-raw"),v=k("../internals/well-known-symbol")("toStringTag"),E=Object,c="Arguments"===l(function(){return arguments}());L.exports=C?l:function(f){var x;if(void 0===f)var a="Undefined";else{if(null===f)var m="Null";else{a:{var r=f=E(f);try{m=r[v];break a}catch(t){}m=void 0}m="string"==typeof(a=m)?a:c?l(f):"Object"===(x=l(f))&&y(f.callee)?"Arguments":x}a=m}return a}},{"../internals/classof-raw":98,"../internals/is-callable":162,"../internals/to-string-tag-support":227,
"../internals/well-known-symbol":238}],100:[function(k,L,C){var y=k("../internals/object-create"),l=k("../internals/define-built-in-accessor"),v=k("../internals/define-built-ins"),E=k("../internals/function-bind-context"),c=k("../internals/an-instance"),f=k("../internals/is-null-or-undefined"),x=k("../internals/iterate"),a=k("../internals/iterator-define"),m=k("../internals/create-iter-result-object"),r=k("../internals/set-species"),t=k("../internals/descriptors"),b=k("../internals/internal-metadata").fastKey;
k=k("../internals/internal-state");var e=k.set,h=k.getterFor;L.exports={getConstructor:function(n,g,p,u){n=n(function(O,z){c(O,A);e(O,{type:g,index:y(null),first:void 0,last:void 0,size:0});t||(O.size=0);f(z)||x(z,O[u],{that:O,AS_ENTRIES:p})});var A=n.prototype,F=h(g),w=function(O,z,G){var H=F(O),J=I(O,z),N,S;J?J.value=G:(H.last=J={index:S=b(z,!0),key:z,value:G,previous:N=H.last,next:void 0,removed:!1},H.first||(H.first=J),N&&(N.next=J),t?H.size++:O.size++,"F"!==S&&(H.index[S]=J));return O},I=function(O,
z){O=F(O);var G=b(z);if("F"!==G)return O.index[G];for(O=O.first;O;O=O.next)if(O.key===z)return O};v(A,{clear:function(){for(var O=F(this),z=O.index,G=O.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete z[G.index],G=G.next;O.first=O.last=void 0;t?O.size=0:this.size=0},"delete":function(O){var z=F(this);if(O=I(this,O)){var G=O.next,H=O.previous;delete z.index[O.index];O.removed=!0;H&&(H.next=G);G&&(G.previous=H);z.first===O&&(z.first=G);z.last===O&&(z.last=H);t?z.size--:this.size--}return!!O},
forEach:function(O){for(var z=F(this),G=E(O,1<arguments.length?arguments[1]:void 0),H;H=H?H.next:z.first;)for(G(H.value,H.key,this);H&&H.removed;)H=H.previous},has:function(O){return!!I(this,O)}});v(A,p?{get:function(O){return(O=I(this,O))&&O.value},set:function(O,z){return w(this,0===O?0:O,z)}}:{add:function(O){return w(this,O=0===O?0:O,O)}});t&&l(A,"size",{configurable:!0,get:function(){return F(this).size}});return n},setStrong:function(n,g,p){var u=g+" Iterator",A=h(g),F=h(u);a(n,g,function(w,
I){e(this,{type:u,target:w,state:A(w),kind:I,last:void 0})},function(){for(var w=F(this),I=w.kind,O=w.last;O&&O.removed;)O=O.previous;return w.target&&(w.last=O=O?O.next:w.state.first)?"keys"===I?m(O.key,!1):"values"===I?m(O.value,!1):m([O.key,O.value],!1):(w.target=void 0,m(void 0,!0))},p?"entries":"values",!p,!0);r(g)}}},{"../internals/an-instance":84,"../internals/create-iter-result-object":105,"../internals/define-built-in-accessor":109,"../internals/define-built-ins":111,"../internals/descriptors":113,
"../internals/function-bind-context":136,"../internals/internal-metadata":158,"../internals/internal-state":159,"../internals/is-null-or-undefined":165,"../internals/iterate":170,"../internals/iterator-define":173,"../internals/object-create":183,"../internals/set-species":208}],101:[function(k,L,C){var y=k("../internals/export"),l=k("../internals/global"),v=k("../internals/function-uncurry-this"),E=k("../internals/is-forced"),c=k("../internals/define-built-in"),f=k("../internals/internal-metadata"),
x=k("../internals/iterate"),a=k("../internals/an-instance"),m=k("../internals/is-callable"),r=k("../internals/is-null-or-undefined"),t=k("../internals/is-object"),b=k("../internals/fails"),e=k("../internals/check-correctness-of-iteration"),h=k("../internals/set-to-string-tag"),n=k("../internals/inherit-if-required");L.exports=function(g,p,u){var A=-1!==g.indexOf("Map"),F=-1!==g.indexOf("Weak"),w=A?"set":"add",I=l[g],O=I&&I.prototype,z=I,G={},H=function(ta){var oa=v(O[ta]);c(O,ta,"add"===ta?function(R){oa(this,
0===R?0:R);return this}:"delete"===ta?function(R){return F&&!t(R)?!1:oa(this,0===R?0:R)}:"get"===ta?function(R){return F&&!t(R)?void 0:oa(this,0===R?0:R)}:"has"===ta?function(R){return F&&!t(R)?!1:oa(this,0===R?0:R)}:function(R,pa){oa(this,0===R?0:R,pa);return this})};if(E(g,!m(I)||!(F||O.forEach&&!b(function(){(new I).entries().next()}))))z=u.getConstructor(p,g,A,w),f.enable();else if(E(g,!0)){var J=new z,N=J[w](F?{}:-0,1)!==J,S=b(function(){J.has(1)}),ia=e(function(ta){new I(ta)}),da=!F&&b(function(){for(var ta=
new I,oa=5;oa--;)ta[w](oa,oa);return!ta.has(-0)});ia||(z=p(function(ta,oa){a(ta,O);ta=n(new I,ta,z);r(oa)||x(oa,ta[w],{that:ta,AS_ENTRIES:A});return ta}),z.prototype=O,O.constructor=z);if(S||da)H("delete"),H("has"),A&&H("get");(da||N)&&H(w);F&&O.clear&&delete O.clear}G[g]=z;y({global:!0,constructor:!0,forced:z!==I},G);h(z,g);F||u.setStrong(z,g,A);return z}},{"../internals/an-instance":84,"../internals/check-correctness-of-iteration":97,"../internals/define-built-in":110,"../internals/export":132,
"../internals/fails":133,"../internals/function-uncurry-this":142,"../internals/global":148,"../internals/inherit-if-required":155,"../internals/internal-metadata":158,"../internals/is-callable":162,"../internals/is-forced":164,"../internals/is-null-or-undefined":165,"../internals/is-object":166,"../internals/iterate":170,"../internals/set-to-string-tag":209}],102:[function(k,L,C){var y=k("../internals/has-own-property"),l=k("../internals/own-keys"),v=k("../internals/object-get-own-property-descriptor"),
E=k("../internals/object-define-property");L.exports=function(c,f,x){for(var a=l(f),m=E.f,r=v.f,t=0;t<a.length;t++){var b=a[t];y(c,b)||x&&y(x,b)||m(c,b,r(f,b))}}},{"../internals/has-own-property":149,"../internals/object-define-property":185,"../internals/object-get-own-property-descriptor":186,"../internals/own-keys":199}],103:[function(k,L,C){var y=k("../internals/well-known-symbol")("match");L.exports=function(l){var v=/./;try{"/./"[l](v)}catch(E){try{return v[y]=!1,"/./"[l](v)}catch(c){}}return!1}},
{"../internals/well-known-symbol":238}],104:[function(k,L,C){k=k("../internals/fails");L.exports=!k(function(){function y(){}y.prototype.constructor=null;return Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":133}],105:[function(k,L,C){L.exports=function(y,l){return{value:y,done:l}}},{}],106:[function(k,L,C){C=k("../internals/descriptors");var y=k("../internals/object-define-property"),l=k("../internals/create-property-descriptor");L.exports=C?function(v,E,c){return y.f(v,E,l(1,
c))}:function(v,E,c){v[E]=c;return v}},{"../internals/create-property-descriptor":107,"../internals/descriptors":113,"../internals/object-define-property":185}],107:[function(k,L,C){L.exports=function(y,l){return{enumerable:!(y&1),configurable:!(y&2),writable:!(y&4),value:l}}},{}],108:[function(k,L,C){var y=k("../internals/to-property-key"),l=k("../internals/object-define-property"),v=k("../internals/create-property-descriptor");L.exports=function(E,c,f){c=y(c);c in E?l.f(E,c,v(0,f)):E[c]=f}},{"../internals/create-property-descriptor":107,
"../internals/object-define-property":185,"../internals/to-property-key":226}],109:[function(k,L,C){var y=k("../internals/make-built-in"),l=k("../internals/object-define-property");L.exports=function(v,E,c){c.get&&y(c.get,E,{getter:!0});c.set&&y(c.set,E,{setter:!0});return l.f(v,E,c)}},{"../internals/make-built-in":177,"../internals/object-define-property":185}],110:[function(k,L,C){var y=k("../internals/is-callable"),l=k("../internals/object-define-property"),v=k("../internals/make-built-in"),E=
k("../internals/define-global-property");L.exports=function(c,f,x,a){a||={};var m=a.enumerable,r=void 0!==a.name?a.name:f;y(x)&&v(x,r,a);if(a.global)m?c[f]=x:E(f,x);else{try{a.unsafe?c[f]&&(m=!0):delete c[f]}catch(t){}m?c[f]=x:l.f(c,f,{value:x,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return c}},{"../internals/define-global-property":112,"../internals/is-callable":162,"../internals/make-built-in":177,"../internals/object-define-property":185}],111:[function(k,L,C){var y=
k("../internals/define-built-in");L.exports=function(l,v,E){for(var c in v)y(l,c,v[c],E);return l}},{"../internals/define-built-in":110}],112:[function(k,L,C){var y=k("../internals/global"),l=Object.defineProperty;L.exports=function(v,E){try{l(y,v,{value:E,configurable:!0,writable:!0})}catch(c){y[v]=E}return E}},{"../internals/global":148}],113:[function(k,L,C){k=k("../internals/fails");L.exports=!k(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":133}],
114:[function(k,L,C){k="object"==typeof document&&document.all;L.exports={all:k,IS_HTMLDDA:"undefined"==typeof k&&void 0!==k}},{}],115:[function(k,L,C){C=k("../internals/global");k=k("../internals/is-object");var y=C.document,l=k(y)&&k(y.createElement);L.exports=function(v){return l?y.createElement(v):{}}},{"../internals/global":148,"../internals/is-object":166}],116:[function(k,L,C){var y=TypeError;L.exports=function(l){if(9007199254740991<l)throw y("Maximum allowed index exceeded");return l}},{}],
117:[function(k,L,C){L.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,
TextTrackList:0,TouchList:0}},{}],118:[function(k,L,C){k=(k=k("../internals/document-create-element")("span").classList)&&k.constructor&&k.constructor.prototype;L.exports=k===Object.prototype?void 0:k},{"../internals/document-create-element":115}],119:[function(k,L,C){C=k("../internals/engine-is-deno");k=k("../internals/engine-is-node");L.exports=!C&&!k&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":120,"../internals/engine-is-node":123}],120:[function(k,L,C){L.exports=
"object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],121:[function(k,L,C){k=k("../internals/engine-user-agent");L.exports=/ipad|iphone|ipod/i.test(k)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":125}],122:[function(k,L,C){k=k("../internals/engine-user-agent");L.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(k)},{"../internals/engine-user-agent":125}],123:[function(k,L,C){C=k("../internals/global");k=k("../internals/classof-raw");L.exports="process"===k(C.process)},
{"../internals/classof-raw":98,"../internals/global":148}],124:[function(k,L,C){k=k("../internals/engine-user-agent");L.exports=/web0s(?!.*chrome)/i.test(k)},{"../internals/engine-user-agent":125}],125:[function(k,L,C){L.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},{}],126:[function(k,L,C){C=k("../internals/global");k=k("../internals/engine-user-agent");var y=C.process;C=C.Deno;C=(C=y&&y.versions||C&&C.version)&&C.v8;if(C){C=C.split(".");var l=0<C[0]&&4>C[0]?1:+(C[0]+C[1])}!l&&
k&&(C=k.match(/Edge\/(\d+)/),(!C||74<=C[1])&&(C=k.match(/Chrome\/(\d+)/))&&(l=+C[1]));L.exports=l},{"../internals/engine-user-agent":125,"../internals/global":148}],127:[function(k,L,C){var y=k("../internals/global"),l=k("../internals/function-uncurry-this");L.exports=function(v,E){return l(y[v].prototype[E])}},{"../internals/function-uncurry-this":142,"../internals/global":148}],128:[function(k,L,C){L.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},
{}],129:[function(k,L,C){k=k("../internals/function-uncurry-this");var y=Error,l=k("".replace);k=String((new y("zxcasd")).stack);var v=/\n\s*at [^:]*:[^\n]*/,E=v.test(k);L.exports=function(c,f){if(E&&"string"==typeof c&&!y.prepareStackTrace)for(;f--;)c=l(c,v,"");return c}},{"../internals/function-uncurry-this":142}],130:[function(k,L,C){var y=k("../internals/create-non-enumerable-property"),l=k("../internals/error-stack-clear"),v=k("../internals/error-stack-installable"),E=Error.captureStackTrace;
L.exports=function(c,f,x,a){v&&(E?E(c,f):y(c,"stack",l(x,a)))}},{"../internals/create-non-enumerable-property":106,"../internals/error-stack-clear":129,"../internals/error-stack-installable":131}],131:[function(k,L,C){C=k("../internals/fails");var y=k("../internals/create-property-descriptor");L.exports=!C(function(){var l=Error("a");if(!("stack"in l))return!0;Object.defineProperty(l,"stack",y(1,7));return 7!==l.stack})},{"../internals/create-property-descriptor":107,"../internals/fails":133}],132:[function(k,
L,C){var y=k("../internals/global"),l=k("../internals/object-get-own-property-descriptor").f,v=k("../internals/create-non-enumerable-property"),E=k("../internals/define-built-in"),c=k("../internals/define-global-property"),f=k("../internals/copy-constructor-properties"),x=k("../internals/is-forced");L.exports=function(a,m){var r=a.target,t=a.global,b=a.stat,e,h,n;if(h=t?y:b?y[r]||c(r,{}):(y[r]||{}).prototype)for(n in m){var g=m[n];var p=a.dontCallGetSet?(e=l(h,n))&&e.value:h[n];e=x(t?n:r+(b?".":"#")+
n,a.forced);if(!e&&void 0!==p){if(typeof g==typeof p)continue;f(g,p)}(a.sham||p&&p.sham)&&v(g,"sham",!0);E(h,n,g,a)}}},{"../internals/copy-constructor-properties":102,"../internals/create-non-enumerable-property":106,"../internals/define-built-in":110,"../internals/define-global-property":112,"../internals/global":148,"../internals/is-forced":164,"../internals/object-get-own-property-descriptor":186}],133:[function(k,L,C){L.exports=function(y){try{return!!y()}catch(l){return!0}}},{}],134:[function(k,
L,C){k=k("../internals/fails");L.exports=!k(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":133}],135:[function(k,L,C){k=k("../internals/function-bind-native");C=Function.prototype;var y=C.apply,l=C.call;L.exports="object"==typeof Reflect&&Reflect.apply||(k?l.bind(y):function(){return l.apply(y,arguments)})},{"../internals/function-bind-native":137}],136:[function(k,L,C){C=k("../internals/function-uncurry-this-clause");var y=k("../internals/a-callable"),
l=k("../internals/function-bind-native"),v=C(C.bind);L.exports=function(E,c){y(E);return void 0===c?E:l?v(E,c):function(){return E.apply(c,arguments)}}},{"../internals/a-callable":80,"../internals/function-bind-native":137,"../internals/function-uncurry-this-clause":141}],137:[function(k,L,C){k=k("../internals/fails");L.exports=!k(function(){var y=function(){}.bind();return"function"!=typeof y||y.hasOwnProperty("prototype")})},{"../internals/fails":133}],138:[function(k,L,C){k=k("../internals/function-bind-native");
var y=Function.prototype.call;L.exports=k?y.bind(y):function(){return y.apply(y,arguments)}},{"../internals/function-bind-native":137}],139:[function(k,L,C){C=k("../internals/descriptors");var y=k("../internals/has-own-property");k=Function.prototype;var l=C&&Object.getOwnPropertyDescriptor,v=(y=y(k,"name"))&&"something"===function(){}.name;C=y&&(!C||C&&l(k,"name").configurable);L.exports={EXISTS:y,PROPER:v,CONFIGURABLE:C}},{"../internals/descriptors":113,"../internals/has-own-property":149}],140:[function(k,
L,C){var y=k("../internals/function-uncurry-this"),l=k("../internals/a-callable");L.exports=function(v,E,c){try{return y(l(Object.getOwnPropertyDescriptor(v,E)[c]))}catch(f){}}},{"../internals/a-callable":80,"../internals/function-uncurry-this":142}],141:[function(k,L,C){var y=k("../internals/classof-raw"),l=k("../internals/function-uncurry-this");L.exports=function(v){if("Function"===y(v))return l(v)}},{"../internals/classof-raw":98,"../internals/function-uncurry-this":142}],142:[function(k,L,C){k=
k("../internals/function-bind-native");C=Function.prototype;var y=C.call;C=k&&C.bind.bind(y,y);L.exports=k?C:function(l){return function(){return y.apply(l,arguments)}}},{"../internals/function-bind-native":137}],143:[function(k,L,C){var y=k("../internals/global"),l=k("../internals/is-callable");L.exports=function(v,E){if(2>arguments.length){var c=y[v];c=l(c)?c:void 0}else c=y[v]&&y[v][E];return c}},{"../internals/global":148,"../internals/is-callable":162}],144:[function(k,L,C){var y=k("../internals/classof"),
l=k("../internals/get-method"),v=k("../internals/is-null-or-undefined"),E=k("../internals/iterators"),c=k("../internals/well-known-symbol")("iterator");L.exports=function(f){if(!v(f))return l(f,c)||l(f,"@@iterator")||E[y(f)]}},{"../internals/classof":99,"../internals/get-method":147,"../internals/is-null-or-undefined":165,"../internals/iterators":175,"../internals/well-known-symbol":238}],145:[function(k,L,C){var y=k("../internals/function-call"),l=k("../internals/a-callable"),v=k("../internals/an-object"),
E=k("../internals/try-to-string"),c=k("../internals/get-iterator-method"),f=TypeError;L.exports=function(x,a){var m=2>arguments.length?c(x):a;if(l(m))return v(y(m,x));throw new f(E(x)+" is not iterable");}},{"../internals/a-callable":80,"../internals/an-object":85,"../internals/function-call":138,"../internals/get-iterator-method":144,"../internals/try-to-string":229}],146:[function(k,L,C){C=k("../internals/function-uncurry-this");var y=k("../internals/is-array"),l=k("../internals/is-callable"),v=
k("../internals/classof-raw"),E=k("../internals/to-string"),c=C([].push);L.exports=function(f){if(l(f))return f;if(y(f)){for(var x=f.length,a=[],m=0;m<x;m++){var r=f[m];"string"==typeof r?c(a,r):("number"==typeof r||"Number"===v(r)||"String"===v(r))&&c(a,E(r))}var t=a.length,b=!0;return function(e,h){if(b)return b=!1,h;if(y(this))return h;for(var n=0;n<t;n++)if(a[n]===e)return h}}}},{"../internals/classof-raw":98,"../internals/function-uncurry-this":142,"../internals/is-array":161,"../internals/is-callable":162,
"../internals/to-string":228}],147:[function(k,L,C){var y=k("../internals/a-callable"),l=k("../internals/is-null-or-undefined");L.exports=function(v,E){v=v[E];return l(v)?void 0:y(v)}},{"../internals/a-callable":80,"../internals/is-null-or-undefined":165}],148:[function(k,L,C){(function(y){(function(){var l=function(v){return v&&v.Math===Math&&v};L.exports=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof y&&y)||function(){return this}()||
this||Function("return this")()}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],149:[function(k,L,C){C=k("../internals/function-uncurry-this");var y=k("../internals/to-object"),l=C({}.hasOwnProperty);L.exports=Object.hasOwn||function(v,E){return l(y(v),E)}},{"../internals/function-uncurry-this":142,"../internals/to-object":224}],150:[function(k,L,C){L.exports={}},{}],151:[function(k,L,C){L.exports=function(y,l){try{1===
arguments.length?console.error(y):console.error(y,l)}catch(v){}}},{}],152:[function(k,L,C){k=k("../internals/get-built-in");L.exports=k("document","documentElement")},{"../internals/get-built-in":143}],153:[function(k,L,C){C=k("../internals/descriptors");var y=k("../internals/fails"),l=k("../internals/document-create-element");L.exports=!C&&!y(function(){return 7!==Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":113,"../internals/document-create-element":115,
"../internals/fails":133}],154:[function(k,L,C){C=k("../internals/function-uncurry-this");var y=k("../internals/fails"),l=k("../internals/classof-raw"),v=Object,E=C("".split);L.exports=y(function(){return!v("z").propertyIsEnumerable(0)})?function(c){return"String"===l(c)?E(c,""):v(c)}:v},{"../internals/classof-raw":98,"../internals/fails":133,"../internals/function-uncurry-this":142}],155:[function(k,L,C){var y=k("../internals/is-callable"),l=k("../internals/is-object"),v=k("../internals/object-set-prototype-of");
L.exports=function(E,c,f){var x,a;v&&y(x=c.constructor)&&x!==f&&l(a=x.prototype)&&a!==f.prototype&&v(E,a);return E}},{"../internals/is-callable":162,"../internals/is-object":166,"../internals/object-set-prototype-of":196}],156:[function(k,L,C){C=k("../internals/function-uncurry-this");var y=k("../internals/is-callable");k=k("../internals/shared-store");var l=C(Function.toString);y(k.inspectSource)||(k.inspectSource=function(v){return l(v)});L.exports=k.inspectSource},{"../internals/function-uncurry-this":142,
"../internals/is-callable":162,"../internals/shared-store":211}],157:[function(k,L,C){var y=k("../internals/is-object"),l=k("../internals/create-non-enumerable-property");L.exports=function(v,E){y(E)&&"cause"in E&&l(v,"cause",E.cause)}},{"../internals/create-non-enumerable-property":106,"../internals/is-object":166}],158:[function(k,L,C){var y=k("../internals/export"),l=k("../internals/function-uncurry-this");C=k("../internals/hidden-keys");var v=k("../internals/is-object"),E=k("../internals/has-own-property"),
c=k("../internals/object-define-property").f,f=k("../internals/object-get-own-property-names"),x=k("../internals/object-get-own-property-names-external"),a=k("../internals/object-is-extensible"),m=k("../internals/uid"),r=k("../internals/freezing"),t=!1,b=m("meta"),e=0,h=function(g){c(g,b,{value:{objectID:"O"+e++,weakData:{}}})},n=L.exports={enable:function(){n.enable=function(){};t=!0;var g=f.f,p=l([].splice),u={};u[b]=1;g(u).length&&(f.f=function(A){A=g(A);for(var F=0,w=A.length;F<w;F++)if(A[F]===
b){p(A,F,1);break}return A},y({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:x.f}))},fastKey:function(g,p){if(!v(g))return"symbol"==typeof g?g:("string"==typeof g?"S":"P")+g;if(!E(g,b)){if(!a(g))return"F";if(!p)return"E";h(g)}return g[b].objectID},getWeakData:function(g,p){if(!E(g,b)){if(!a(g))return!0;if(!p)return!1;h(g)}return g[b].weakData},onFreeze:function(g){r&&t&&a(g)&&!E(g,b)&&h(g);return g}};C[b]=!0},{"../internals/export":132,"../internals/freezing":134,"../internals/function-uncurry-this":142,
"../internals/has-own-property":149,"../internals/hidden-keys":150,"../internals/is-object":166,"../internals/object-define-property":185,"../internals/object-get-own-property-names":188,"../internals/object-get-own-property-names-external":187,"../internals/object-is-extensible":191,"../internals/uid":231}],159:[function(k,L,C){C=k("../internals/weak-map-basic-detection");var y=k("../internals/global"),l=k("../internals/is-object"),v=k("../internals/create-non-enumerable-property"),E=k("../internals/has-own-property"),
c=k("../internals/shared-store"),f=k("../internals/shared-key");k=k("../internals/hidden-keys");var x=y.TypeError;y=y.WeakMap;if(C||c.state){var a=c.state||(c.state=new y);a.get=a.get;a.has=a.has;a.set=a.set;var m=function(e,h){if(a.has(e))throw new x("Object already initialized");h.facade=e;a.set(e,h);return h};var r=function(e){return a.get(e)||{}};var t=function(e){return a.has(e)}}else{var b=f("state");k[b]=!0;m=function(e,h){if(E(e,b))throw new x("Object already initialized");h.facade=e;v(e,
b,h);return h};r=function(e){return E(e,b)?e[b]:{}};t=function(e){return E(e,b)}}L.exports={set:m,get:r,has:t,enforce:function(e){return t(e)?r(e):m(e,{})},getterFor:function(e){return function(h){var n;if(!l(h)||(n=r(h)).type!==e)throw new x("Incompatible receiver, "+e+" required");return n}}}},{"../internals/create-non-enumerable-property":106,"../internals/global":148,"../internals/has-own-property":149,"../internals/hidden-keys":150,"../internals/is-object":166,"../internals/shared-key":210,"../internals/shared-store":211,
"../internals/weak-map-basic-detection":235}],160:[function(k,L,C){C=k("../internals/well-known-symbol");var y=k("../internals/iterators"),l=C("iterator"),v=Array.prototype;L.exports=function(E){return void 0!==E&&(y.Array===E||v[l]===E)}},{"../internals/iterators":175,"../internals/well-known-symbol":238}],161:[function(k,L,C){var y=k("../internals/classof-raw");L.exports=Array.isArray||function(l){return"Array"===y(l)}},{"../internals/classof-raw":98}],162:[function(k,L,C){k=k("../internals/document-all");
var y=k.all;L.exports=k.IS_HTMLDDA?function(l){return"function"==typeof l||l===y}:function(l){return"function"==typeof l}},{"../internals/document-all":114}],163:[function(k,L,C){var y=k("../internals/function-uncurry-this");C=k("../internals/fails");var l=k("../internals/is-callable"),v=k("../internals/classof"),E=k("../internals/get-built-in"),c=k("../internals/inspect-source"),f=function(){},x=[],a=E("Reflect","construct"),m=/^\s*(?:class|function)\b/,r=y(m.exec),t=!m.test(f),b=function(e){if(!l(e))return!1;
try{return a(f,x,e),!0}catch(h){return!1}};k=function(e){if(!l(e))return!1;switch(v(e)){case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return!1}try{return t||!!r(m,c(e))}catch(h){return!0}};k.sham=!0;L.exports=!a||C(function(){var e;return b(b.call)||!b(Object)||!b(function(){e=!0})||e})?k:b},{"../internals/classof":99,"../internals/fails":133,"../internals/function-uncurry-this":142,"../internals/get-built-in":143,"../internals/inspect-source":156,"../internals/is-callable":162}],
164:[function(k,L,C){var y=k("../internals/fails"),l=k("../internals/is-callable"),v=/#|\.prototype\./;k=function(a,m){a=c[E(a)];return a===x?!0:a===f?!1:l(m)?y(m):!!m};var E=k.normalize=function(a){return String(a).replace(v,".").toLowerCase()},c=k.data={},f=k.NATIVE="N",x=k.POLYFILL="P";L.exports=k},{"../internals/fails":133,"../internals/is-callable":162}],165:[function(k,L,C){L.exports=function(y){return null===y||void 0===y}},{}],166:[function(k,L,C){var y=k("../internals/is-callable");k=k("../internals/document-all");
var l=k.all;L.exports=k.IS_HTMLDDA?function(v){return"object"==typeof v?null!==v:y(v)||v===l}:function(v){return"object"==typeof v?null!==v:y(v)}},{"../internals/document-all":114,"../internals/is-callable":162}],167:[function(k,L,C){L.exports=!1},{}],168:[function(k,L,C){var y=k("../internals/is-object"),l=k("../internals/classof-raw"),v=k("../internals/well-known-symbol")("match");L.exports=function(E){var c;return y(E)&&(void 0!==(c=E[v])?!!c:"RegExp"===l(E))}},{"../internals/classof-raw":98,"../internals/is-object":166,
"../internals/well-known-symbol":238}],169:[function(k,L,C){var y=k("../internals/get-built-in"),l=k("../internals/is-callable"),v=k("../internals/object-is-prototype-of");k=k("../internals/use-symbol-as-uid");var E=Object;L.exports=k?function(c){return"symbol"==typeof c}:function(c){var f=y("Symbol");return l(f)&&v(f.prototype,E(c))}},{"../internals/get-built-in":143,"../internals/is-callable":162,"../internals/object-is-prototype-of":192,"../internals/use-symbol-as-uid":232}],170:[function(k,L,
C){var y=k("../internals/function-bind-context"),l=k("../internals/function-call"),v=k("../internals/an-object"),E=k("../internals/try-to-string"),c=k("../internals/is-array-iterator-method"),f=k("../internals/length-of-array-like"),x=k("../internals/object-is-prototype-of"),a=k("../internals/get-iterator"),m=k("../internals/get-iterator-method"),r=k("../internals/iterator-close"),t=TypeError,b=function(h,n){this.stopped=h;this.result=n},e=b.prototype;L.exports=function(h,n,g){var p=!(!g||!g.AS_ENTRIES),
u=!(!g||!g.IS_RECORD),A=!(!g||!g.IS_ITERATOR),F=!(!g||!g.INTERRUPTED),w=y(n,g&&g.that),I,O=function(G){z&&r(z,"normal",G);return new b(!0,G)};n=function(G){return p?(v(G),F?w(G[0],G[1],O):w(G[0],G[1])):F?w(G,O):w(G)};if(u)var z=h.iterator;else if(A)z=h;else{A=m(h);if(!A)throw new t(E(h)+" is not iterable");if(c(A)){u=0;for(A=f(h);A>u;u++)if((I=n(h[u]))&&x(e,I))return I;return new b(!1)}z=a(h,A)}for(h=u?h.next:z.next;!(u=l(h,z)).done;){try{I=n(u.value)}catch(G){r(z,"throw",G)}if("object"==typeof I&&
I&&x(e,I))return I}return new b(!1)}},{"../internals/an-object":85,"../internals/function-bind-context":136,"../internals/function-call":138,"../internals/get-iterator":145,"../internals/get-iterator-method":144,"../internals/is-array-iterator-method":160,"../internals/iterator-close":171,"../internals/length-of-array-like":176,"../internals/object-is-prototype-of":192,"../internals/try-to-string":229}],171:[function(k,L,C){var y=k("../internals/function-call"),l=k("../internals/an-object"),v=k("../internals/get-method");
L.exports=function(E,c,f){l(E);try{var x=v(E,"return");if(!x){if("throw"===c)throw f;return f}x=y(x,E)}catch(m){var a=!0;x=m}if("throw"===c)throw f;if(a)throw x;l(x);return f}},{"../internals/an-object":85,"../internals/function-call":138,"../internals/get-method":147}],172:[function(k,L,C){var y=k("../internals/iterators-core").IteratorPrototype,l=k("../internals/object-create"),v=k("../internals/create-property-descriptor"),E=k("../internals/set-to-string-tag"),c=k("../internals/iterators"),f=function(){return this};
L.exports=function(x,a,m,r){a+=" Iterator";x.prototype=l(y,{next:v(+!r,m)});E(x,a,!1,!0);c[a]=f;return x}},{"../internals/create-property-descriptor":107,"../internals/iterators":175,"../internals/iterators-core":174,"../internals/object-create":183,"../internals/set-to-string-tag":209}],173:[function(k,L,C){var y=k("../internals/export"),l=k("../internals/function-call"),v=k("../internals/is-pure");C=k("../internals/function-name");var E=k("../internals/is-callable"),c=k("../internals/iterator-create-constructor"),
f=k("../internals/object-get-prototype-of"),x=k("../internals/object-set-prototype-of"),a=k("../internals/set-to-string-tag"),m=k("../internals/create-non-enumerable-property"),r=k("../internals/define-built-in"),t=k("../internals/well-known-symbol"),b=k("../internals/iterators");k=k("../internals/iterators-core");var e=C.PROPER,h=C.CONFIGURABLE,n=k.IteratorPrototype,g=k.BUGGY_SAFARI_ITERATORS,p=t("iterator"),u=function(){return this};L.exports=function(A,F,w,I,O,z,G){c(w,F,I);I=function(R){if(R===
O&&ia)return ia;if(!g&&R&&R in N)return N[R];switch(R){case "keys":return function(){return new w(this,R)};case "values":return function(){return new w(this,R)};case "entries":return function(){return new w(this,R)}}return function(){return new w(this)}};var H=F+" Iterator",J=!1,N=A.prototype,S=N[p]||N["@@iterator"]||O&&N[O],ia=!g&&S||I(O),da="Array"===F?N.entries||S:S,ta;da&&(A=f(da.call(new A)),A!==Object.prototype&&A.next&&(v||f(A)===n||(x?x(A,n):E(A[p])||r(A,p,u)),a(A,H,!0,!0),v&&(b[H]=u)));e&&
"values"===O&&S&&"values"!==S.name&&(!v&&h?m(N,"name","values"):(J=!0,ia=function(){return l(S,this)}));if(O){var oa={values:I("values"),keys:z?ia:I("keys"),entries:I("entries")};if(G)for(ta in oa)!g&&!J&&ta in N||r(N,ta,oa[ta]);else y({target:F,proto:!0,forced:g||J},oa)}v&&!G||N[p]===ia||r(N,p,ia,{name:O});b[F]=ia;return oa}},{"../internals/create-non-enumerable-property":106,"../internals/define-built-in":110,"../internals/export":132,"../internals/function-call":138,"../internals/function-name":139,
"../internals/is-callable":162,"../internals/is-pure":167,"../internals/iterator-create-constructor":172,"../internals/iterators":175,"../internals/iterators-core":174,"../internals/object-get-prototype-of":190,"../internals/object-set-prototype-of":196,"../internals/set-to-string-tag":209,"../internals/well-known-symbol":238}],174:[function(k,L,C){C=k("../internals/fails");var y=k("../internals/is-callable"),l=k("../internals/is-object"),v=k("../internals/object-create"),E=k("../internals/object-get-prototype-of"),
c=k("../internals/define-built-in"),f=k("../internals/well-known-symbol");k=k("../internals/is-pure");var x=f("iterator");f=!1;var a;if([].keys){var m=[].keys();"next"in m?(E=E(E(m)),E!==Object.prototype&&(a=E)):f=!0}!l(a)||C(function(){var r={};return a[x].call(r)!==r})?a={}:k&&(a=v(a));y(a[x])||c(a,x,function(){return this});L.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:f}},{"../internals/define-built-in":110,"../internals/fails":133,"../internals/is-callable":162,"../internals/is-object":166,
"../internals/is-pure":167,"../internals/object-create":183,"../internals/object-get-prototype-of":190,"../internals/well-known-symbol":238}],175:[function(k,L,C){arguments[4][150][0].apply(C,arguments)},{dup:150}],176:[function(k,L,C){var y=k("../internals/to-length");L.exports=function(l){return y(l.length)}},{"../internals/to-length":223}],177:[function(k,L,C){C=k("../internals/function-uncurry-this");var y=k("../internals/fails"),l=k("../internals/is-callable"),v=k("../internals/has-own-property"),
E=k("../internals/descriptors"),c=k("../internals/function-name").CONFIGURABLE,f=k("../internals/inspect-source");k=k("../internals/internal-state");var x=k.enforce,a=k.get,m=String,r=Object.defineProperty,t=C("".slice),b=C("".replace),e=C([].join),h=E&&!y(function(){return 8!==r(function(){},"length",{value:8}).length}),n=String(String).split("String");L=L.exports=function(g,p,u){"Symbol("===t(m(p),0,7)&&(p="["+b(m(p),/^Symbol\(([^)]*)\)/,"$1")+"]");u&&u.getter&&(p="get "+p);u&&u.setter&&(p="set "+
p);if(!v(g,"name")||c&&g.name!==p)E?r(g,"name",{value:p,configurable:!0}):g.name=p;h&&u&&v(u,"arity")&&g.length!==u.arity&&r(g,"length",{value:u.arity});try{u&&v(u,"constructor")&&u.constructor?E&&r(g,"prototype",{writable:!1}):g.prototype&&(g.prototype=void 0)}catch(A){}u=x(g);v(u,"source")||(u.source=e(n,"string"==typeof p?p:""));return g};Function.prototype.toString=L(function(){return l(this)&&a(this).source||f(this)},"toString")},{"../internals/descriptors":113,"../internals/fails":133,"../internals/function-name":139,
"../internals/function-uncurry-this":142,"../internals/has-own-property":149,"../internals/inspect-source":156,"../internals/internal-state":159,"../internals/is-callable":162}],178:[function(k,L,C){var y=Math.ceil,l=Math.floor;L.exports=Math.trunc||function(v){v=+v;return(0<v?l:y)(v)}},{}],179:[function(k,L,C){var y=k("../internals/global");C=k("../internals/function-bind-context");var l=k("../internals/object-get-own-property-descriptor").f,v=k("../internals/task").set,E=k("../internals/queue"),
c=k("../internals/engine-is-ios"),f=k("../internals/engine-is-ios-pebble"),x=k("../internals/engine-is-webos-webkit"),a=k("../internals/engine-is-node"),m=y.MutationObserver||y.WebKitMutationObserver,r=y.document,t=y.process;k=y.Promise;l=(l=l(y,"queueMicrotask"))&&l.value;if(!l){var b=new E,e=function(){var u,A;for(a&&(u=t.domain)&&u.exit();A=b.get();)try{A()}catch(F){throw b.head&&n(),F;}u&&u.enter()};if(c||a||x||!m||!r)if(!f&&k&&k.resolve){y=k.resolve(void 0);y.constructor=k;var h=C(y.then,y);
var n=function(){h(e)}}else a?n=function(){t.nextTick(e)}:(v=C(v,y),n=function(){v(e)});else{var g=!0;var p=r.createTextNode("");(new m(e)).observe(p,{characterData:!0});n=function(){p.data=g=!g}}l=function(u){b.head||n();b.add(u)}}L.exports=l},{"../internals/engine-is-ios":122,"../internals/engine-is-ios-pebble":121,"../internals/engine-is-node":123,"../internals/engine-is-webos-webkit":124,"../internals/function-bind-context":136,"../internals/global":148,"../internals/object-get-own-property-descriptor":186,
"../internals/queue":206,"../internals/task":218}],180:[function(k,L,C){var y=k("../internals/a-callable"),l=TypeError,v=function(E){var c,f;this.promise=new E(function(x,a){if(void 0!==c||void 0!==f)throw new l("Bad Promise constructor");c=x;f=a});this.resolve=y(c);this.reject=y(f)};L.exports.f=function(E){return new v(E)}},{"../internals/a-callable":80}],181:[function(k,L,C){var y=k("../internals/to-string");L.exports=function(l,v){return void 0===l?2>arguments.length?"":v:y(l)}},{"../internals/to-string":228}],
182:[function(k,L,C){var y=k("../internals/is-regexp"),l=TypeError;L.exports=function(v){if(y(v))throw new l("The method doesn't accept regular expressions");return v}},{"../internals/is-regexp":168}],183:[function(k,L,C){var y=k("../internals/an-object"),l=k("../internals/object-define-properties"),v=k("../internals/enum-bug-keys");C=k("../internals/hidden-keys");var E=k("../internals/html"),c=k("../internals/document-create-element"),f=k("../internals/shared-key")("IE_PROTO"),x=function(){},a=function(t){t.write("<script>\x3c/script>");
t.close();return t.parentWindow.Object},m,r=function(){try{m=new ActiveXObject("htmlfile")}catch(b){}if("undefined"!=typeof document)if(document.domain&&m)var t=a(m);else t=c("iframe"),t.style.display="none",E.appendChild(t),t.src="javascript:",t=t.contentWindow.document,t.open(),t.write("<script>document.F=Object\x3c/script>"),t.close(),t=t.F;else t=a(m);r=t;for(t=v.length;t--;)delete r.prototype[v[t]];return r()};C[f]=!0;L.exports=Object.create||function(t,b){if(null!==t){x.prototype=y(t);var e=
new x;x.prototype=null;e[f]=t}else e=r();return void 0===b?e:l.f(e,b)}},{"../internals/an-object":85,"../internals/document-create-element":115,"../internals/enum-bug-keys":128,"../internals/hidden-keys":150,"../internals/html":152,"../internals/object-define-properties":184,"../internals/shared-key":210}],184:[function(k,L,C){L=k("../internals/descriptors");var y=k("../internals/v8-prototype-define-bug"),l=k("../internals/object-define-property"),v=k("../internals/an-object"),E=k("../internals/to-indexed-object"),
c=k("../internals/object-keys");C.f=L&&!y?Object.defineProperties:function(f,x){v(f);var a=E(x);x=c(x);for(var m=x.length,r=0,t;m>r;)l.f(f,t=x[r++],a[t]);return f}},{"../internals/an-object":85,"../internals/descriptors":113,"../internals/object-define-property":185,"../internals/object-keys":194,"../internals/to-indexed-object":221,"../internals/v8-prototype-define-bug":233}],185:[function(k,L,C){L=k("../internals/descriptors");var y=k("../internals/ie8-dom-define"),l=k("../internals/v8-prototype-define-bug"),
v=k("../internals/an-object"),E=k("../internals/to-property-key"),c=TypeError,f=Object.defineProperty,x=Object.getOwnPropertyDescriptor;C.f=L?l?function(a,m,r){v(a);m=E(m);v(r);if("function"===typeof a&&"prototype"===m&&"value"in r&&"writable"in r&&!r.writable){var t=x(a,m);t&&t.writable&&(a[m]=r.value,r={configurable:"configurable"in r?r.configurable:t.configurable,enumerable:"enumerable"in r?r.enumerable:t.enumerable,writable:!1})}return f(a,m,r)}:f:function(a,m,r){v(a);m=E(m);v(r);if(y)try{return f(a,
m,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");"value"in r&&(a[m]=r.value);return a}},{"../internals/an-object":85,"../internals/descriptors":113,"../internals/ie8-dom-define":153,"../internals/to-property-key":226,"../internals/v8-prototype-define-bug":233}],186:[function(k,L,C){L=k("../internals/descriptors");var y=k("../internals/function-call"),l=k("../internals/object-property-is-enumerable"),v=k("../internals/create-property-descriptor"),E=k("../internals/to-indexed-object"),
c=k("../internals/to-property-key"),f=k("../internals/has-own-property"),x=k("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;C.f=L?a:function(m,r){m=E(m);r=c(r);if(x)try{return a(m,r)}catch(t){}if(f(m,r))return v(!y(l.f,m,r),m[r])}},{"../internals/create-property-descriptor":107,"../internals/descriptors":113,"../internals/function-call":138,"../internals/has-own-property":149,"../internals/ie8-dom-define":153,"../internals/object-property-is-enumerable":195,"../internals/to-indexed-object":221,
"../internals/to-property-key":226}],187:[function(k,L,C){var y=k("../internals/classof-raw"),l=k("../internals/to-indexed-object"),v=k("../internals/object-get-own-property-names").f,E=k("../internals/array-slice-simple"),c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];L.exports.f=function(f){if(c&&"Window"===y(f))try{var x=v(f)}catch(a){x=E(c)}else x=v(l(f));return x}},{"../internals/array-slice-simple":93,"../internals/classof-raw":98,"../internals/object-get-own-property-names":188,
"../internals/to-indexed-object":221}],188:[function(k,L,C){var y=k("../internals/object-keys-internal"),l=k("../internals/enum-bug-keys").concat("length","prototype");C.f=Object.getOwnPropertyNames||function(v){return y(v,l)}},{"../internals/enum-bug-keys":128,"../internals/object-keys-internal":193}],189:[function(k,L,C){C.f=Object.getOwnPropertySymbols},{}],190:[function(k,L,C){var y=k("../internals/has-own-property"),l=k("../internals/is-callable"),v=k("../internals/to-object");C=k("../internals/shared-key");
k=k("../internals/correct-prototype-getter");var E=C("IE_PROTO"),c=Object,f=c.prototype;L.exports=k?c.getPrototypeOf:function(x){x=v(x);if(y(x,E))return x[E];var a=x.constructor;return l(a)&&x instanceof a?a.prototype:x instanceof c?f:null}},{"../internals/correct-prototype-getter":104,"../internals/has-own-property":149,"../internals/is-callable":162,"../internals/shared-key":210,"../internals/to-object":224}],191:[function(k,L,C){C=k("../internals/fails");var y=k("../internals/is-object"),l=k("../internals/classof-raw"),
v=k("../internals/array-buffer-non-extensible"),E=Object.isExtensible;k=C(function(){E(1)});L.exports=k||v?function(c){return!y(c)||v&&"ArrayBuffer"===l(c)?!1:E?E(c):!0}:E},{"../internals/array-buffer-non-extensible":87,"../internals/classof-raw":98,"../internals/fails":133,"../internals/is-object":166}],192:[function(k,L,C){k=k("../internals/function-uncurry-this");L.exports=k({}.isPrototypeOf)},{"../internals/function-uncurry-this":142}],193:[function(k,L,C){C=k("../internals/function-uncurry-this");
var y=k("../internals/has-own-property"),l=k("../internals/to-indexed-object"),v=k("../internals/array-includes").indexOf,E=k("../internals/hidden-keys"),c=C([].push);L.exports=function(f,x){f=l(f);var a=0,m=[],r;for(r in f)!y(E,r)&&y(f,r)&&c(m,r);for(;x.length>a;)y(f,r=x[a++])&&(~v(m,r)||c(m,r));return m}},{"../internals/array-includes":90,"../internals/function-uncurry-this":142,"../internals/has-own-property":149,"../internals/hidden-keys":150,"../internals/to-indexed-object":221}],194:[function(k,
L,C){var y=k("../internals/object-keys-internal"),l=k("../internals/enum-bug-keys");L.exports=Object.keys||function(v){return y(v,l)}},{"../internals/enum-bug-keys":128,"../internals/object-keys-internal":193}],195:[function(k,L,C){k={}.propertyIsEnumerable;var y=Object.getOwnPropertyDescriptor;L=y&&!k.call({1:2},1);C.f=L?function(l){l=y(this,l);return!!l&&l.enumerable}:k},{}],196:[function(k,L,C){var y=k("../internals/function-uncurry-this-accessor"),l=k("../internals/an-object"),v=k("../internals/a-possible-prototype");
L.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var E=!1,c={};try{var f=y(Object.prototype,"__proto__","set");f(c,[]);E=c instanceof Array}catch(x){}return function(x,a){l(x);v(a);E?f(x,a):x.__proto__=a;return x}}():void 0)},{"../internals/a-possible-prototype":82,"../internals/an-object":85,"../internals/function-uncurry-this-accessor":140}],197:[function(k,L,C){C=k("../internals/to-string-tag-support");var y=k("../internals/classof");L.exports=C?{}.toString:function(){return"[object "+
y(this)+"]"}},{"../internals/classof":99,"../internals/to-string-tag-support":227}],198:[function(k,L,C){var y=k("../internals/function-call"),l=k("../internals/is-callable"),v=k("../internals/is-object"),E=TypeError;L.exports=function(c,f){var x,a;if("string"===f&&l(x=c.toString)&&!v(a=y(x,c))||l(x=c.valueOf)&&!v(a=y(x,c))||"string"!==f&&l(x=c.toString)&&!v(a=y(x,c)))return a;throw new E("Can't convert object to primitive value");}},{"../internals/function-call":138,"../internals/is-callable":162,
"../internals/is-object":166}],199:[function(k,L,C){C=k("../internals/get-built-in");var y=k("../internals/function-uncurry-this"),l=k("../internals/object-get-own-property-names"),v=k("../internals/object-get-own-property-symbols"),E=k("../internals/an-object"),c=y([].concat);L.exports=C("Reflect","ownKeys")||function(f){var x=l.f(E(f)),a=v.f;return a?c(x,a(f)):x}},{"../internals/an-object":85,"../internals/function-uncurry-this":142,"../internals/get-built-in":143,"../internals/object-get-own-property-names":188,
"../internals/object-get-own-property-symbols":189}],200:[function(k,L,C){k=k("../internals/global");L.exports=k},{"../internals/global":148}],201:[function(k,L,C){L.exports=function(y){try{return{error:!1,value:y()}}catch(l){return{error:!0,value:l}}}},{}],202:[function(k,L,C){C=k("../internals/global");var y=k("../internals/promise-native-constructor"),l=k("../internals/is-callable"),v=k("../internals/is-forced"),E=k("../internals/inspect-source"),c=k("../internals/well-known-symbol"),f=k("../internals/engine-is-browser"),
x=k("../internals/engine-is-deno"),a=k("../internals/is-pure"),m=k("../internals/engine-v8-version"),r=y&&y.prototype,t=c("species"),b=!1,e=l(C.PromiseRejectionEvent);k=v("Promise",function(){var h=E(y),n=h!==String(y);if(!n&&66===m||a&&(!r["catch"]||!r["finally"]))return!0;if(!m||51>m||!/native code/.test(h)){h=new y(function(p){p(1)});var g=function(p){p(function(){},function(){})};(h.constructor={})[t]=g;b=h.then(function(){})instanceof g;if(!b)return!0}return!n&&(f||x)&&!e});L.exports={CONSTRUCTOR:k,
REJECTION_EVENT:e,SUBCLASSING:b}},{"../internals/engine-is-browser":119,"../internals/engine-is-deno":120,"../internals/engine-v8-version":126,"../internals/global":148,"../internals/inspect-source":156,"../internals/is-callable":162,"../internals/is-forced":164,"../internals/is-pure":167,"../internals/promise-native-constructor":203,"../internals/well-known-symbol":238}],203:[function(k,L,C){k=k("../internals/global");L.exports=k.Promise},{"../internals/global":148}],204:[function(k,L,C){var y=k("../internals/an-object"),
l=k("../internals/is-object"),v=k("../internals/new-promise-capability");L.exports=function(E,c){y(E);if(l(c)&&c.constructor===E)return c;E=v.f(E);var f=E.resolve;f(c);return E.promise}},{"../internals/an-object":85,"../internals/is-object":166,"../internals/new-promise-capability":180}],205:[function(k,L,C){var y=k("../internals/promise-native-constructor");C=k("../internals/check-correctness-of-iteration");k=k("../internals/promise-constructor-detection").CONSTRUCTOR;L.exports=k||!C(function(l){y.all(l).then(void 0,
function(){})})},{"../internals/check-correctness-of-iteration":97,"../internals/promise-constructor-detection":202,"../internals/promise-native-constructor":203}],206:[function(k,L,C){k=function(){this.tail=this.head=null};k.prototype={add:function(y){y={item:y,next:null};var l=this.tail;l?l.next=y:this.head=y;this.tail=y},get:function(){var y=this.head;if(y)return null===(this.head=y.next)&&(this.tail=null),y.item}};L.exports=k},{}],207:[function(k,L,C){var y=k("../internals/is-null-or-undefined"),
l=TypeError;L.exports=function(v){if(y(v))throw new l("Can't call method on "+v);return v}},{"../internals/is-null-or-undefined":165}],208:[function(k,L,C){var y=k("../internals/get-built-in"),l=k("../internals/define-built-in-accessor");C=k("../internals/well-known-symbol");var v=k("../internals/descriptors"),E=C("species");L.exports=function(c){c=y(c);v&&c&&!c[E]&&l(c,E,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":109,"../internals/descriptors":113,"../internals/get-built-in":143,
"../internals/well-known-symbol":238}],209:[function(k,L,C){var y=k("../internals/object-define-property").f,l=k("../internals/has-own-property"),v=k("../internals/well-known-symbol")("toStringTag");L.exports=function(E,c,f){E&&!f&&(E=E.prototype);E&&!l(E,v)&&y(E,v,{configurable:!0,value:c})}},{"../internals/has-own-property":149,"../internals/object-define-property":185,"../internals/well-known-symbol":238}],210:[function(k,L,C){C=k("../internals/shared");var y=k("../internals/uid"),l=C("keys");
L.exports=function(v){return l[v]||(l[v]=y(v))}},{"../internals/shared":212,"../internals/uid":231}],211:[function(k,L,C){C=k("../internals/global");k=k("../internals/define-global-property");k=C["__core-js_shared__"]||k("__core-js_shared__",{});L.exports=k},{"../internals/define-global-property":112,"../internals/global":148}],212:[function(k,L,C){C=k("../internals/is-pure");var y=k("../internals/shared-store");(L.exports=function(l,v){return y[l]||(y[l]=void 0!==v?v:{})})("versions",[]).push({version:"3.33.2",
mode:C?"pure":"global",copyright:"\u00a9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":167,"../internals/shared-store":211}],213:[function(k,L,C){var y=k("../internals/an-object"),l=k("../internals/a-constructor"),v=k("../internals/is-null-or-undefined"),E=k("../internals/well-known-symbol")("species");L.exports=function(c,f){c=y(c).constructor;var x;return void 0===
c||v(x=y(c)[E])?f:l(x)}},{"../internals/a-constructor":81,"../internals/an-object":85,"../internals/is-null-or-undefined":165,"../internals/well-known-symbol":238}],214:[function(k,L,C){C=k("../internals/function-uncurry-this");var y=k("../internals/to-integer-or-infinity"),l=k("../internals/to-string"),v=k("../internals/require-object-coercible"),E=C("".charAt),c=C("".charCodeAt),f=C("".slice);k=function(x){return function(a,m){a=l(v(a));m=y(m);var r=a.length,t;if(0>m||m>=r)return x?"":void 0;var b=
c(a,m);return 55296>b||56319<b||m+1===r||56320>(t=c(a,m+1))||57343<t?x?E(a,m):b:x?f(a,m,m+2):(b-55296<<10)+(t-56320)+65536}};L.exports={codeAt:k(!1),charAt:k(!0)}},{"../internals/function-uncurry-this":142,"../internals/require-object-coercible":207,"../internals/to-integer-or-infinity":222,"../internals/to-string":228}],215:[function(k,L,C){var y=k("../internals/engine-v8-version");C=k("../internals/fails");var l=k("../internals/global").String;L.exports=!!Object.getOwnPropertySymbols&&!C(function(){var v=
Symbol("symbol detection");return!l(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&y&&41>y})},{"../internals/engine-v8-version":126,"../internals/fails":133,"../internals/global":148}],216:[function(k,L,C){var y=k("../internals/function-call"),l=k("../internals/get-built-in"),v=k("../internals/well-known-symbol"),E=k("../internals/define-built-in");L.exports=function(){var c=l("Symbol"),f=(c=c&&c.prototype)&&c.valueOf,x=v("toPrimitive");c&&!c[x]&&E(c,x,function(a){return y(f,this)},{arity:1})}},
{"../internals/define-built-in":110,"../internals/function-call":138,"../internals/get-built-in":143,"../internals/well-known-symbol":238}],217:[function(k,L,C){k=k("../internals/symbol-constructor-detection");L.exports=k&&!!Symbol["for"]&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":215}],218:[function(k,L,C){var y=k("../internals/global"),l=k("../internals/function-apply");C=k("../internals/function-bind-context");var v=k("../internals/is-callable"),E=k("../internals/has-own-property"),
c=k("../internals/fails"),f=k("../internals/html"),x=k("../internals/array-slice"),a=k("../internals/document-create-element"),m=k("../internals/validate-arguments-length"),r=k("../internals/engine-is-ios"),t=k("../internals/engine-is-node");k=y.setImmediate;var b=y.clearImmediate,e=y.process,h=y.Dispatch,n=y.Function,g=y.MessageChannel,p=y.String,u=0,A={},F;c(function(){F=y.location});var w=function(H){if(E(A,H)){var J=A[H];delete A[H];J()}},I=function(H){return function(){w(H)}},O=function(H){w(H.data)},
z=function(H){y.postMessage(p(H),F.protocol+"//"+F.host)};if(!k||!b)if(k=function(H){m(arguments.length,1);var J=v(H)?H:n(H),N=x(arguments,1);A[++u]=function(){l(J,void 0,N)};G(u);return u},b=function(H){delete A[H]},t)var G=function(H){e.nextTick(I(H))};else h&&h.now?G=function(H){h.now(I(H))}:g&&!r?(c=new g,r=c.port2,c.port1.onmessage=O,G=C(r.postMessage,r)):y.addEventListener&&v(y.postMessage)&&!y.importScripts&&F&&"file:"!==F.protocol&&!c(z)?(G=z,y.addEventListener("message",O,!1)):G="onreadystatechange"in
a("script")?function(H){f.appendChild(a("script")).onreadystatechange=function(){f.removeChild(this);w(H)}}:function(H){setTimeout(I(H),0)};L.exports={set:k,clear:b}},{"../internals/array-slice":94,"../internals/document-create-element":115,"../internals/engine-is-ios":122,"../internals/engine-is-node":123,"../internals/fails":133,"../internals/function-apply":135,"../internals/function-bind-context":136,"../internals/global":148,"../internals/has-own-property":149,"../internals/html":152,"../internals/is-callable":162,
"../internals/validate-arguments-length":234}],219:[function(k,L,C){var y=k("../internals/to-integer-or-infinity"),l=Math.max,v=Math.min;L.exports=function(E,c){E=y(E);return 0>E?l(E+c,0):v(E,c)}},{"../internals/to-integer-or-infinity":222}],220:[function(k,L,C){var y=k("../internals/to-primitive"),l=TypeError;L.exports=function(v){v=y(v,"number");if("number"==typeof v)throw new l("Can't convert number to bigint");return BigInt(v)}},{"../internals/to-primitive":225}],221:[function(k,L,C){var y=k("../internals/indexed-object"),
l=k("../internals/require-object-coercible");L.exports=function(v){return y(l(v))}},{"../internals/indexed-object":154,"../internals/require-object-coercible":207}],222:[function(k,L,C){var y=k("../internals/math-trunc");L.exports=function(l){l=+l;return l!==l||0===l?0:y(l)}},{"../internals/math-trunc":178}],223:[function(k,L,C){var y=k("../internals/to-integer-or-infinity"),l=Math.min;L.exports=function(v){return 0<v?l(y(v),9007199254740991):0}},{"../internals/to-integer-or-infinity":222}],224:[function(k,
L,C){var y=k("../internals/require-object-coercible"),l=Object;L.exports=function(v){return l(y(v))}},{"../internals/require-object-coercible":207}],225:[function(k,L,C){var y=k("../internals/function-call"),l=k("../internals/is-object"),v=k("../internals/is-symbol"),E=k("../internals/get-method"),c=k("../internals/ordinary-to-primitive");k=k("../internals/well-known-symbol");var f=TypeError,x=k("toPrimitive");L.exports=function(a,m){if(!l(a)||v(a))return a;var r=E(a,x);if(r){void 0===m&&(m="default");
a=y(r,a,m);if(!l(a)||v(a))return a;throw new f("Can't convert object to primitive value");}void 0===m&&(m="number");return c(a,m)}},{"../internals/function-call":138,"../internals/get-method":147,"../internals/is-object":166,"../internals/is-symbol":169,"../internals/ordinary-to-primitive":198,"../internals/well-known-symbol":238}],226:[function(k,L,C){var y=k("../internals/to-primitive"),l=k("../internals/is-symbol");L.exports=function(v){v=y(v,"string");return l(v)?v:v+""}},{"../internals/is-symbol":169,
"../internals/to-primitive":225}],227:[function(k,L,C){k=k("../internals/well-known-symbol")("toStringTag");C={};C[k]="z";L.exports="[object z]"===String(C)},{"../internals/well-known-symbol":238}],228:[function(k,L,C){var y=k("../internals/classof"),l=String;L.exports=function(v){if("Symbol"===y(v))throw new TypeError("Cannot convert a Symbol value to a string");return l(v)}},{"../internals/classof":99}],229:[function(k,L,C){var y=String;L.exports=function(l){try{return y(l)}catch(v){return"Object"}}},
{}],230:[function(k,L,C){C=k("../internals/array-buffer-view-core");var y=k("../internals/species-constructor"),l=C.aTypedArrayConstructor,v=C.getTypedArrayConstructor;L.exports=function(E){return l(y(E,v(E)))}},{"../internals/array-buffer-view-core":88,"../internals/species-constructor":213}],231:[function(k,L,C){k=k("../internals/function-uncurry-this");var y=0,l=Math.random(),v=k((1).toString);L.exports=function(E){return"Symbol("+(void 0===E?"":E)+")_"+v(++y+l,36)}},{"../internals/function-uncurry-this":142}],
232:[function(k,L,C){k=k("../internals/symbol-constructor-detection");L.exports=k&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":215}],233:[function(k,L,C){C=k("../internals/descriptors");k=k("../internals/fails");L.exports=C&&k(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":113,"../internals/fails":133}],234:[function(k,L,C){var y=TypeError;L.exports=function(l,v){if(l<
v)throw new y("Not enough arguments");return l}},{}],235:[function(k,L,C){C=k("../internals/global");k=k("../internals/is-callable");C=C.WeakMap;L.exports=k(C)&&/native code/.test(String(C))},{"../internals/global":148,"../internals/is-callable":162}],236:[function(k,L,C){var y=k("../internals/path"),l=k("../internals/has-own-property"),v=k("../internals/well-known-symbol-wrapped"),E=k("../internals/object-define-property").f;L.exports=function(c){var f=y.Symbol||(y.Symbol={});l(f,c)||E(f,c,{value:v.f(c)})}},
{"../internals/has-own-property":149,"../internals/object-define-property":185,"../internals/path":200,"../internals/well-known-symbol-wrapped":237}],237:[function(k,L,C){k=k("../internals/well-known-symbol");C.f=k},{"../internals/well-known-symbol":238}],238:[function(k,L,C){C=k("../internals/global");var y=k("../internals/shared"),l=k("../internals/has-own-property"),v=k("../internals/uid"),E=k("../internals/symbol-constructor-detection");k=k("../internals/use-symbol-as-uid");var c=C.Symbol,f=y("wks"),
x=k?c["for"]||c:c&&c.withoutSetter||v;L.exports=function(a){l(f,a)||(f[a]=E&&l(c,a)?c[a]:x("Symbol."+a));return f[a]}},{"../internals/global":148,"../internals/has-own-property":149,"../internals/shared":212,"../internals/symbol-constructor-detection":215,"../internals/uid":231,"../internals/use-symbol-as-uid":232}],239:[function(k,L,C){L=k("../internals/export");var y=k("../internals/object-is-prototype-of"),l=k("../internals/object-get-prototype-of"),v=k("../internals/object-set-prototype-of");
C=k("../internals/copy-constructor-properties");var E=k("../internals/object-create"),c=k("../internals/create-non-enumerable-property"),f=k("../internals/create-property-descriptor"),x=k("../internals/install-error-cause"),a=k("../internals/error-stack-install"),m=k("../internals/iterate"),r=k("../internals/normalize-string-argument"),t=k("../internals/well-known-symbol")("toStringTag"),b=Error,e=[].push,h=function(g,p){var u=y(n,this);v?u=v(new b,u?l(this):n):(u=u?this:E(n),c(u,t,"Error"));void 0!==
p&&c(u,"message",r(p));a(u,h,u.stack,1);2<arguments.length&&x(u,arguments[2]);var A=[];m(g,e,{that:A});c(u,"errors",A);return u};v?v(h,b):C(h,b,{name:!0});var n=h.prototype=E(b.prototype,{constructor:f(1,h),message:f(1,""),name:f(1,"AggregateError")});L({global:!0,constructor:!0,arity:2},{AggregateError:h})},{"../internals/copy-constructor-properties":102,"../internals/create-non-enumerable-property":106,"../internals/create-property-descriptor":107,"../internals/error-stack-install":130,"../internals/export":132,
"../internals/install-error-cause":157,"../internals/iterate":170,"../internals/normalize-string-argument":181,"../internals/object-create":183,"../internals/object-get-prototype-of":190,"../internals/object-is-prototype-of":192,"../internals/object-set-prototype-of":196,"../internals/well-known-symbol":238}],240:[function(k,L,C){k("../modules/es.aggregate-error.constructor")},{"../modules/es.aggregate-error.constructor":239}],241:[function(k,L,C){L=k("../internals/export");C=k("../internals/fails");
var y=k("../internals/is-array"),l=k("../internals/is-object"),v=k("../internals/to-object"),E=k("../internals/length-of-array-like"),c=k("../internals/does-not-exceed-safe-integer"),f=k("../internals/create-property"),x=k("../internals/array-species-create"),a=k("../internals/array-method-has-species-support"),m=k("../internals/well-known-symbol");k=k("../internals/engine-v8-version");var r=m("isConcatSpreadable");k=!(51<=k||!C(function(){var t=[];t[r]=!1;return t.concat()[0]!==t}))||!a("concat");
L({target:"Array",proto:!0,arity:1,forced:k},{concat:function(t){var b=v(this),e=x(b,0),h=0,n;var g=-1;for(n=arguments.length;g<n;g++){var p=-1===g?b:arguments[g];var u=p;if(l(u)){var A=u[r];u=void 0!==A?!!A:y(u)}else u=!1;if(u)for(A=E(p),c(h+A),u=0;u<A;u++,h++)u in p&&f(e,h,p[u]);else c(h+1),f(e,h++,p)}e.length=h;return e}})},{"../internals/array-method-has-species-support":92,"../internals/array-species-create":96,"../internals/create-property":108,"../internals/does-not-exceed-safe-integer":116,
"../internals/engine-v8-version":126,"../internals/export":132,"../internals/fails":133,"../internals/is-array":161,"../internals/is-object":166,"../internals/length-of-array-like":176,"../internals/to-object":224,"../internals/well-known-symbol":238}],242:[function(k,L,C){L=k("../internals/export");C=k("../internals/array-fill");k=k("../internals/add-to-unscopables");L({target:"Array",proto:!0},{fill:C});k("fill")},{"../internals/add-to-unscopables":83,"../internals/array-fill":89,"../internals/export":132}],
243:[function(k,L,C){var y=k("../internals/to-indexed-object");C=k("../internals/add-to-unscopables");var l=k("../internals/iterators"),v=k("../internals/internal-state"),E=k("../internals/object-define-property").f,c=k("../internals/iterator-define"),f=k("../internals/create-iter-result-object"),x=k("../internals/is-pure");k=k("../internals/descriptors");var a=v.set,m=v.getterFor("Array Iterator");L.exports=c(Array,"Array",function(r,t){a(this,{type:"Array Iterator",target:y(r),index:0,kind:t})},
function(){var r=m(this),t=r.target,b=r.index++;if(!t||b>=t.length)return r.target=void 0,f(void 0,!0);switch(r.kind){case "keys":return f(b,!1);case "values":return f(t[b],!1)}return f([b,t[b]],!1)},"values");L=l.Arguments=l.Array;C("keys");C("values");C("entries");if(!x&&k&&"values"!==L.name)try{E(L,"name",{value:"values"})}catch(r){}},{"../internals/add-to-unscopables":83,"../internals/create-iter-result-object":105,"../internals/descriptors":113,"../internals/internal-state":159,"../internals/is-pure":167,
"../internals/iterator-define":173,"../internals/iterators":175,"../internals/object-define-property":185,"../internals/to-indexed-object":221}],244:[function(k,L,C){L=k("../internals/export");var y=k("../internals/get-built-in"),l=k("../internals/function-apply"),v=k("../internals/function-call");C=k("../internals/function-uncurry-this");var E=k("../internals/fails"),c=k("../internals/is-callable"),f=k("../internals/is-symbol"),x=k("../internals/array-slice"),a=k("../internals/get-json-replacer-function");
k=k("../internals/symbol-constructor-detection");var m=String,r=y("JSON","stringify"),t=C(/./.exec),b=C("".charAt),e=C("".charCodeAt),h=C("".replace),n=C((1).toString),g=/[\uD800-\uDFFF]/g,p=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,A=!k||E(function(){var O=y("Symbol")("stringify detection");return"[null]"!==r([O])||"{}"!==r({a:O})||"{}"!==r(Object(O))}),F=E(function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}),w=function(O,z){var G=x(arguments),H=a(z);if(c(H)||void 0!==
O&&!f(O))return G[1]=function(J,N){c(H)&&(N=v(H,this,m(J),N));if(!f(N))return N},l(r,null,G)},I=function(O,z,G){var H=b(G,z-1);z=b(G,z+1);return t(p,O)&&!t(u,z)||t(u,O)&&!t(p,H)?"\\u"+n(e(O,0),16):O};r&&L({target:"JSON",stat:!0,arity:3,forced:A||F},{stringify:function(O,z,G){var H=x(arguments);H=l(A?w:r,null,H);return F&&"string"==typeof H?h(H,g,I):H}})},{"../internals/array-slice":94,"../internals/export":132,"../internals/fails":133,"../internals/function-apply":135,"../internals/function-call":138,
"../internals/function-uncurry-this":142,"../internals/get-built-in":143,"../internals/get-json-replacer-function":146,"../internals/is-callable":162,"../internals/is-symbol":169,"../internals/symbol-constructor-detection":215}],245:[function(k,L,C){L=k("../internals/global");k("../internals/set-to-string-tag")(L.JSON,"JSON",!0)},{"../internals/global":148,"../internals/set-to-string-tag":209}],246:[function(k,L,C){L=k("../internals/collection");k=k("../internals/collection-strong");L("Map",function(y){return function(){return y(this,
arguments.length?arguments[0]:void 0)}},k)},{"../internals/collection":101,"../internals/collection-strong":100}],247:[function(k,L,C){k("../modules/es.map.constructor")},{"../modules/es.map.constructor":246}],248:[function(k,L,C){k("../internals/set-to-string-tag")(Math,"Math",!0)},{"../internals/set-to-string-tag":209}],249:[function(k,L,C){L=k("../internals/export");C=k("../internals/symbol-constructor-detection");var y=k("../internals/fails"),l=k("../internals/object-get-own-property-symbols"),
v=k("../internals/to-object");k=!C||y(function(){l.f(1)});L({target:"Object",stat:!0,forced:k},{getOwnPropertySymbols:function(E){var c=l.f;return c?c(v(E)):[]}})},{"../internals/export":132,"../internals/fails":133,"../internals/object-get-own-property-symbols":189,"../internals/symbol-constructor-detection":215,"../internals/to-object":224}],250:[function(k,L,C){L=k("../internals/to-string-tag-support");C=k("../internals/define-built-in");k=k("../internals/object-to-string");L||C(Object.prototype,
"toString",k,{unsafe:!0})},{"../internals/define-built-in":110,"../internals/object-to-string":197,"../internals/to-string-tag-support":227}],251:[function(k,L,C){L=k("../internals/export");var y=k("../internals/function-call"),l=k("../internals/a-callable"),v=k("../internals/new-promise-capability"),E=k("../internals/perform"),c=k("../internals/iterate");k=k("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:k},{allSettled:function(f){var x=this,a=v.f(x),m=a.resolve,
r=a.reject,t=E(function(){var b=l(x.resolve),e=[],h=0,n=1;c(f,function(g){var p=h++,u=!1;n++;y(b,x,g).then(function(A){u||(u=!0,e[p]={status:"fulfilled",value:A},--n||m(e))},function(A){u||(u=!0,e[p]={status:"rejected",reason:A},--n||m(e))})});--n||m(e)});t.error&&r(t.value);return a.promise}})},{"../internals/a-callable":80,"../internals/export":132,"../internals/function-call":138,"../internals/iterate":170,"../internals/new-promise-capability":180,"../internals/perform":201,"../internals/promise-statics-incorrect-iteration":205}],
252:[function(k,L,C){L=k("../internals/export");var y=k("../internals/function-call"),l=k("../internals/a-callable"),v=k("../internals/new-promise-capability"),E=k("../internals/perform"),c=k("../internals/iterate");k=k("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:k},{all:function(f){var x=this,a=v.f(x),m=a.resolve,r=a.reject,t=E(function(){var b=l(x.resolve),e=[],h=0,n=1;c(f,function(g){var p=h++,u=!1;n++;y(b,x,g).then(function(A){u||(u=!0,e[p]=A,--n||m(e))},
r)});--n||m(e)});t.error&&r(t.value);return a.promise}})},{"../internals/a-callable":80,"../internals/export":132,"../internals/function-call":138,"../internals/iterate":170,"../internals/new-promise-capability":180,"../internals/perform":201,"../internals/promise-statics-incorrect-iteration":205}],253:[function(k,L,C){L=k("../internals/export");var y=k("../internals/function-call"),l=k("../internals/a-callable"),v=k("../internals/get-built-in"),E=k("../internals/new-promise-capability"),c=k("../internals/perform"),
f=k("../internals/iterate");k=k("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:k},{any:function(x){var a=this,m=v("AggregateError"),r=E.f(a),t=r.resolve,b=r.reject,e=c(function(){var h=l(a.resolve),n=[],g=0,p=1,u=!1;f(x,function(A){var F=g++,w=!1;p++;y(h,a,A).then(function(I){w||u||(u=!0,t(I))},function(I){w||u||(w=!0,n[F]=I,--p||b(new m(n,"No one promise resolved")))})});--p||b(new m(n,"No one promise resolved"))});e.error&&b(e.value);return r.promise}})},
{"../internals/a-callable":80,"../internals/export":132,"../internals/function-call":138,"../internals/get-built-in":143,"../internals/iterate":170,"../internals/new-promise-capability":180,"../internals/perform":201,"../internals/promise-statics-incorrect-iteration":205}],254:[function(k,L,C){L=k("../internals/export");C=k("../internals/is-pure");var y=k("../internals/promise-constructor-detection").CONSTRUCTOR,l=k("../internals/promise-native-constructor"),v=k("../internals/get-built-in"),E=k("../internals/is-callable");
k=k("../internals/define-built-in");var c=l&&l.prototype;L({target:"Promise",proto:!0,forced:y,real:!0},{"catch":function(f){return this.then(void 0,f)}});!C&&E(l)&&(L=v("Promise").prototype["catch"],c["catch"]!==L&&k(c,"catch",L,{unsafe:!0}))},{"../internals/define-built-in":110,"../internals/export":132,"../internals/get-built-in":143,"../internals/is-callable":162,"../internals/is-pure":167,"../internals/promise-constructor-detection":202,"../internals/promise-native-constructor":203}],255:[function(k,
L,C){L=k("../internals/export");C=k("../internals/is-pure");var y=k("../internals/engine-is-node"),l=k("../internals/global"),v=k("../internals/function-call"),E=k("../internals/define-built-in"),c=k("../internals/object-set-prototype-of"),f=k("../internals/set-to-string-tag"),x=k("../internals/set-species"),a=k("../internals/a-callable"),m=k("../internals/is-callable"),r=k("../internals/is-object"),t=k("../internals/an-instance"),b=k("../internals/species-constructor"),e=k("../internals/task").set,
h=k("../internals/microtask"),n=k("../internals/host-report-errors"),g=k("../internals/perform"),p=k("../internals/queue"),u=k("../internals/internal-state"),A=k("../internals/promise-native-constructor"),F=k("../internals/promise-constructor-detection");k=k("../internals/new-promise-capability");var w=F.CONSTRUCTOR,I=F.REJECTION_EVENT;F=F.SUBCLASSING;var O=u.getterFor("Promise"),z=u.set;u=A&&A.prototype;var G=A,H=u,J=l.TypeError,N=l.document,S=l.process,ia=k.f,da=ia,ta=!!(N&&N.createEvent&&l.dispatchEvent),
oa=function(ea){var ya;return r(ea)&&m(ya=ea.then)?ya:!1},R=function(ea,ya){var Ia=ya.value,Ya=1===ya.state,sb=Ya?ea.ok:ea.fail,ub=ea.resolve,Na=ea.reject,sa=ea.domain,Oa;try{if(sb){Ya||(2===ya.rejection&&ua(ya),ya.rejection=1);if(!0===sb)var Ka=Ia;else if(sa&&sa.enter(),Ka=sb(Ia),sa){sa.exit();var bb=!0}Ka===ea.promise?Na(new J("Promise-chain cycle")):(Oa=oa(Ka))?v(Oa,Ka,ub,Na):ub(Ka)}else Na(Ia)}catch(V){sa&&!bb&&sa.exit(),Na(V)}},pa=function(ea,ya){ea.notified||(ea.notified=!0,h(function(){for(var Ia=
ea.reactions,Ya;Ya=Ia.get();)R(Ya,ea);ea.notified=!1;ya&&!ea.rejection&&za(ea)}))},ja=function(ea,ya,Ia){var Ya;if(ta){var sb=N.createEvent("Event");sb.promise=ya;sb.reason=Ia;sb.initEvent(ea,!1,!0);l.dispatchEvent(sb)}else sb={promise:ya,reason:Ia};!I&&(Ya=l["on"+ea])?Ya(sb):"unhandledrejection"===ea&&n("Unhandled promise rejection",Ia)},za=function(ea){v(e,l,function(){var ya=ea.facade,Ia=ea.value;if(1!==ea.rejection&&!ea.parent){var Ya=g(function(){y?S.emit("unhandledRejection",Ia,ya):ja("unhandledrejection",
ya,Ia)});ea.rejection=y||1!==ea.rejection&&!ea.parent?2:1;if(Ya.error)throw Ya.value;}})},ua=function(ea){v(e,l,function(){var ya=ea.facade;y?S.emit("rejectionHandled",ya):ja("rejectionhandled",ya,ea.value)})},Ha=function(ea,ya,Ia){return function(Ya){ea(ya,Ya,Ia)}},ra=function(ea,ya,Ia){ea.done||(ea.done=!0,Ia&&(ea=Ia),ea.value=ya,ea.state=2,pa(ea,!0))},Qa=function(ea,ya,Ia){if(!ea.done){ea.done=!0;Ia&&(ea=Ia);try{if(ea.facade===ya)throw new J("Promise can't be resolved itself");var Ya=oa(ya);Ya?
h(function(){var sb={done:!1};try{v(Ya,ya,Ha(Qa,sb,ea),Ha(ra,sb,ea))}catch(ub){ra(sb,ub,ea)}}):(ea.value=ya,ea.state=1,pa(ea,!1))}catch(sb){ra({done:!1},sb,ea)}}};if(w){G=function(ea){t(this,H);a(ea);v(ab,this);var ya=O(this);try{ea(Ha(Qa,ya),Ha(ra,ya))}catch(Ia){ra(ya,Ia)}};H=G.prototype;var ab=function(ea){z(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new p,rejection:!1,state:0,value:void 0})};ab.prototype=E(H,"then",function(ea,ya){var Ia=O(this),Ya=ia(b(this,G));Ia.parent=!0;
Ya.ok=m(ea)?ea:!0;Ya.fail=m(ya)&&ya;Ya.domain=y?S.domain:void 0;0===Ia.state?Ia.reactions.add(Ya):h(function(){R(Ya,Ia)});return Ya.promise});var gb=function(){var ea=new ab,ya=O(ea);this.promise=ea;this.resolve=Ha(Qa,ya);this.reject=Ha(ra,ya)};k.f=ia=function(ea){return ea===G||void 0===ea?new gb(ea):da(ea)};if(!C&&m(A)&&u!==Object.prototype){var T=u.then;F||E(u,"then",function(ea,ya){var Ia=this;return(new G(function(Ya,sb){v(T,Ia,Ya,sb)})).then(ea,ya)},{unsafe:!0});try{delete u.constructor}catch(ea){}c&&
c(u,H)}}L({global:!0,constructor:!0,wrap:!0,forced:w},{Promise:G});f(G,"Promise",!1,!0);x("Promise")},{"../internals/a-callable":80,"../internals/an-instance":84,"../internals/define-built-in":110,"../internals/engine-is-node":123,"../internals/export":132,"../internals/function-call":138,"../internals/global":148,"../internals/host-report-errors":151,"../internals/internal-state":159,"../internals/is-callable":162,"../internals/is-object":166,"../internals/is-pure":167,"../internals/microtask":179,
"../internals/new-promise-capability":180,"../internals/object-set-prototype-of":196,"../internals/perform":201,"../internals/promise-constructor-detection":202,"../internals/promise-native-constructor":203,"../internals/queue":206,"../internals/set-species":208,"../internals/set-to-string-tag":209,"../internals/species-constructor":213,"../internals/task":218}],256:[function(k,L,C){L=k("../internals/export");C=k("../internals/is-pure");var y=k("../internals/promise-native-constructor"),l=k("../internals/fails"),
v=k("../internals/get-built-in"),E=k("../internals/is-callable"),c=k("../internals/species-constructor"),f=k("../internals/promise-resolve");k=k("../internals/define-built-in");var x=y&&y.prototype;l=!!y&&l(function(){x["finally"].call({then:function(){}},function(){})});L({target:"Promise",proto:!0,real:!0,forced:l},{"finally":function(a){var m=c(this,v("Promise")),r=E(a);return this.then(r?function(t){return f(m,a()).then(function(){return t})}:a,r?function(t){return f(m,a()).then(function(){throw t;
})}:a)}});!C&&E(y)&&(L=v("Promise").prototype["finally"],x["finally"]!==L&&k(x,"finally",L,{unsafe:!0}))},{"../internals/define-built-in":110,"../internals/export":132,"../internals/fails":133,"../internals/get-built-in":143,"../internals/is-callable":162,"../internals/is-pure":167,"../internals/promise-native-constructor":203,"../internals/promise-resolve":204,"../internals/species-constructor":213}],257:[function(k,L,C){k("../modules/es.promise.constructor");k("../modules/es.promise.all");k("../modules/es.promise.catch");
k("../modules/es.promise.race");k("../modules/es.promise.reject");k("../modules/es.promise.resolve")},{"../modules/es.promise.all":252,"../modules/es.promise.catch":254,"../modules/es.promise.constructor":255,"../modules/es.promise.race":258,"../modules/es.promise.reject":259,"../modules/es.promise.resolve":260}],258:[function(k,L,C){L=k("../internals/export");var y=k("../internals/function-call"),l=k("../internals/a-callable"),v=k("../internals/new-promise-capability"),E=k("../internals/perform"),
c=k("../internals/iterate");k=k("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:k},{race:function(f){var x=this,a=v.f(x),m=a.reject,r=E(function(){var t=l(x.resolve);c(f,function(b){y(t,x,b).then(a.resolve,m)})});r.error&&m(r.value);return a.promise}})},{"../internals/a-callable":80,"../internals/export":132,"../internals/function-call":138,"../internals/iterate":170,"../internals/new-promise-capability":180,"../internals/perform":201,"../internals/promise-statics-incorrect-iteration":205}],
259:[function(k,L,C){L=k("../internals/export");var y=k("../internals/function-call"),l=k("../internals/new-promise-capability");k=k("../internals/promise-constructor-detection").CONSTRUCTOR;L({target:"Promise",stat:!0,forced:k},{reject:function(v){var E=l.f(this);y(E.reject,void 0,v);return E.promise}})},{"../internals/export":132,"../internals/function-call":138,"../internals/new-promise-capability":180,"../internals/promise-constructor-detection":202}],260:[function(k,L,C){L=k("../internals/export");
C=k("../internals/get-built-in");var y=k("../internals/is-pure"),l=k("../internals/promise-native-constructor"),v=k("../internals/promise-constructor-detection").CONSTRUCTOR,E=k("../internals/promise-resolve"),c=C("Promise"),f=y&&!v;L({target:"Promise",stat:!0,forced:y||v},{resolve:function(x){return E(f&&this===c?l:this,x)}})},{"../internals/export":132,"../internals/get-built-in":143,"../internals/is-pure":167,"../internals/promise-constructor-detection":202,"../internals/promise-native-constructor":203,
"../internals/promise-resolve":204}],261:[function(k,L,C){L=k("../internals/export");C=k("../internals/global");k=k("../internals/set-to-string-tag");L({global:!0},{Reflect:{}});k(C.Reflect,"Reflect",!0)},{"../internals/export":132,"../internals/global":148,"../internals/set-to-string-tag":209}],262:[function(k,L,C){L=k("../internals/collection");k=k("../internals/collection-strong");L("Set",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},k)},{"../internals/collection":101,
"../internals/collection-strong":100}],263:[function(k,L,C){k("../modules/es.set.constructor")},{"../modules/es.set.constructor":262}],264:[function(k,L,C){L=k("../internals/export");C=k("../internals/function-uncurry-this-clause");var y=k("../internals/object-get-own-property-descriptor").f,l=k("../internals/to-length"),v=k("../internals/to-string"),E=k("../internals/not-a-regexp"),c=k("../internals/require-object-coercible"),f=k("../internals/correct-is-regexp-logic");k=k("../internals/is-pure");
var x=C("".endsWith),a=C("".slice),m=Math.min;C=f("endsWith");k=!k&&!C&&!!function(){var r=y(String.prototype,"endsWith");return r&&!r.writable}();L({target:"String",proto:!0,forced:!k&&!C},{endsWith:function(r){var t=v(c(this));E(r);var b=1<arguments.length?arguments[1]:void 0,e=t.length;b=void 0===b?e:m(l(b),e);e=v(r);return x?x(t,e,b):a(t,b-e.length,b)===e}})},{"../internals/correct-is-regexp-logic":103,"../internals/export":132,"../internals/function-uncurry-this-clause":141,"../internals/is-pure":167,
"../internals/not-a-regexp":182,"../internals/object-get-own-property-descriptor":186,"../internals/require-object-coercible":207,"../internals/to-length":223,"../internals/to-string":228}],265:[function(k,L,C){var y=k("../internals/string-multibyte").charAt,l=k("../internals/to-string");L=k("../internals/internal-state");C=k("../internals/iterator-define");var v=k("../internals/create-iter-result-object"),E=L.set,c=L.getterFor("String Iterator");C(String,"String",function(f){E(this,{type:"String Iterator",
string:l(f),index:0})},function(){var f=c(this),x=f.string,a=f.index;if(a>=x.length)return v(void 0,!0);x=y(x,a);f.index+=x.length;return v(x,!1)})},{"../internals/create-iter-result-object":105,"../internals/internal-state":159,"../internals/iterator-define":173,"../internals/string-multibyte":214,"../internals/to-string":228}],266:[function(k,L,C){k("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":236}],267:[function(k,L,C){L=k("../internals/export");
var y=k("../internals/global"),l=k("../internals/function-call"),v=k("../internals/function-uncurry-this");C=k("../internals/is-pure");var E=k("../internals/descriptors"),c=k("../internals/symbol-constructor-detection"),f=k("../internals/fails"),x=k("../internals/has-own-property"),a=k("../internals/object-is-prototype-of"),m=k("../internals/an-object"),r=k("../internals/to-indexed-object"),t=k("../internals/to-property-key"),b=k("../internals/to-string"),e=k("../internals/create-property-descriptor"),
h=k("../internals/object-create"),n=k("../internals/object-keys"),g=k("../internals/object-get-own-property-names"),p=k("../internals/object-get-own-property-names-external"),u=k("../internals/object-get-own-property-symbols"),A=k("../internals/object-get-own-property-descriptor"),F=k("../internals/object-define-property"),w=k("../internals/object-define-properties"),I=k("../internals/object-property-is-enumerable"),O=k("../internals/define-built-in"),z=k("../internals/define-built-in-accessor"),
G=k("../internals/shared"),H=k("../internals/shared-key"),J=k("../internals/hidden-keys"),N=k("../internals/uid"),S=k("../internals/well-known-symbol"),ia=k("../internals/well-known-symbol-wrapped"),da=k("../internals/well-known-symbol-define"),ta=k("../internals/symbol-define-to-primitive"),oa=k("../internals/set-to-string-tag"),R=k("../internals/internal-state"),pa=k("../internals/array-iteration").forEach,ja=H("hidden"),za=R.set,ua=R.getterFor("Symbol"),Ha=Object.prototype,ra=(k=y.Symbol)&&k.prototype,
Qa=y.RangeError,ab=y.TypeError;H=y.QObject;var gb=A.f,T=F.f,ea=p.f,ya=I.f,Ia=v([].push),Ya=G("symbols"),sb=G("op-symbols");v=G("wks");var ub=!H||!H.prototype||!H.prototype.findChild,Na=function(fa,ba,va){var Fa=gb(Ha,ba);Fa&&delete Ha[ba];T(fa,ba,va);Fa&&fa!==Ha&&T(Ha,ba,Fa)},sa=E&&f(function(){return 7!==h(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?Na:T,Oa=function(fa,ba){var va=Ya[fa]=h(ra);za(va,{type:"Symbol",tag:fa,description:ba});E||(va.description=ba);return va},Ka=function(fa,
ba,va){fa===Ha&&Ka(sb,ba,va);m(fa);ba=t(ba);m(va);return x(Ya,ba)?(va.enumerable?(x(fa,ja)&&fa[ja][ba]&&(fa[ja][ba]=!1),va=h(va,{enumerable:e(0,!1)})):(x(fa,ja)||T(fa,ja,e(1,{})),fa[ja][ba]=!0),sa(fa,ba,va)):T(fa,ba,va)},bb=function(fa,ba){m(fa);var va=r(ba);ba=n(va).concat(ca(va));pa(ba,function(Fa){E&&!l(V,va,Fa)||Ka(fa,Fa,va[Fa])});return fa},V=function(fa){fa=t(fa);var ba=l(ya,this,fa);return this===Ha&&x(Ya,fa)&&!x(sb,fa)?!1:ba||!x(this,fa)||!x(Ya,fa)||x(this,ja)&&this[ja][fa]?ba:!0};f=function(fa,
ba){fa=r(fa);ba=t(ba);if(fa!==Ha||!x(Ya,ba)||x(sb,ba)){var va=gb(fa,ba);!va||!x(Ya,ba)||x(fa,ja)&&fa[ja][ba]||(va.enumerable=!0);return va}};G=function(fa){fa=ea(r(fa));var ba=[];pa(fa,function(va){x(Ya,va)||x(J,va)||Ia(ba,va)});return ba};var ca=function(fa){var ba=fa===Ha;fa=ea(ba?sb:r(fa));var va=[];pa(fa,function(Fa){!x(Ya,Fa)||ba&&!x(Ha,Fa)||Ia(va,Ya[Fa])});return va};c||(k=function(){if(a(ra,this))throw new ab("Symbol is not a constructor");var fa=arguments.length&&void 0!==arguments[0]?b(arguments[0]):
void 0,ba=N(fa),va=function(Fa){var Ga=void 0===this?y:this;Ga===Ha&&l(va,sb,Fa);x(Ga,ja)&&x(Ga[ja],ba)&&(Ga[ja][ba]=!1);Fa=e(1,Fa);try{sa(Ga,ba,Fa)}catch(na){if(!(na instanceof Qa))throw na;Na(Ga,ba,Fa)}};E&&ub&&sa(Ha,ba,{configurable:!0,set:va});return Oa(ba,fa)},ra=k.prototype,O(ra,"toString",function(){return ua(this).tag}),O(k,"withoutSetter",function(fa){return Oa(N(fa),fa)}),I.f=V,F.f=Ka,w.f=bb,A.f=f,g.f=p.f=G,u.f=ca,ia.f=function(fa){return Oa(S(fa),fa)},E&&(z(ra,"description",{configurable:!0,
get:function(){return ua(this).description}}),C||O(Ha,"propertyIsEnumerable",V,{unsafe:!0})));L({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:k});pa(n(v),function(fa){da(fa)});L({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){ub=!0},useSimple:function(){ub=!1}});L({target:"Object",stat:!0,forced:!c,sham:!E},{create:function(fa,ba){return void 0===ba?h(fa):bb(h(fa),ba)},defineProperty:Ka,defineProperties:bb,getOwnPropertyDescriptor:f});L({target:"Object",stat:!0,forced:!c},
{getOwnPropertyNames:G});ta();oa(k,"Symbol");J[ja]=!0},{"../internals/an-object":85,"../internals/array-iteration":91,"../internals/create-property-descriptor":107,"../internals/define-built-in":110,"../internals/define-built-in-accessor":109,"../internals/descriptors":113,"../internals/export":132,"../internals/fails":133,"../internals/function-call":138,"../internals/function-uncurry-this":142,"../internals/global":148,"../internals/has-own-property":149,"../internals/hidden-keys":150,"../internals/internal-state":159,
"../internals/is-pure":167,"../internals/object-create":183,"../internals/object-define-properties":184,"../internals/object-define-property":185,"../internals/object-get-own-property-descriptor":186,"../internals/object-get-own-property-names":188,"../internals/object-get-own-property-names-external":187,"../internals/object-get-own-property-symbols":189,"../internals/object-is-prototype-of":192,"../internals/object-keys":194,"../internals/object-property-is-enumerable":195,"../internals/set-to-string-tag":209,
"../internals/shared":212,"../internals/shared-key":210,"../internals/symbol-constructor-detection":215,"../internals/symbol-define-to-primitive":216,"../internals/to-indexed-object":221,"../internals/to-property-key":226,"../internals/to-string":228,"../internals/uid":231,"../internals/well-known-symbol":238,"../internals/well-known-symbol-define":236,"../internals/well-known-symbol-wrapped":237}],268:[function(k,L,C){L=k("../internals/export");var y=k("../internals/descriptors"),l=k("../internals/global");
C=k("../internals/function-uncurry-this");var v=k("../internals/has-own-property"),E=k("../internals/is-callable"),c=k("../internals/object-is-prototype-of"),f=k("../internals/to-string"),x=k("../internals/define-built-in-accessor");k=k("../internals/copy-constructor-properties");var a=l.Symbol,m=a&&a.prototype;if(y&&E(a)&&(!("description"in m)||void 0!==a().description)){var r={};y=function(){var p=1>arguments.length||void 0===arguments[0]?void 0:f(arguments[0]),u=c(m,this)?new a(p):void 0===p?a():
a(p);""===p&&(r[u]=!0);return u};k(y,a);y.prototype=m;m.constructor=y;var t="Symbol(description detection)"===String(a("description detection")),b=C(m.valueOf),e=C(m.toString),h=/^Symbol\((.*)\)[^)]+$/,n=C("".replace),g=C("".slice);x(m,"description",{configurable:!0,get:function(){var p=b(this);if(v(r,p))return"";p=e(p);p=t?g(p,7,-1):n(p,h,"$1");return""===p?void 0:p}});L({global:!0,constructor:!0,forced:!0},{Symbol:y})}},{"../internals/copy-constructor-properties":102,"../internals/define-built-in-accessor":109,
"../internals/descriptors":113,"../internals/export":132,"../internals/function-uncurry-this":142,"../internals/global":148,"../internals/has-own-property":149,"../internals/is-callable":162,"../internals/object-is-prototype-of":192,"../internals/to-string":228}],269:[function(k,L,C){L=k("../internals/export");var y=k("../internals/get-built-in"),l=k("../internals/has-own-property"),v=k("../internals/to-string");C=k("../internals/shared");k=k("../internals/symbol-registry-detection");var E=C("string-to-symbol-registry"),
c=C("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!k},{"for":function(f){f=v(f);if(l(E,f))return E[f];var x=y("Symbol")(f);E[f]=x;c[x]=f;return x}})},{"../internals/export":132,"../internals/get-built-in":143,"../internals/has-own-property":149,"../internals/shared":212,"../internals/symbol-registry-detection":217,"../internals/to-string":228}],270:[function(k,L,C){k("../internals/well-known-symbol-define")("hasInstance")},{"../internals/well-known-symbol-define":236}],271:[function(k,
L,C){k("../internals/well-known-symbol-define")("isConcatSpreadable")},{"../internals/well-known-symbol-define":236}],272:[function(k,L,C){k("../internals/well-known-symbol-define")("iterator")},{"../internals/well-known-symbol-define":236}],273:[function(k,L,C){k("../modules/es.symbol.constructor");k("../modules/es.symbol.for");k("../modules/es.symbol.key-for");k("../modules/es.json.stringify");k("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":244,"../modules/es.object.get-own-property-symbols":249,
"../modules/es.symbol.constructor":267,"../modules/es.symbol.for":269,"../modules/es.symbol.key-for":274}],274:[function(k,L,C){L=k("../internals/export");var y=k("../internals/has-own-property"),l=k("../internals/is-symbol"),v=k("../internals/try-to-string");C=k("../internals/shared");k=k("../internals/symbol-registry-detection");var E=C("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!k},{keyFor:function(c){if(!l(c))throw new TypeError(v(c)+" is not a symbol");if(y(E,c))return E[c]}})},
{"../internals/export":132,"../internals/has-own-property":149,"../internals/is-symbol":169,"../internals/shared":212,"../internals/symbol-registry-detection":217,"../internals/try-to-string":229}],275:[function(k,L,C){k("../internals/well-known-symbol-define")("matchAll")},{"../internals/well-known-symbol-define":236}],276:[function(k,L,C){k("../internals/well-known-symbol-define")("match")},{"../internals/well-known-symbol-define":236}],277:[function(k,L,C){k("../internals/well-known-symbol-define")("replace")},
{"../internals/well-known-symbol-define":236}],278:[function(k,L,C){k("../internals/well-known-symbol-define")("search")},{"../internals/well-known-symbol-define":236}],279:[function(k,L,C){k("../internals/well-known-symbol-define")("species")},{"../internals/well-known-symbol-define":236}],280:[function(k,L,C){k("../internals/well-known-symbol-define")("split")},{"../internals/well-known-symbol-define":236}],281:[function(k,L,C){L=k("../internals/well-known-symbol-define");k=k("../internals/symbol-define-to-primitive");
L("toPrimitive");k()},{"../internals/symbol-define-to-primitive":216,"../internals/well-known-symbol-define":236}],282:[function(k,L,C){L=k("../internals/get-built-in");C=k("../internals/well-known-symbol-define");k=k("../internals/set-to-string-tag");C("toStringTag");k(L("Symbol"),"Symbol")},{"../internals/get-built-in":143,"../internals/set-to-string-tag":209,"../internals/well-known-symbol-define":236}],283:[function(k,L,C){k("../internals/well-known-symbol-define")("unscopables")},{"../internals/well-known-symbol-define":236}],
284:[function(k,L,C){C=k("../internals/array-buffer-view-core");var y=k("../internals/array-fill"),l=k("../internals/to-big-int"),v=k("../internals/classof"),E=k("../internals/function-call");L=k("../internals/function-uncurry-this");k=k("../internals/fails");var c=C.aTypedArray;C=C.exportTypedArrayMethod;var f=L("".slice);k=k(function(){var x=0;(new Int8Array(2)).fill({valueOf:function(){return x++}});return 1!==x});C("fill",function(x){var a=arguments.length;c(this);var m="Big"===f(v(this),0,3)?
l(x):+x;return E(y,this,m,1<a?arguments[1]:void 0,2<a?arguments[2]:void 0)},k)},{"../internals/array-buffer-view-core":88,"../internals/array-fill":89,"../internals/classof":99,"../internals/fails":133,"../internals/function-call":138,"../internals/function-uncurry-this":142,"../internals/to-big-int":220}],285:[function(k,L,C){C=k("../internals/array-buffer-view-core");var y=k("../internals/typed-array-species-constructor");L=k("../internals/fails");var l=k("../internals/array-slice"),v=C.aTypedArray;
k=C.exportTypedArrayMethod;L=L(function(){(new Int8Array(1)).slice()});k("slice",function(E,c){E=l(v(this),E,c);var f=y(this);c=0;var x=E.length;for(f=new f(x);x>c;)f[c]=E[c++];return f},L)},{"../internals/array-buffer-view-core":88,"../internals/array-slice":94,"../internals/fails":133,"../internals/typed-array-species-constructor":230}],286:[function(k,L,C){L=k("../internals/global");var y=k("../internals/dom-iterables");C=k("../internals/dom-token-list-prototype");var l=k("../modules/es.array.iterator"),
v=k("../internals/create-non-enumerable-property");k=k("../internals/well-known-symbol");var E=k("iterator"),c=k("toStringTag"),f=l.values;k=function(a,m){if(a){if(a[E]!==f)try{v(a,E,f)}catch(t){a[E]=f}a[c]||v(a,c,m);if(y[m])for(var r in l)if(a[r]!==l[r])try{v(a,r,l[r])}catch(t){a[r]=l[r]}}};for(var x in y)k(L[x]&&L[x].prototype,x);k(C,"DOMTokenList")},{"../internals/create-non-enumerable-property":106,"../internals/dom-iterables":117,"../internals/dom-token-list-prototype":118,"../internals/global":148,
"../internals/well-known-symbol":238,"../modules/es.array.iterator":243}],287:[function(k,L,C){k=k("../../es/array/fill");L.exports=k},{"../../es/array/fill":71}],288:[function(k,L,C){k=k("../../es/array/iterator");L.exports=k},{"../../es/array/iterator":72}],289:[function(k,L,C){C=k("../../es/map");k("../../modules/web.dom-collections.iterator");L.exports=C},{"../../es/map":73,"../../modules/web.dom-collections.iterator":286}],290:[function(k,L,C){C=k("../../es/promise");k("../../modules/web.dom-collections.iterator");
L.exports=C},{"../../es/promise":74,"../../modules/web.dom-collections.iterator":286}],291:[function(k,L,C){C=k("../../es/set");k("../../modules/web.dom-collections.iterator");L.exports=C},{"../../es/set":75,"../../modules/web.dom-collections.iterator":286}],292:[function(k,L,C){k=k("../../es/string/ends-with");L.exports=k},{"../../es/string/ends-with":76}],293:[function(k,L,C){C=k("../../es/symbol");k("../../modules/web.dom-collections.iterator");L.exports=C},{"../../es/symbol":77,"../../modules/web.dom-collections.iterator":286}],
294:[function(k,L,C){k=k("../../es/typed-array/fill");L.exports=k},{"../../es/typed-array/fill":78}],295:[function(k,L,C){k=k("../../es/typed-array/slice");L.exports=k},{"../../es/typed-array/slice":79}],296:[function(k,L,C){(function(y){(function(){(function(l,v){"undefined"!=typeof C?v():(v(),l.FileSaver={})})(this,function(){function l(m,r){return"undefined"==typeof r?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&
/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\ufeff",m],{type:m.type}):m}function v(m,r,t){var b=new XMLHttpRequest;b.open("GET",m);b.responseType="blob";b.onload=function(){a(b.response,r,t)};b.onerror=function(){console.error("could not download file")};b.send()}function E(m){var r=new XMLHttpRequest;r.open("HEAD",m,!1);try{r.send()}catch(t){}return 200<=r.status&&299>=r.status}function c(m){try{m.dispatchEvent(new MouseEvent("click"))}catch(t){var r=
document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);m.dispatchEvent(r)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof y&&y.global===y?y:void 0,x=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&
!x?function(m,r,t){var b=f.URL||f.webkitURL,e=document.createElement("a");r=r||m.name||"download";e.download=r;e.rel="noopener";"string"==typeof m?(e.href=m,e.origin===location.origin?c(e):E(e.href)?v(m,r,t):c(e,e.target="_blank")):(e.href=b.createObjectURL(m),setTimeout(function(){b.revokeObjectURL(e.href)},4E4),setTimeout(function(){c(e)},0))}:"msSaveOrOpenBlob"in navigator?function(m,r,t){if(r=r||m.name||"download","string"!=typeof m)navigator.msSaveOrOpenBlob(l(m,t),r);else if(E(m))v(m,r,t);else{var b=
document.createElement("a");b.href=m;b.target="_blank";setTimeout(function(){c(b)})}}:function(m,r,t,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),"string"==typeof m)return v(m,r,t);r="application/octet-stream"===m.type;t=/constructor/i.test(f.HTMLElement)||f.safari;var e=/CriOS\/[\d]+/.test(navigator.userAgent);if((e||r&&t||x)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var p=h.result;p=e?p:p.replace(/^data:[^;]*;/,
"data:attachment/file;");b?b.location.href=p:location=p;b=null};h.readAsDataURL(m)}else{var n=f.URL||f.webkitURL,g=n.createObjectURL(m);b?b.location=g:location.href=g;b=null;setTimeout(function(){n.revokeObjectURL(g)},4E4)}});f.saveAs=a.saveAs=a;"undefined"!=typeof L&&(L.exports=a)})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],297:[function(k,L,C){(function(y,l){"object"===typeof L&&"object"===typeof L.exports?
L.exports=y.document?l(y,!0):function(v){if(!v.document)throw Error("jQuery requires a window with a document");return l(v)}:l(y)})("undefined"!==typeof window?window:this,function(y,l){function v(q,B,M){M=M||Ra;var Q,U=M.createElement("script");U.text=q;if(B)for(Q in Va)(q=B[Q]||B.getAttribute&&B.getAttribute(Q))&&U.setAttribute(Q,q);M.head.appendChild(U).parentNode.removeChild(U)}function E(q){return null==q?q+"":"object"===typeof q||"function"===typeof q?Ga[na.call(q)]||"object":typeof q}function c(q){var B=
!!q&&"length"in q&&q.length,M=E(q);return Z(q)||Aa(q)?!1:"array"===M||0===B||"number"===typeof B&&0<B&&B-1 in q}function f(q,B){return q.nodeName&&q.nodeName.toLowerCase()===B.toLowerCase()}function x(q,B){return B?"\x00"===q?"\ufffd":q.slice(0,-1)+"\\"+q.charCodeAt(q.length-1).toString(16)+" ":"\\"+q}function a(q,B,M){return Z(B)?P.grep(q,function(Q,U){return!!B.call(Q,U,Q)!==M}):B.nodeType?P.grep(q,function(Q){return Q===B!==M}):"string"!==typeof B?P.grep(q,function(Q){return-1<Fa.call(B,Q)!==M}):
P.filter(B,q,M)}function m(q,B){for(;(q=q[B])&&1!==q.nodeType;);return q}function r(q){var B={};P.each(q.match(yb)||[],function(M,Q){B[Q]=!0});return B}function t(q){return q}function b(q){throw q;}function e(q,B,M,Q){var U;try{q&&Z(U=q.promise)?U.call(q).done(B).fail(M):q&&Z(U=q.then)?U.call(q,B,M):B.apply(void 0,[q].slice(Q))}catch(Y){M.apply(void 0,[Y])}}function h(){Ra.removeEventListener("DOMContentLoaded",h);y.removeEventListener("load",h);P.ready()}function n(q,B){return B.toUpperCase()}function g(q){return q.replace(nb,
"ms-").replace(hc,n)}function p(){this.expando=P.expando+p.uid++}function u(q,B,M){if(void 0===M&&1===q.nodeType)if(M="data-"+B.replace(rc,"-$&").toLowerCase(),M=q.getAttribute(M),"string"===typeof M){try{var Q=M;M="true"===Q?!0:"false"===Q?!1:"null"===Q?null:Q===+Q+""?+Q:ec.test(Q)?JSON.parse(Q):Q}catch(U){}Ob.set(q,B,M)}else M=void 0;return M}function A(q,B,M,Q){var U,Y=20,la=Q?function(){return Q.cur()}:function(){return P.css(q,B,"")},Ba=la(),wa=M&&M[3]||(P.cssNumber[B]?"":"px"),xa=q.nodeType&&
(P.cssNumber[B]||"px"!==wa&&+Ba)&&Yb.exec(P.css(q,B));if(xa&&xa[3]!==wa){Ba/=2;wa=wa||xa[3];for(xa=+Ba||1;Y--;)P.style(q,B,xa+wa),0>=(1-U)*(1-(U=la()/Ba||.5))&&(Y=0),xa/=U;xa*=2;P.style(q,B,xa+wa);M=M||[]}if(M){xa=+xa||+Ba||0;var Ua=M[1]?xa+(M[1]+1)*M[2]:+M[2];Q&&(Q.unit=wa,Q.start=xa,Q.end=Ua)}return Ua}function F(q,B){for(var M,Q,U=[],Y=0,la=q.length;Y<la;Y++)if(Q=q[Y],Q.style)if(M=Q.style.display,B){if("none"===M&&(U[Y]=mb.get(Q,"display")||null,U[Y]||(Q.style.display="")),""===Q.style.display&&
Bc(Q)){M=Y;var Ba=Q.ownerDocument;Q=Q.nodeName;var wa=Fc[Q];wa||(Ba=Ba.body.appendChild(Ba.createElement(Q)),wa=P.css(Ba,"display"),Ba.parentNode.removeChild(Ba),"none"===wa&&(wa="block"),Fc[Q]=wa);Ba=wa;U[M]=Ba}}else"none"!==M&&(U[Y]="none",mb.set(Q,"display",M));for(Y=0;Y<la;Y++)null!=U[Y]&&(q[Y].style.display=U[Y]);return q}function w(q,B){var M="undefined"!==typeof q.getElementsByTagName?q.getElementsByTagName(B||"*"):"undefined"!==typeof q.querySelectorAll?q.querySelectorAll(B||"*"):[];return void 0===
B||B&&f(q,B)?P.merge([q],M):M}function I(q,B){for(var M=0,Q=q.length;M<Q;M++)mb.set(q[M],"globalEval",!B||mb.get(B[M],"globalEval"))}function O(q,B,M,Q,U){for(var Y,la,Ba,wa=B.createDocumentFragment(),xa=[],Ua=0,cb=q.length;Ua<cb;Ua++)if((Y=q[Ua])||0===Y)if("object"===E(Y))P.merge(xa,Y.nodeType?[Y]:Y);else if(ib.test(Y)){la=la||wa.appendChild(B.createElement("div"));Ba=(ha.exec(Y)||["",""])[1].toLowerCase();Ba=Sa[Ba]||Sa._default;la.innerHTML=Ba[1]+P.htmlPrefilter(Y)+Ba[2];for(Ba=Ba[0];Ba--;)la=la.lastChild;
P.merge(xa,la.childNodes);la=wa.firstChild;la.textContent=""}else xa.push(B.createTextNode(Y));wa.textContent="";for(Ua=0;Y=xa[Ua++];)if(Q&&-1<P.inArray(Y,Q))U&&U.push(Y);else if(q=yc(Y),la=w(wa.appendChild(Y),"script"),q&&I(la),M)for(Ba=0;Y=la[Ba++];)La.test(Y.type||"")&&M.push(Y);return wa}function z(){return!0}function G(){return!1}function H(q,B,M,Q,U,Y){var la;if("object"===typeof B){"string"!==typeof M&&(Q=Q||M,M=void 0);for(la in B)H(q,la,M,Q,B[la],Y);return q}null==Q&&null==U?(U=M,Q=M=void 0):
null==U&&("string"===typeof M?(U=Q,Q=void 0):(U=Q,Q=M,M=void 0));if(!1===U)U=G;else if(!U)return q;if(1===Y){var Ba=U;U=function(wa){P().off(wa);return Ba.apply(this,arguments)};U.guid=Ba.guid||(Ba.guid=P.guid++)}return q.each(function(){P.event.add(this,B,U,Q,M)})}function J(q,B,M){M?(mb.set(q,B,!1),P.event.add(q,B,{namespace:!1,handler:function(Q){var U=mb.get(this,B);if(Q.isTrigger&1&&this[B])if(U)(P.event.special[B]||{}).delegateType&&Q.stopPropagation();else{U=fa.call(arguments);mb.set(this,
B,U);this[B]();var Y=mb.get(this,B);mb.set(this,B,!1);if(U!==Y)return Q.stopImmediatePropagation(),Q.preventDefault(),Y}else U&&(mb.set(this,B,P.event.trigger(U[0],U.slice(1),this)),Q.stopPropagation(),Q.isImmediatePropagationStopped=z)}})):void 0===mb.get(q,B)&&P.event.add(q,B,z)}function N(q,B){return f(q,"table")&&f(11!==B.nodeType?B:B.firstChild,"tr")?P(q).children("tbody")[0]||q:q}function S(q){q.type=(null!==q.getAttribute("type"))+"/"+q.type;return q}function ia(q){"true/"===(q.type||"").slice(0,
5)?q.type=q.type.slice(5):q.removeAttribute("type");return q}function da(q,B){var M,Q,U;if(1===B.nodeType){if(mb.hasData(q)){var Y=mb.get(q);if(U=Y.events)for(Q in mb.remove(B,"handle events"),U)for(Y=0,M=U[Q].length;Y<M;Y++)P.event.add(B,Q,U[Q][Y])}Ob.hasData(q)&&(q=Ob.access(q),q=P.extend({},q),Ob.set(B,q))}}function ta(q,B,M,Q){B=ba(B);var U,Y=0,la=q.length,Ba=la-1,wa=B[0],xa=Z(wa);if(xa||1<la&&"string"===typeof wa&&!K.checkClone&&W.test(wa))return q.each(function(Hb){var wb=q.eq(Hb);xa&&(B[0]=
wa.call(this,Hb,wb.html()));ta(wb,B,M,Q)});if(la){var Ua=O(B,q[0].ownerDocument,!1,q,Q);var cb=Ua.firstChild;1===Ua.childNodes.length&&(Ua=cb);if(cb||Q){cb=P.map(w(Ua,"script"),S);for(U=cb.length;Y<la;Y++){var kb=Ua;Y!==Ba&&(kb=P.clone(kb,!0,!0),U&&P.merge(cb,w(kb,"script")));M.call(q[Y],kb,Y)}if(U)for(Ua=cb[cb.length-1].ownerDocument,P.map(cb,ia),Y=0;Y<U;Y++)kb=cb[Y],La.test(kb.type||"")&&!mb.access(kb,"globalEval")&&P.contains(Ua,kb)&&(kb.src&&"module"!==(kb.type||"").toLowerCase()?P._evalUrl&&
!kb.noModule&&P._evalUrl(kb.src,{nonce:kb.nonce||kb.getAttribute("nonce")},Ua):v(kb.textContent.replace(qa,""),kb,Ua))}}return q}function oa(q,B,M){for(var Q=B?P.filter(B,q):q,U=0;null!=(B=Q[U]);U++)M||1!==B.nodeType||P.cleanData(w(B)),B.parentNode&&(M&&yc(B)&&I(w(B,"script")),B.parentNode.removeChild(B));return q}function R(q,B,M){var Q=ka.test(B);var U=q.style;if(M=M||Ea(q)){var Y=M.getPropertyValue(B)||M[B];Q&&Y&&(Y=Y.replace(sc,"$1")||void 0);""!==Y||yc(q)||(Y=P.style(q,B));!K.pixelBoxStyles()&&
Ma.test(Y)&&Ja.test(B)&&(q=U.width,B=U.minWidth,Q=U.maxWidth,U.minWidth=U.maxWidth=U.width=Y,Y=M.width,U.width=q,U.minWidth=B,U.maxWidth=Q)}return void 0!==Y?Y+"":Y}function pa(q,B){return{get:function(){if(q())delete this.get;else return(this.get=B).apply(this,arguments)}}}function ja(q){var B=P.cssProps[q]||ob[q];if(B)return B;if(q in $a)return q;a:{B=q;for(var M=B[0].toUpperCase()+B.slice(1),Q=Xa.length;Q--;)if(B=Xa[Q]+M,B in $a)break a;B=void 0}return ob[q]=B||q}function za(q,B,M){return(q=Yb.exec(B))?
Math.max(0,q[2]-(M||0))+(q[3]||"px"):B}function ua(q,B,M,Q,U,Y){var la="width"===B?1:0,Ba=0,wa=0,xa=0;if(M===(Q?"border":"content"))return 0;for(;4>la;la+=2)"margin"===M&&(xa+=P.css(q,M+Vb[la],!0,U)),Q?("content"===M&&(wa-=P.css(q,"padding"+Vb[la],!0,U)),"margin"!==M&&(wa-=P.css(q,"border"+Vb[la]+"Width",!0,U))):(wa+=P.css(q,"padding"+Vb[la],!0,U),"padding"!==M?wa+=P.css(q,"border"+Vb[la]+"Width",!0,U):Ba+=P.css(q,"border"+Vb[la]+"Width",!0,U));!Q&&0<=Y&&(wa+=Math.max(0,Math.ceil(q["offset"+B[0].toUpperCase()+
B.slice(1)]-Y-wa-Ba-.5))||0);return wa+xa}function Ha(q,B,M){var Q=Ea(q),U=(!K.boxSizingReliable()||M)&&"border-box"===P.css(q,"boxSizing",!1,Q),Y=U,la=R(q,B,Q),Ba="offset"+B[0].toUpperCase()+B.slice(1);if(Ma.test(la)){if(!M)return la;la="auto"}(!K.boxSizingReliable()&&U||!K.reliableTrDimensions()&&f(q,"tr")||"auto"===la||!parseFloat(la)&&"inline"===P.css(q,"display",!1,Q))&&q.getClientRects().length&&(U="border-box"===P.css(q,"boxSizing",!1,Q),(Y=Ba in q)&&(la=q[Ba]));la=parseFloat(la)||0;return la+
ua(q,B,M||(U?"border":"content"),Y,Q,la)+"px"}function ra(q,B,M,Q,U){return new ra.prototype.init(q,B,M,Q,U)}function Qa(){mc&&(!1===Ra.hidden&&y.requestAnimationFrame?y.requestAnimationFrame(Qa):y.setTimeout(Qa,P.fx.interval),P.fx.tick())}function ab(){y.setTimeout(function(){Nb=void 0});return Nb=Date.now()}function gb(q,B){var M=0,Q={height:q};for(B=B?1:0;4>M;M+=2-B){var U=Vb[M];Q["margin"+U]=Q["padding"+U]=q}B&&(Q.opacity=Q.width=q);return Q}function T(q,B,M){for(var Q,U=(ya.tweeners[B]||[]).concat(ya.tweeners["*"]),
Y=0,la=U.length;Y<la;Y++)if(Q=U[Y].call(M,B,q))return Q}function ea(q,B){var M,Q;for(M in q){var U=g(M);var Y=B[U];var la=q[M];Array.isArray(la)&&(Y=la[1],la=q[M]=la[0]);M!==U&&(q[U]=la,delete q[M]);if((Q=P.cssHooks[U])&&"expand"in Q)for(M in la=Q.expand(la),delete q[U],la)M in q||(q[M]=la[M],B[M]=Y);else B[U]=Y}}function ya(q,B,M){var Q,U=0,Y=ya.prefilters.length,la=P.Deferred().always(function(){delete Ba.elem}),Ba=function(){if(Q)return!1;var xa=Nb||ab();xa=Math.max(0,wa.startTime+wa.duration-
xa);for(var Ua=1-(xa/wa.duration||0),cb=0,kb=wa.tweens.length;cb<kb;cb++)wa.tweens[cb].run(Ua);la.notifyWith(q,[wa,Ua,xa]);if(1>Ua&&kb)return xa;kb||la.notifyWith(q,[wa,1,0]);la.resolveWith(q,[wa]);return!1},wa=la.promise({elem:q,props:P.extend({},B),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},M),originalProperties:B,originalOptions:M,startTime:Nb||ab(),duration:M.duration,tweens:[],createTween:function(xa,Ua){xa=P.Tween(q,wa.opts,xa,Ua,wa.opts.specialEasing[xa]||wa.opts.easing);
wa.tweens.push(xa);return xa},stop:function(xa){var Ua=0,cb=xa?wa.tweens.length:0;if(Q)return this;for(Q=!0;Ua<cb;Ua++)wa.tweens[Ua].run(1);xa?(la.notifyWith(q,[wa,1,0]),la.resolveWith(q,[wa,xa])):la.rejectWith(q,[wa,xa]);return this}});M=wa.props;for(ea(M,wa.opts.specialEasing);U<Y;U++)if(B=ya.prefilters[U].call(wa,q,M,wa.opts))return Z(B.stop)&&(P._queueHooks(wa.elem,wa.opts.queue).stop=B.stop.bind(B)),B;P.map(M,T,wa);Z(wa.opts.start)&&wa.opts.start.call(q,wa);wa.progress(wa.opts.progress).done(wa.opts.done,
wa.opts.complete).fail(wa.opts.fail).always(wa.opts.always);P.fx.timer(P.extend(Ba,{elem:q,anim:wa,queue:wa.opts.queue}));return wa}function Ia(q){return(q.match(yb)||[]).join(" ")}function Ya(q){return q.getAttribute&&q.getAttribute("class")||""}function sb(q){return Array.isArray(q)?q:"string"===typeof q?q.match(yb)||[]:[]}function ub(q,B,M,Q){var U;if(Array.isArray(B))P.each(B,function(Y,la){M||fd.test(q)?Q(q,la):ub(q+"["+("object"===typeof la&&null!=la?Y:"")+"]",la,M,Q)});else if(M||"object"!==
E(B))Q(q,B);else for(U in B)ub(q+"["+U+"]",B[U],M,Q)}function Na(q){return function(B,M){"string"!==typeof B&&(M=B,B="*");var Q=0,U=B.toLowerCase().match(yb)||[];if(Z(M))for(;B=U[Q++];)"+"===B[0]?(B=B.slice(1)||"*",(q[B]=q[B]||[]).unshift(M)):(q[B]=q[B]||[]).push(M)}}function sa(q,B,M,Q){function U(Ba){var wa;Y[Ba]=!0;P.each(q[Ba]||[],function(xa,Ua){xa=Ua(B,M,Q);if("string"===typeof xa&&!la&&!Y[xa])return B.dataTypes.unshift(xa),U(xa),!1;if(la)return!(wa=xa)});return wa}var Y={},la=q===Nc;return U(B.dataTypes[0])||
!Y["*"]&&U("*")}function Oa(q,B){var M,Q,U=P.ajaxSettings.flatOptions||{};for(M in B)void 0!==B[M]&&((U[M]?q:Q||={})[M]=B[M]);Q&&P.extend(!0,q,Q);return q}function Ka(q,B,M){for(var Q,U,Y,la,Ba=q.contents,wa=q.dataTypes;"*"===wa[0];)wa.shift(),void 0===Q&&(Q=q.mimeType||B.getResponseHeader("Content-Type"));if(Q)for(U in Ba)if(Ba[U]&&Ba[U].test(Q)){wa.unshift(U);break}if(wa[0]in M)Y=wa[0];else{for(U in M){if(!wa[0]||q.converters[U+" "+wa[0]]){Y=U;break}la||=U}Y=Y||la}if(Y)return Y!==wa[0]&&wa.unshift(Y),
M[Y]}function bb(q,B,M,Q){var U,Y,la={},Ba=q.dataTypes.slice();if(Ba[1])for(xa in q.converters)la[xa.toLowerCase()]=q.converters[xa];for(Y=Ba.shift();Y;){q.responseFields[Y]&&(M[q.responseFields[Y]]=B);!wa&&Q&&q.dataFilter&&(B=q.dataFilter(B,q.dataType));var wa=Y;if(Y=Ba.shift())if("*"===Y)Y=wa;else if("*"!==wa&&wa!==Y){var xa=la[wa+" "+Y]||la["* "+Y];if(!xa)for(U in la){var Ua=U.split(" ");if(Ua[1]===Y&&(xa=la[wa+" "+Ua[0]]||la["* "+Ua[0]])){!0===xa?xa=la[U]:!0!==la[U]&&(Y=Ua[0],Ba.unshift(Ua[1]));
break}}if(!0!==xa)if(xa&&q.throws)B=xa(B);else try{B=xa(B)}catch(cb){return{state:"parsererror",error:xa?cb:"No conversion from "+wa+" to "+Y}}}}return{state:"success",data:B}}var V=[],ca=Object.getPrototypeOf,fa=V.slice,ba=V.flat?function(q){return V.flat.call(q)}:function(q){return V.concat.apply([],q)},va=V.push,Fa=V.indexOf,Ga={},na=Ga.toString,X=Ga.hasOwnProperty,aa=X.toString,D=aa.call(Object),K={},Z=function(q){return"function"===typeof q&&"number"!==typeof q.nodeType&&"function"!==typeof q.item},
Aa=function(q){return null!=q&&q===q.window},Ra=y.document,Va={type:!0,src:!0,nonce:!0,noModule:!0},Eb=/HTML$/i,P=function(q,B){return new P.fn.init(q,B)};P.fn=P.prototype={jquery:"3.7.1",constructor:P,length:0,toArray:function(){return fa.call(this)},get:function(q){return null==q?fa.call(this):0>q?this[q+this.length]:this[q]},pushStack:function(q){q=P.merge(this.constructor(),q);q.prevObject=this;return q},each:function(q){return P.each(this,q)},map:function(q){return this.pushStack(P.map(this,
function(B,M){return q.call(B,M,B)}))},slice:function(){return this.pushStack(fa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(q,B){return(B+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(q,B){return B%2}))},eq:function(q){var B=this.length;q=+q+(0>q?B:0);return this.pushStack(0<=q&&q<B?[this[q]]:[])},end:function(){return this.prevObject||this.constructor()},push:va,sort:V.sort,
splice:V.splice};P.extend=P.fn.extend=function(){var q,B,M,Q=arguments[0]||{},U=1,Y=arguments.length,la=!1;"boolean"===typeof Q&&(la=Q,Q=arguments[U]||{},U++);"object"===typeof Q||Z(Q)||(Q={});U===Y&&(Q=this,U--);for(;U<Y;U++)if(null!=(q=arguments[U]))for(B in q){var Ba=q[B];if("__proto__"!==B&&Q!==Ba)if(la&&Ba&&(P.isPlainObject(Ba)||(M=Array.isArray(Ba)))){var wa=Q[B];wa=M&&!Array.isArray(wa)?[]:M||P.isPlainObject(wa)?wa:{};M=!1;Q[B]=P.extend(la,wa,Ba)}else void 0!==Ba&&(Q[B]=Ba)}return Q};P.extend({expando:"jQuery"+
("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(q){throw Error(q);},noop:function(){},isPlainObject:function(q){if(!q||"[object Object]"!==na.call(q))return!1;q=ca(q);if(!q)return!0;q=X.call(q,"constructor")&&q.constructor;return"function"===typeof q&&aa.call(q)===D},isEmptyObject:function(q){for(var B in q)return!1;return!0},globalEval:function(q,B,M){v(q,{nonce:B&&B.nonce},M)},each:function(q,B){var M,Q=0;if(c(q))for(M=q.length;Q<M&&!1!==B.call(q[Q],Q,q[Q]);Q++);else for(Q in q)if(!1===
B.call(q[Q],Q,q[Q]))break;return q},text:function(q){var B,M="",Q=0,U=q.nodeType;if(!U)for(;B=q[Q++];)M+=P.text(B);return 1===U||11===U?q.textContent:9===U?q.documentElement.textContent:3===U||4===U?q.nodeValue:M},makeArray:function(q,B){B=B||[];null!=q&&(c(Object(q))?P.merge(B,"string"===typeof q?[q]:q):va.call(B,q));return B},inArray:function(q,B,M){return null==B?-1:Fa.call(B,q,M)},isXMLDoc:function(q){var B=q&&(q.ownerDocument||q).documentElement;return!Eb.test(q&&q.namespaceURI||B&&B.nodeName||
"HTML")},merge:function(q,B){for(var M=+B.length,Q=0,U=q.length;Q<M;Q++)q[U++]=B[Q];q.length=U;return q},grep:function(q,B,M){for(var Q=[],U=0,Y=q.length,la=!M;U<Y;U++)M=!B(q[U],U),M!==la&&Q.push(q[U]);return Q},map:function(q,B,M){var Q,U=0,Y=[];if(c(q))for(Q=q.length;U<Q;U++){var la=B(q[U],U,M);null!=la&&Y.push(la)}else for(U in q)la=B(q[U],U,M),null!=la&&Y.push(la);return ba(Y)},guid:1,support:K});"function"===typeof Symbol&&(P.fn[Symbol.iterator]=V[Symbol.iterator]);P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(q,B){Ga["[object "+B+"]"]=B.toLowerCase()});var Ib=V.pop,cc=V.sort,Mb=V.splice,sc=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");P.contains=function(q,B){B=B&&B.parentNode;return q===B||!!(B&&1===B.nodeType&&(q.contains?q.contains(B):q.compareDocumentPosition&&q.compareDocumentPosition(B)&16))};var eb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;P.escapeSelector=function(q){return(q+"").replace(eb,x)};var Jb=Ra;(function(){function q(ma,Da,Ca,Wa){var Za,
fb,lb,xb,db=Da&&Da.ownerDocument;var tb=Da?Da.nodeType:9;Ca=Ca||[];if("string"!==typeof ma||!ma||1!==tb&&9!==tb&&11!==tb)return Ca;if(!Wa&&(xa(Da),Da=Da||Db,dc)){if(11!==tb&&(xb=gd.exec(ma)))if(Za=xb[1])if(9===tb)if(fb=Da.getElementById(Za)){if(fb.id===Za)return $b.call(Ca,fb),Ca}else return Ca;else{if(db&&(fb=db.getElementById(Za))&&q.contains(Da,fb)&&fb.id===Za)return $b.call(Ca,fb),Ca}else{if(xb[2])return $b.apply(Ca,Da.getElementsByTagName(ma)),Ca;if((Za=xb[3])&&Da.getElementsByClassName)return $b.apply(Ca,
Da.getElementsByClassName(Za)),Ca}if(!(Kc[ma+" "]||fc&&fc.test(ma))){Za=ma;db=Da;if(1===tb&&(hd.test(ma)||Vc.test(ma))){db=Oc.test(ma)&&wa(Da.parentNode)||Da;db==Da&&K.scope||((lb=Da.getAttribute("id"))?lb=P.escapeSelector(lb):Da.setAttribute("id",lb=Pb));Za=cb(ma);for(tb=Za.length;tb--;)Za[tb]=(lb?"#"+lb:":scope")+" "+kb(Za[tb]);Za=Za.join(",")}try{return $b.apply(Ca,db.querySelectorAll(Za)),Ca}catch(zb){Kc(ma,!0)}finally{lb===Pb&&Da.removeAttribute("id")}}}return ic(ma.replace(sc,"$1"),Da,Ca,Wa)}
function B(){function ma(Ca,Wa){Da.push(Ca+" ")>Gb.cacheLength&&delete ma[Da.shift()];return ma[Ca+" "]=Wa}var Da=[];return ma}function M(ma){ma[Pb]=!0;return ma}function Q(ma){var Da=Db.createElement("fieldset");try{return!!ma(Da)}catch(Ca){return!1}finally{Da.parentNode&&Da.parentNode.removeChild(Da)}}function U(ma){return function(Da){return f(Da,"input")&&Da.type===ma}}function Y(ma){return function(Da){return(f(Da,"input")||f(Da,"button"))&&Da.type===ma}}function la(ma){return function(Da){return"form"in
Da?Da.parentNode&&!1===Da.disabled?"label"in Da?"label"in Da.parentNode?Da.parentNode.disabled===ma:Da.disabled===ma:Da.isDisabled===ma||Da.isDisabled!==!ma&&id(Da)===ma:Da.disabled===ma:"label"in Da?Da.disabled===ma:!1}}function Ba(ma){return M(function(Da){Da=+Da;return M(function(Ca,Wa){for(var Za,fb=ma([],Ca.length,Da),lb=fb.length;lb--;)Ca[Za=fb[lb]]&&(Ca[Za]=!(Wa[Za]=Ca[Za]))})})}function wa(ma){return ma&&"undefined"!==typeof ma.getElementsByTagName&&ma}function xa(ma){var Da;ma=ma?ma.ownerDocument||
ma:Jb;if(ma==Db||9!==ma.nodeType||!ma.documentElement)return Db;Db=ma;oc=Db.documentElement;dc=!P.isXMLDoc(Db);Pc=oc.matches||oc.webkitMatchesSelector||oc.msMatchesSelector;oc.msMatchesSelector&&Jb!=Db&&(Da=Db.defaultView)&&Da.top!==Da&&Da.addEventListener("unload",jd);K.getById=Q(function(Ca){oc.appendChild(Ca).id=P.expando;return!Db.getElementsByName||!Db.getElementsByName(P.expando).length});K.disconnectedMatch=Q(function(Ca){return Pc.call(Ca,"*")});K.scope=Q(function(){return Db.querySelectorAll(":scope")});
K.cssHas=Q(function(){try{return Db.querySelector(":has(*,:jqfake)"),!1}catch(Ca){return!0}});K.getById?(Gb.filter.ID=function(Ca){var Wa=Ca.replace(Cc,Dc);return function(Za){return Za.getAttribute("id")===Wa}},Gb.find.ID=function(Ca,Wa){if("undefined"!==typeof Wa.getElementById&&dc)return(Ca=Wa.getElementById(Ca))?[Ca]:[]}):(Gb.filter.ID=function(Ca){var Wa=Ca.replace(Cc,Dc);return function(Za){return(Za="undefined"!==typeof Za.getAttributeNode&&Za.getAttributeNode("id"))&&Za.value===Wa}},Gb.find.ID=
function(Ca,Wa){if("undefined"!==typeof Wa.getElementById&&dc){var Za,fb=Wa.getElementById(Ca);if(fb){if((Za=fb.getAttributeNode("id"))&&Za.value===Ca)return[fb];var lb=Wa.getElementsByName(Ca);for(Wa=0;fb=lb[Wa++];)if((Za=fb.getAttributeNode("id"))&&Za.value===Ca)return[fb]}return[]}});Gb.find.TAG=function(Ca,Wa){return"undefined"!==typeof Wa.getElementsByTagName?Wa.getElementsByTagName(Ca):Wa.querySelectorAll(Ca)};Gb.find.CLASS=function(Ca,Wa){if("undefined"!==typeof Wa.getElementsByClassName&&
dc)return Wa.getElementsByClassName(Ca)};fc=[];Q(function(Ca){oc.appendChild(Ca).innerHTML="<a id='"+Pb+"' href='' disabled='disabled'></a><select id='"+Pb+"-\r\\' disabled='disabled'><option selected=''></option></select>";Ca.querySelectorAll("[selected]").length||fc.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");Ca.querySelectorAll("[id~="+Pb+"-]").length||fc.push("~=");Ca.querySelectorAll("a#"+
Pb+"+*").length||fc.push(".#.+[+~]");Ca.querySelectorAll(":checked").length||fc.push(":checked");var Wa=Db.createElement("input");Wa.setAttribute("type","hidden");Ca.appendChild(Wa).setAttribute("name","D");oc.appendChild(Ca).disabled=!0;2!==Ca.querySelectorAll(":disabled").length&&fc.push(":enabled",":disabled");Wa=Db.createElement("input");Wa.setAttribute("name","");Ca.appendChild(Wa);Ca.querySelectorAll("[name='']").length||fc.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")")});
K.cssHas||fc.push(":has");fc=fc.length&&new RegExp(fc.join("|"));Qc=function(Ca,Wa){if(Ca===Wa)return jc=!0,0;var Za=!Ca.compareDocumentPosition-!Wa.compareDocumentPosition;if(Za)return Za;Za=(Ca.ownerDocument||Ca)==(Wa.ownerDocument||Wa)?Ca.compareDocumentPosition(Wa):1;return Za&1||!K.sortDetached&&Wa.compareDocumentPosition(Ca)===Za?Ca===Db||Ca.ownerDocument==Jb&&q.contains(Jb,Ca)?-1:Wa===Db||Wa.ownerDocument==Jb&&q.contains(Jb,Wa)?1:pc?Fa.call(pc,Ca)-Fa.call(pc,Wa):0:Za&4?-1:1};return Db}function Ua(){}
function cb(ma,Da){var Ca,Wa,Za,fb,lb;if(fb=Wc[ma+" "])return Da?0:fb.slice(0);fb=ma;var xb=[];for(lb=Gb.preFilter;fb;){if(!db||(Ca=kd.exec(fb)))Ca&&(fb=fb.slice(Ca[0].length)||fb),xb.push(Wa=[]);var db=!1;if(Ca=Vc.exec(fb))db=Ca.shift(),Wa.push({value:db,type:Ca[0].replace(sc," ")}),fb=fb.slice(db.length);for(Za in Gb.filter)!(Ca=Lc[Za].exec(fb))||lb[Za]&&!(Ca=lb[Za](Ca))||(db=Ca.shift(),Wa.push({value:db,type:Za,matches:Ca}),fb=fb.slice(db.length));if(!db)break}return Da?fb.length:fb?q.error(ma):
Wc(ma,xb).slice(0)}function kb(ma){for(var Da=0,Ca=ma.length,Wa="";Da<Ca;Da++)Wa+=ma[Da].value;return Wa}function Hb(ma,Da,Ca){var Wa=Da.dir,Za=Da.next,fb=Za||Wa,lb=Ca&&"parentNode"===fb,xb=ld++;return Da.first?function(db,tb,zb){for(;db=db[Wa];)if(1===db.nodeType||lb)return ma(db,tb,zb);return!1}:function(db,tb,zb){var rb,Kb=[Ec,xb];if(zb)for(;db=db[Wa];){if((1===db.nodeType||lb)&&ma(db,tb,zb))return!0}else for(;db=db[Wa];)if(1===db.nodeType||lb){var Qb=db[Pb]||(db[Pb]={});if(Za&&f(db,Za))db=db[Wa]||
db;else{if((rb=Qb[fb])&&rb[0]===Ec&&rb[1]===xb)return Kb[2]=rb[2];Qb[fb]=Kb;if(Kb[2]=ma(db,tb,zb))return!0}}return!1}}function wb(ma){return 1<ma.length?function(Da,Ca,Wa){for(var Za=ma.length;Za--;)if(!ma[Za](Da,Ca,Wa))return!1;return!0}:ma[0]}function Wb(ma,Da,Ca,Wa,Za){for(var fb,lb=[],xb=0,db=ma.length,tb=null!=Da;xb<db;xb++)if(fb=ma[xb])if(!Ca||Ca(fb,Wa,Za))lb.push(fb),tb&&Da.push(xb);return lb}function ac(ma,Da,Ca,Wa,Za,fb){Wa&&!Wa[Pb]&&(Wa=ac(Wa));Za&&!Za[Pb]&&(Za=ac(Za,fb));return M(function(lb,
xb,db,tb){var zb,rb,Kb=[],Qb=[],zc=xb.length;if(!(rb=lb)){rb=Da||"*";for(var Xb=db.nodeType?[db]:db,Lb=[],vc=0,Mc=Xb.length;vc<Mc;vc++)q(rb,Xb[vc],Lb);rb=Lb}Xb=!ma||!lb&&Da?rb:Wb(rb,Kb,ma,db,tb);Ca?(rb=Za||(lb?ma:zc||Wa)?[]:xb,Ca(Xb,rb,db,tb)):rb=Xb;if(Wa){var wc=Wb(rb,Qb);Wa(wc,[],db,tb);for(db=wc.length;db--;)if(zb=wc[db])rb[Qb[db]]=!(Xb[Qb[db]]=zb)}if(lb){if(Za||ma){if(Za){wc=[];for(db=rb.length;db--;)(zb=rb[db])&&wc.push(Xb[db]=zb);Za(null,rb=[],wc,tb)}for(db=rb.length;db--;)(zb=rb[db])&&-1<(wc=
Za?Fa.call(lb,zb):Kb[db])&&(lb[wc]=!(xb[wc]=zb))}}else rb=Wb(rb===xb?rb.splice(zc,rb.length):rb),Za?Za(null,xb,rb,tb):$b.apply(xb,rb)})}function qc(ma){var Da,Ca,Wa=ma.length,Za=Gb.relative[ma[0].type];var fb=Za||Gb.relative[" "];for(var lb=Za?1:0,xb=Hb(function(zb){return zb===Da},fb,!0),db=Hb(function(zb){return-1<Fa.call(Da,zb)},fb,!0),tb=[function(zb,rb,Kb){zb=!Za&&(Kb||rb!=Sb)||((Da=rb).nodeType?xb(zb,rb,Kb):db(zb,rb,Kb));Da=null;return zb}];lb<Wa;lb++)if(fb=Gb.relative[ma[lb].type])tb=[Hb(wb(tb),
fb)];else{fb=Gb.filter[ma[lb].type].apply(null,ma[lb].matches);if(fb[Pb]){for(Ca=++lb;Ca<Wa&&!Gb.relative[ma[Ca].type];Ca++);return ac(1<lb&&wb(tb),1<lb&&kb(ma.slice(0,lb-1).concat({value:" "===ma[lb-2].type?"*":""})).replace(sc,"$1"),fb,lb<Ca&&qc(ma.slice(lb,Ca)),Ca<Wa&&qc(ma=ma.slice(Ca)),Ca<Wa&&kb(ma))}tb.push(fb)}return wb(tb)}function vb(ma,Da){var Ca=0<Da.length,Wa=0<ma.length,Za=function(fb,lb,xb,db,tb){var zb,rb,Kb=0,Qb="0",zc=fb&&[],Xb=[],Lb=Sb,vc=fb||Wa&&Gb.find.TAG("*",tb),Mc=Ec+=null==
Lb?1:Math.random()||.1,wc=vc.length;for(tb&&(Sb=lb==Db||lb||tb);Qb!==wc&&null!=(zb=vc[Qb]);Qb++){if(Wa&&zb){var Rc=0;lb||zb.ownerDocument==Db||(xa(zb),xb=!dc);for(;rb=ma[Rc++];)if(rb(zb,lb||Db,xb)){$b.call(db,zb);break}tb&&(Ec=Mc)}Ca&&((zb=!rb&&zb)&&Kb--,fb&&zc.push(zb))}Kb+=Qb;if(Ca&&Qb!==Kb){for(Rc=0;rb=Da[Rc++];)rb(zc,Xb,lb,xb);if(fb){if(0<Kb)for(;Qb--;)zc[Qb]||Xb[Qb]||(Xb[Qb]=Ib.call(db));Xb=Wb(Xb)}$b.apply(db,Xb);tb&&!fb&&0<Xb.length&&1<Kb+Da.length&&P.uniqueSort(db)}tb&&(Ec=Mc,Sb=Lb);return zc};
return Ca?M(Za):Za}function Tb(ma,Da){var Ca,Wa=[],Za=[],fb=Xc[ma+" "];if(!fb){Da||=cb(ma);for(Ca=Da.length;Ca--;)fb=qc(Da[Ca]),fb[Pb]?Wa.push(fb):Za.push(fb);fb=Xc(ma,vb(Za,Wa));fb.selector=ma}return fb}function ic(ma,Da,Ca,Wa){var Za,fb,lb,xb="function"===typeof ma&&ma,db=!Wa&&cb(ma=xb.selector||ma);Ca=Ca||[];if(1===db.length){var tb=db[0]=db[0].slice(0);if(2<tb.length&&"ID"===(fb=tb[0]).type&&9===Da.nodeType&&dc&&Gb.relative[tb[1].type]){Da=(Gb.find.ID(fb.matches[0].replace(Cc,Dc),Da)||[])[0];
if(!Da)return Ca;xb&&(Da=Da.parentNode);ma=ma.slice(tb.shift().value.length)}for(Za=Lc.needsContext.test(ma)?0:tb.length;Za--;){fb=tb[Za];if(Gb.relative[lb=fb.type])break;if(lb=Gb.find[lb])if(Wa=lb(fb.matches[0].replace(Cc,Dc),Oc.test(tb[0].type)&&wa(Da.parentNode)||Da)){tb.splice(Za,1);ma=Wa.length&&kb(tb);if(!ma)return $b.apply(Ca,Wa),Ca;break}}}(xb||Tb(ma,db))(Wa,Da,!dc,Ca,!Da||Oc.test(ma)&&wa(Da.parentNode)||Da);return Ca}var Bb,Sb,pc,jc,$b=va,Db,oc,dc,fc,Pc,Pb=P.expando,Ec=0,ld=0,Yc=B(),Wc=B(),
Xc=B(),Kc=B(),Qc=function(ma,Da){ma===Da&&(jc=!0);return 0},md=RegExp("[\\x20\\t\\r\\n\\f]+","g"),kd=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),Vc=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),hd=RegExp("[\\x20\\t\\r\\n\\f]|>"),nd=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
od=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),Lc={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},pd=/^(?:input|select|textarea|button)$/i,qd=/^h\d$/i,gd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Oc=/[+~]/,Cc=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Dc=function(ma,Da){ma="0x"+ma.slice(1)-65536;return Da?Da:0>ma?String.fromCharCode(ma+65536):String.fromCharCode(ma>>10|55296,ma&1023|56320)},jd=function(){xa()},id=Hb(function(ma){return!0===ma.disabled&&f(ma,"fieldset")},{dir:"parentNode",next:"legend"});try{$b.apply(V=fa.call(Jb.childNodes),Jb.childNodes),V[Jb.childNodes.length].nodeType}catch(ma){$b=
{apply:function(Da,Ca){va.apply(Da,fa.call(Ca))},call:function(Da){va.apply(Da,fa.call(arguments,1))}}}q.matches=function(ma,Da){return q(ma,null,null,Da)};q.matchesSelector=function(ma,Da){xa(ma);if(!(!dc||Kc[Da+" "]||fc&&fc.test(Da)))try{var Ca=Pc.call(ma,Da);if(Ca||K.disconnectedMatch||ma.document&&11!==ma.document.nodeType)return Ca}catch(Wa){Kc(Da,!0)}return 0<q(Da,Db,null,[ma]).length};q.contains=function(ma,Da){(ma.ownerDocument||ma)!=Db&&xa(ma);return P.contains(ma,Da)};q.attr=function(ma,
Da){(ma.ownerDocument||ma)!=Db&&xa(ma);var Ca=Gb.attrHandle[Da.toLowerCase()];Ca=Ca&&X.call(Gb.attrHandle,Da.toLowerCase())?Ca(ma,Da,!dc):void 0;return void 0!==Ca?Ca:ma.getAttribute(Da)};q.error=function(ma){throw Error("Syntax error, unrecognized expression: "+ma);};P.uniqueSort=function(ma){var Da,Ca=[],Wa=0,Za=0;jc=!K.sortStable;pc=!K.sortStable&&fa.call(ma,0);cc.call(ma,Qc);if(jc){for(;Da=ma[Za++];)Da===ma[Za]&&(Wa=Ca.push(Za));for(;Wa--;)Mb.call(ma,Ca[Wa],1)}pc=null;return ma};P.fn.uniqueSort=
function(){return this.pushStack(P.uniqueSort(fa.apply(this)))};var Gb=P.expr={cacheLength:50,createPseudo:M,match:Lc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ma){ma[1]=ma[1].replace(Cc,Dc);ma[3]=(ma[3]||ma[4]||ma[5]||"").replace(Cc,Dc);"~="===ma[2]&&(ma[3]=" "+ma[3]+" ");return ma.slice(0,4)},CHILD:function(ma){ma[1]=ma[1].toLowerCase();"nth"===ma[1].slice(0,3)?
(ma[3]||q.error(ma[0]),ma[4]=+(ma[4]?ma[5]+(ma[6]||1):2*("even"===ma[3]||"odd"===ma[3])),ma[5]=+(ma[7]+ma[8]||"odd"===ma[3])):ma[3]&&q.error(ma[0]);return ma},PSEUDO:function(ma){var Da,Ca=!ma[6]&&ma[2];if(Lc.CHILD.test(ma[0]))return null;ma[3]?ma[2]=ma[4]||ma[5]||"":Ca&&nd.test(Ca)&&(Da=cb(Ca,!0))&&(Da=Ca.indexOf(")",Ca.length-Da)-Ca.length)&&(ma[0]=ma[0].slice(0,Da),ma[2]=Ca.slice(0,Da));return ma.slice(0,3)}},filter:{TAG:function(ma){var Da=ma.replace(Cc,Dc).toLowerCase();return"*"===ma?function(){return!0}:
function(Ca){return f(Ca,Da)}},CLASS:function(ma){var Da=Yc[ma+" "];return Da||(Da=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+ma+"([\\x20\\t\\r\\n\\f]|$)"),Yc(ma,function(Ca){return Da.test("string"===typeof Ca.className&&Ca.className||"undefined"!==typeof Ca.getAttribute&&Ca.getAttribute("class")||"")}))},ATTR:function(ma,Da,Ca){return function(Wa){Wa=q.attr(Wa,ma);if(null==Wa)return"!="===Da;if(!Da)return!0;Wa+="";return"="===Da?Wa===Ca:"!="===Da?Wa!==Ca:"^="===Da?Ca&&0===Wa.indexOf(Ca):"*="===Da?Ca&&
-1<Wa.indexOf(Ca):"$="===Da?Ca&&Wa.slice(-Ca.length)===Ca:"~="===Da?-1<(" "+Wa.replace(md," ")+" ").indexOf(Ca):"|="===Da?Wa===Ca||Wa.slice(0,Ca.length+1)===Ca+"-":!1}},CHILD:function(ma,Da,Ca,Wa,Za){var fb="nth"!==ma.slice(0,3),lb="last"!==ma.slice(-4),xb="of-type"===Da;return 1===Wa&&0===Za?function(db){return!!db.parentNode}:function(db,tb,zb){var rb,Kb;tb=fb!==lb?"nextSibling":"previousSibling";var Qb=db.parentNode,zc=xb&&db.nodeName.toLowerCase(),Xb=!zb&&!xb;var Lb=!1;if(Qb){if(fb){for(;tb;){for(rb=
db;rb=rb[tb];)if(xb?f(rb,zc):1===rb.nodeType)return!1;var vc=tb="only"===ma&&!vc&&"nextSibling"}return!0}vc=[lb?Qb.firstChild:Qb.lastChild];if(lb&&Xb)for(zb=Qb[Pb]||(Qb[Pb]={}),Lb=zb[ma]||[],Lb=(Kb=Lb[0]===Ec&&Lb[1])&&Lb[2],rb=Kb&&Qb.childNodes[Kb];rb=++Kb&&rb&&rb[tb]||(Lb=Kb=0)||vc.pop();){if(1===rb.nodeType&&++Lb&&rb===db){zb[ma]=[Ec,Kb,Lb];break}}else if(Xb&&(zb=db[Pb]||(db[Pb]={}),Lb=zb[ma]||[],Lb=Kb=Lb[0]===Ec&&Lb[1]),!1===Lb)for(;(rb=++Kb&&rb&&rb[tb]||(Lb=Kb=0)||vc.pop())&&((xb?!f(rb,zc):1!==
rb.nodeType)||!++Lb||(Xb&&(zb=rb[Pb]||(rb[Pb]={}),zb[ma]=[Ec,Lb]),rb!==db)););Lb-=Za;return Lb===Wa||0===Lb%Wa&&0<=Lb/Wa}}},PSEUDO:function(ma,Da){var Ca=Gb.pseudos[ma]||Gb.setFilters[ma.toLowerCase()]||q.error("unsupported pseudo: "+ma);if(Ca[Pb])return Ca(Da);if(1<Ca.length){var Wa=[ma,ma,"",Da];return Gb.setFilters.hasOwnProperty(ma.toLowerCase())?M(function(Za,fb){for(var lb,xb=Ca(Za,Da),db=xb.length;db--;)lb=Fa.call(Za,xb[db]),Za[lb]=!(fb[lb]=xb[db])}):function(Za){return Ca(Za,0,Wa)}}return Ca}},
pseudos:{not:M(function(ma){var Da=[],Ca=[],Wa=Tb(ma.replace(sc,"$1"));return Wa[Pb]?M(function(Za,fb,lb,xb){xb=Wa(Za,null,xb,[]);for(var db=Za.length;db--;)if(lb=xb[db])Za[db]=!(fb[db]=lb)}):function(Za,fb,lb){Da[0]=Za;Wa(Da,null,lb,Ca);Da[0]=null;return!Ca.pop()}}),has:M(function(ma){return function(Da){return 0<q(ma,Da).length}}),contains:M(function(ma){ma=ma.replace(Cc,Dc);return function(Da){return-1<(Da.textContent||P.text(Da)).indexOf(ma)}}),lang:M(function(ma){od.test(ma||"")||q.error("unsupported lang: "+
ma);ma=ma.replace(Cc,Dc).toLowerCase();return function(Da){var Ca;do if(Ca=dc?Da.lang:Da.getAttribute("xml:lang")||Da.getAttribute("lang"))return Ca=Ca.toLowerCase(),Ca===ma||0===Ca.indexOf(ma+"-");while((Da=Da.parentNode)&&1===Da.nodeType);return!1}}),target:function(ma){var Da=y.location&&y.location.hash;return Da&&Da.slice(1)===ma.id},root:function(ma){return ma===oc},focus:function(ma){a:{try{var Da=Db.activeElement;break a}catch(Ca){}Da=void 0}return ma===Da&&Db.hasFocus()&&!!(ma.type||ma.href||
~ma.tabIndex)},enabled:la(!1),disabled:la(!0),checked:function(ma){return f(ma,"input")&&!!ma.checked||f(ma,"option")&&!!ma.selected},selected:function(ma){ma.parentNode&&ma.parentNode.selectedIndex;return!0===ma.selected},empty:function(ma){for(ma=ma.firstChild;ma;ma=ma.nextSibling)if(6>ma.nodeType)return!1;return!0},parent:function(ma){return!Gb.pseudos.empty(ma)},header:function(ma){return qd.test(ma.nodeName)},input:function(ma){return pd.test(ma.nodeName)},button:function(ma){return f(ma,"input")&&
"button"===ma.type||f(ma,"button")},text:function(ma){var Da;return f(ma,"input")&&"text"===ma.type&&(null==(Da=ma.getAttribute("type"))||"text"===Da.toLowerCase())},first:Ba(function(){return[0]}),last:Ba(function(ma,Da){return[Da-1]}),eq:Ba(function(ma,Da,Ca){return[0>Ca?Ca+Da:Ca]}),even:Ba(function(ma,Da){for(var Ca=0;Ca<Da;Ca+=2)ma.push(Ca);return ma}),odd:Ba(function(ma,Da){for(var Ca=1;Ca<Da;Ca+=2)ma.push(Ca);return ma}),lt:Ba(function(ma,Da,Ca){for(Da=0>Ca?Ca+Da:Ca>Da?Da:Ca;0<=--Da;)ma.push(Da);
return ma}),gt:Ba(function(ma,Da,Ca){for(Ca=0>Ca?Ca+Da:Ca;++Ca<Da;)ma.push(Ca);return ma})}};Gb.pseudos.nth=Gb.pseudos.eq;for(Bb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Gb.pseudos[Bb]=U(Bb);for(Bb in{submit:!0,reset:!0})Gb.pseudos[Bb]=Y(Bb);Ua.prototype=Gb.filters=Gb.pseudos;Gb.setFilters=new Ua;K.sortStable=Pb.split("").sort(Qc).join("")===Pb;xa();K.sortDetached=Q(function(ma){return ma.compareDocumentPosition(Db.createElement("fieldset"))&1});P.find=q;P.expr[":"]=P.expr.pseudos;P.unique=
P.uniqueSort;q.compile=Tb;q.select=ic;q.setDocument=xa;q.tokenize=cb;q.escape=P.escapeSelector;q.getText=P.text;q.isXML=P.isXMLDoc;q.selectors=P.expr;q.support=P.support;q.uniqueSort=P.uniqueSort})();var Ta=function(q,B,M){for(var Q=[],U=void 0!==M;(q=q[B])&&9!==q.nodeType;)if(1===q.nodeType){if(U&&P(q).is(M))break;Q.push(q)}return Q},pb=function(q,B){for(var M=[];q;q=q.nextSibling)1===q.nodeType&&q!==B&&M.push(q);return M},Ub=P.expr.match.needsContext,Cb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
P.filter=function(q,B,M){var Q=B[0];M&&(q=":not("+q+")");return 1===B.length&&1===Q.nodeType?P.find.matchesSelector(Q,q)?[Q]:[]:P.find.matches(q,P.grep(B,function(U){return 1===U.nodeType}))};P.fn.extend({find:function(q){var B,M=this.length,Q=this;if("string"!==typeof q)return this.pushStack(P(q).filter(function(){for(B=0;B<M;B++)if(P.contains(Q[B],this))return!0}));var U=this.pushStack([]);for(B=0;B<M;B++)P.find(q,Q[B],U);return 1<M?P.uniqueSort(U):U},filter:function(q){return this.pushStack(a(this,
q||[],!1))},not:function(q){return this.pushStack(a(this,q||[],!0))},is:function(q){return!!a(this,"string"===typeof q&&Ub.test(q)?P(q):q||[],!1).length}});var Ac=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(q,B,M){if(!q)return this;M=M||lc;if("string"===typeof q){var Q="<"===q[0]&&">"===q[q.length-1]&&3<=q.length?[null,q,null]:Ac.exec(q);if(!Q||!Q[1]&&B)return!B||B.jquery?(B||M).find(q):this.constructor(B).find(q);if(Q[1]){if(B=B instanceof P?B[0]:B,P.merge(this,P.parseHTML(Q[1],B&&
B.nodeType?B.ownerDocument||B:Ra,!0)),Cb.test(Q[1])&&P.isPlainObject(B))for(Q in B)if(Z(this[Q]))this[Q](B[Q]);else this.attr(Q,B[Q])}else if(q=Ra.getElementById(Q[2]))this[0]=q,this.length=1;return this}return q.nodeType?(this[0]=q,this.length=1,this):Z(q)?void 0!==M.ready?M.ready(q):q(P):P.makeArray(q,this)}).prototype=P.fn;var lc=P(Ra);var tc=/^(?:parents|prev(?:Until|All))/,gc={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(q){var B=P(q,this),M=B.length;return this.filter(function(){for(var Q=
0;Q<M;Q++)if(P.contains(this,B[Q]))return!0})},closest:function(q,B){var M,Q=0,U=this.length,Y=[],la="string"!==typeof q&&P(q);if(!Ub.test(q))for(;Q<U;Q++)for(M=this[Q];M&&M!==B;M=M.parentNode)if(11>M.nodeType&&(la?-1<la.index(M):1===M.nodeType&&P.find.matchesSelector(M,q))){Y.push(M);break}return this.pushStack(1<Y.length?P.uniqueSort(Y):Y)},index:function(q){return q?"string"===typeof q?Fa.call(P(q),this[0]):Fa.call(this,q.jquery?q[0]:q):this[0]&&this[0].parentNode?this.first().prevAll().length:
-1},add:function(q,B){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(q,B))))},addBack:function(q){return this.add(null==q?this.prevObject:this.prevObject.filter(q))}});P.each({parent:function(q){return(q=q.parentNode)&&11!==q.nodeType?q:null},parents:function(q){return Ta(q,"parentNode")},parentsUntil:function(q,B,M){return Ta(q,"parentNode",M)},next:function(q){return m(q,"nextSibling")},prev:function(q){return m(q,"previousSibling")},nextAll:function(q){return Ta(q,"nextSibling")},prevAll:function(q){return Ta(q,
"previousSibling")},nextUntil:function(q,B,M){return Ta(q,"nextSibling",M)},prevUntil:function(q,B,M){return Ta(q,"previousSibling",M)},siblings:function(q){return pb((q.parentNode||{}).firstChild,q)},children:function(q){return pb(q.firstChild)},contents:function(q){if(null!=q.contentDocument&&ca(q.contentDocument))return q.contentDocument;f(q,"template")&&(q=q.content||q);return P.merge([],q.childNodes)}},function(q,B){P.fn[q]=function(M,Q){var U=P.map(this,B,M);"Until"!==q.slice(-5)&&(Q=M);Q&&
"string"===typeof Q&&(U=P.filter(Q,U));1<this.length&&(gc[q]||P.uniqueSort(U),tc.test(q)&&U.reverse());return this.pushStack(U)}});var yb=/[^\x20\t\r\n\f]+/g;P.Callbacks=function(q){q="string"===typeof q?r(q):P.extend({},q);var B,M,Q,U,Y=[],la=[],Ba=-1,wa=function(){U=U||q.once;for(Q=B=!0;la.length;Ba=-1)for(M=la.shift();++Ba<Y.length;)!1===Y[Ba].apply(M[0],M[1])&&q.stopOnFalse&&(Ba=Y.length,M=!1);q.memory||(M=!1);B=!1;U&&(Y=M?[]:"")},xa={add:function(){Y&&(M&&!B&&(Ba=Y.length-1,la.push(M)),function kb(cb){P.each(cb,
function(Hb,wb){Z(wb)?q.unique&&xa.has(wb)||Y.push(wb):wb&&wb.length&&"string"!==E(wb)&&kb(wb)})}(arguments),M&&!B&&wa());return this},remove:function(){P.each(arguments,function(Ua,cb){for(var kb;-1<(kb=P.inArray(cb,Y,kb));)Y.splice(kb,1),kb<=Ba&&Ba--});return this},has:function(Ua){return Ua?-1<P.inArray(Ua,Y):0<Y.length},empty:function(){Y&&=[];return this},disable:function(){U=la=[];Y=M="";return this},disabled:function(){return!Y},lock:function(){U=la=[];M||B||(Y=M="");return this},locked:function(){return!!U},
fireWith:function(Ua,cb){U||(cb=cb||[],cb=[Ua,cb.slice?cb.slice():cb],la.push(cb),B||wa());return this},fire:function(){xa.fireWith(this,arguments);return this},fired:function(){return!!Q}};return xa};P.extend({Deferred:function(q){var B=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],M="pending",Q={state:function(){return M},
always:function(){U.done(arguments).fail(arguments);return this},"catch":function(Y){return Q.then(null,Y)},pipe:function(){var Y=arguments;return P.Deferred(function(la){P.each(B,function(Ba,wa){var xa=Z(Y[wa[4]])&&Y[wa[4]];U[wa[1]](function(){var Ua=xa&&xa.apply(this,arguments);if(Ua&&Z(Ua.promise))Ua.promise().progress(la.notify).done(la.resolve).fail(la.reject);else la[wa[0]+"With"](this,xa?[Ua]:arguments)})});Y=null}).promise()},then:function(Y,la,Ba){function wa(Ua,cb,kb,Hb){return function(){var wb=
this,Wb=arguments,ac=function(){if(!(Ua<xa)){var vb=kb.apply(wb,Wb);if(vb===cb.promise())throw new TypeError("Thenable self-resolution");var Tb=vb&&("object"===typeof vb||"function"===typeof vb)&&vb.then;Z(Tb)?Hb?Tb.call(vb,wa(xa,cb,t,Hb),wa(xa,cb,b,Hb)):(xa++,Tb.call(vb,wa(xa,cb,t,Hb),wa(xa,cb,b,Hb),wa(xa,cb,t,cb.notifyWith))):(kb!==t&&(wb=void 0,Wb=[vb]),(Hb||cb.resolveWith)(wb,Wb))}},qc=Hb?ac:function(){try{ac()}catch(vb){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(vb,qc.error),Ua+1>=xa&&
(kb!==b&&(wb=void 0,Wb=[vb]),cb.rejectWith(wb,Wb))}};Ua?qc():(P.Deferred.getErrorHook?qc.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(qc.error=P.Deferred.getStackHook()),y.setTimeout(qc))}}var xa=0;return P.Deferred(function(Ua){B[0][3].add(wa(0,Ua,Z(Ba)?Ba:t,Ua.notifyWith));B[1][3].add(wa(0,Ua,Z(Y)?Y:t));B[2][3].add(wa(0,Ua,Z(la)?la:b))}).promise()},promise:function(Y){return null!=Y?P.extend(Y,Q):Q}},U={};P.each(B,function(Y,la){var Ba=la[2],wa=la[5];Q[la[1]]=Ba.add;wa&&Ba.add(function(){M=
wa},B[3-Y][2].disable,B[3-Y][3].disable,B[0][2].lock,B[0][3].lock);Ba.add(la[3].fire);U[la[0]]=function(){U[la[0]+"With"](this===U?void 0:this,arguments);return this};U[la[0]+"With"]=Ba.fireWith});Q.promise(U);q&&q.call(U,U);return U},when:function(q){var B=arguments.length,M=B,Q=Array(M),U=fa.call(arguments),Y=P.Deferred(),la=function(Ba){return function(wa){Q[Ba]=this;U[Ba]=1<arguments.length?fa.call(arguments):wa;--B||Y.resolveWith(Q,U)}};if(1>=B&&(e(q,Y.done(la(M)).resolve,Y.reject,!B),"pending"===
Y.state()||Z(U[M]&&U[M].then)))return Y.then();for(;M--;)e(U[M],la(M),Y.reject);return Y.promise()}});var kc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(q,B){y.console&&y.console.warn&&q&&kc.test(q.name)&&y.console.warn("jQuery.Deferred exception: "+q.message,q.stack,B)};P.readyException=function(q){y.setTimeout(function(){throw q;})};var Fb=P.Deferred();P.fn.ready=function(q){Fb.then(q).catch(function(B){P.readyException(B)});return this};P.extend({isReady:!1,
readyWait:1,ready:function(q){(!0===q?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==q&&0<--P.readyWait||Fb.resolveWith(Ra,[P]))}});P.ready.then=Fb.then;"complete"===Ra.readyState||"loading"!==Ra.readyState&&!Ra.documentElement.doScroll?y.setTimeout(P.ready):(Ra.addEventListener("DOMContentLoaded",h),y.addEventListener("load",h));var Rb=function(q,B,M,Q,U,Y,la){var Ba=0,wa=q.length,xa=null==M;if("object"===E(M))for(Ba in U=!0,M)Rb(q,B,Ba,M[Ba],!0,Y,la);else if(void 0!==Q&&(U=!0,Z(Q)||(la=!0),xa&&(la?
(B.call(q,Q),B=null):(xa=B,B=function(Ua,cb,kb){return xa.call(P(Ua),kb)})),B))for(;Ba<wa;Ba++)B(q[Ba],M,la?Q:Q.call(q[Ba],Ba,B(q[Ba],M)));return U?q:xa?B.call(q):wa?B(q[0],M):Y},nb=/^-ms-/,hc=/-([a-z])/g,Zb=function(q){return 1===q.nodeType||9===q.nodeType||!+q.nodeType};p.uid=1;p.prototype={cache:function(q){var B=q[this.expando];B||(B={},Zb(q)&&(q.nodeType?q[this.expando]=B:Object.defineProperty(q,this.expando,{value:B,configurable:!0})));return B},set:function(q,B,M){var Q;q=this.cache(q);if("string"===
typeof B)q[g(B)]=M;else for(Q in B)q[g(Q)]=B[Q];return q},get:function(q,B){return void 0===B?this.cache(q):q[this.expando]&&q[this.expando][g(B)]},access:function(q,B,M){if(void 0===B||B&&"string"===typeof B&&void 0===M)return this.get(q,B);this.set(q,B,M);return void 0!==M?M:B},remove:function(q,B){var M,Q=q[this.expando];if(void 0!==Q){if(void 0!==B)for(Array.isArray(B)?B=B.map(g):(B=g(B),B=B in Q?[B]:B.match(yb)||[]),M=B.length;M--;)delete Q[B[M]];if(void 0===B||P.isEmptyObject(Q))q.nodeType?
q[this.expando]=void 0:delete q[this.expando]}},hasData:function(q){q=q[this.expando];return void 0!==q&&!P.isEmptyObject(q)}};var mb=new p,Ob=new p,ec=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rc=/[A-Z]/g;P.extend({hasData:function(q){return Ob.hasData(q)||mb.hasData(q)},data:function(q,B,M){return Ob.access(q,B,M)},removeData:function(q,B){Ob.remove(q,B)},_data:function(q,B,M){return mb.access(q,B,M)},_removeData:function(q,B){mb.remove(q,B)}});P.fn.extend({data:function(q,B){var M,Q=this[0],U=Q&&Q.attributes;
if(void 0===q){if(this.length){var Y=Ob.get(Q);if(1===Q.nodeType&&!mb.get(Q,"hasDataAttrs")){for(M=U.length;M--;)if(U[M]){var la=U[M].name;0===la.indexOf("data-")&&(la=g(la.slice(5)),u(Q,la,Y[la]))}mb.set(Q,"hasDataAttrs",!0)}}return Y}return"object"===typeof q?this.each(function(){Ob.set(this,q)}):Rb(this,function(Ba){if(Q&&void 0===Ba){var wa=Ob.get(Q,q);if(void 0!==wa)return wa;wa=u(Q,q);if(void 0!==wa)return wa}else this.each(function(){Ob.set(this,q,Ba)})},null,B,1<arguments.length,null,!0)},
removeData:function(q){return this.each(function(){Ob.remove(this,q)})}});P.extend({queue:function(q,B,M){if(q){B=(B||"fx")+"queue";var Q=mb.get(q,B);M&&(!Q||Array.isArray(M)?Q=mb.access(q,B,P.makeArray(M)):Q.push(M));return Q||[]}},dequeue:function(q,B){B=B||"fx";var M=P.queue(q,B),Q=M.length,U=M.shift(),Y=P._queueHooks(q,B),la=function(){P.dequeue(q,B)};"inprogress"===U&&(U=M.shift(),Q--);U&&("fx"===B&&M.unshift("inprogress"),delete Y.stop,U.call(q,la,Y));!Q&&Y&&Y.empty.fire()},_queueHooks:function(q,
B){var M=B+"queueHooks";return mb.get(q,M)||mb.access(q,M,{empty:P.Callbacks("once memory").add(function(){mb.remove(q,[B+"queue",M])})})}});P.fn.extend({queue:function(q,B){var M=2;"string"!==typeof q&&(B=q,q="fx",M--);return arguments.length<M?P.queue(this[0],q):void 0===B?this:this.each(function(){var Q=P.queue(this,q,B);P._queueHooks(this,q);"fx"===q&&"inprogress"!==Q[0]&&P.dequeue(this,q)})},dequeue:function(q){return this.each(function(){P.dequeue(this,q)})},clearQueue:function(q){return this.queue(q||
"fx",[])},promise:function(q,B){var M,Q=1,U=P.Deferred(),Y=this,la=this.length,Ba=function(){--Q||U.resolveWith(Y,[Y])};"string"!==typeof q&&(B=q,q=void 0);for(q=q||"fx";la--;)(M=mb.get(Y[la],q+"queueHooks"))&&M.empty&&(Q++,M.empty.add(Ba));Ba();return U.promise(B)}});var xc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Yb=new RegExp("^(?:([+-])=|)("+xc+")([a-z%]*)$","i"),Vb=["Top","Right","Bottom","Left"],nc=Ra.documentElement,yc=function(q){return P.contains(q.ownerDocument,q)},Gc={composed:!0};
nc.getRootNode&&(yc=function(q){return P.contains(q.ownerDocument,q)||q.getRootNode(Gc)===q.ownerDocument});var Bc=function(q,B){q=B||q;return"none"===q.style.display||""===q.style.display&&yc(q)&&"none"===P.css(q,"display")},Fc={};P.fn.extend({show:function(){return F(this,!0)},hide:function(){return F(this)},toggle:function(q){return"boolean"===typeof q?q?this.show():this.hide():this.each(function(){Bc(this)?P(this).show():P(this).hide()})}});var uc=/^(?:checkbox|radio)$/i,ha=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
La=/^$|^module$|\/(?:java|ecma)script/i;(function(){var q=Ra.createDocumentFragment().appendChild(Ra.createElement("div")),B=Ra.createElement("input");B.setAttribute("type","radio");B.setAttribute("checked","checked");B.setAttribute("name","t");q.appendChild(B);K.checkClone=q.cloneNode(!0).cloneNode(!0).lastChild.checked;q.innerHTML="<textarea>x</textarea>";K.noCloneChecked=!!q.cloneNode(!0).lastChild.defaultValue;q.innerHTML="<option></option>";K.option=!!q.lastChild})();var Sa={thead:[1,"<table>",
"</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Sa.tbody=Sa.tfoot=Sa.colgroup=Sa.caption=Sa.thead;Sa.th=Sa.td;K.option||(Sa.optgroup=Sa.option=[1,"<select multiple='multiple'>","</select>"]);var ib=/<|&#?\w+;/,jb=/^([^.]*)(?:\.(.+)|)/;P.event={global:{},add:function(q,B,M,Q,U){var Y,la,Ba,wa;var xa=mb.get(q);if(Zb(q)){if(M.handler){var Ua=M;M=Ua.handler;U=Ua.selector}U&&
P.find.matchesSelector(nc,U);M.guid||(M.guid=P.guid++);(la=xa.events)||(la=xa.events=Object.create(null));(Y=xa.handle)||(Y=xa.handle=function(wb){return"undefined"!==typeof P&&P.event.triggered!==wb.type?P.event.dispatch.apply(q,arguments):void 0});B=(B||"").match(yb)||[""];for(xa=B.length;xa--;){var cb=jb.exec(B[xa])||[];var kb=Ba=cb[1];var Hb=(cb[2]||"").split(".").sort();kb&&(cb=P.event.special[kb]||{},kb=(U?cb.delegateType:cb.bindType)||kb,cb=P.event.special[kb]||{},Ba=P.extend({type:kb,origType:Ba,
data:Q,handler:M,guid:M.guid,selector:U,needsContext:U&&P.expr.match.needsContext.test(U),namespace:Hb.join(".")},Ua),(wa=la[kb])||(wa=la[kb]=[],wa.delegateCount=0,cb.setup&&!1!==cb.setup.call(q,Q,Hb,Y)||q.addEventListener&&q.addEventListener(kb,Y)),cb.add&&(cb.add.call(q,Ba),Ba.handler.guid||(Ba.handler.guid=M.guid)),U?wa.splice(wa.delegateCount++,0,Ba):wa.push(Ba),P.event.global[kb]=!0)}}},remove:function(q,B,M,Q,U){var Y,la,Ba,wa,xa,Ua=mb.hasData(q)&&mb.get(q);if(Ua&&(Ba=Ua.events)){B=(B||"").match(yb)||
[""];for(wa=B.length;wa--;){var cb=jb.exec(B[wa])||[];var kb=xa=cb[1];var Hb=(cb[2]||"").split(".").sort();if(kb){var wb=P.event.special[kb]||{};kb=(Q?wb.delegateType:wb.bindType)||kb;var Wb=Ba[kb]||[];cb=cb[2]&&new RegExp("(^|\\.)"+Hb.join("\\.(?:.*\\.|)")+"(\\.|$)");for(la=Y=Wb.length;Y--;){var ac=Wb[Y];!U&&xa!==ac.origType||M&&M.guid!==ac.guid||cb&&!cb.test(ac.namespace)||Q&&Q!==ac.selector&&("**"!==Q||!ac.selector)||(Wb.splice(Y,1),ac.selector&&Wb.delegateCount--,wb.remove&&wb.remove.call(q,ac))}la&&
!Wb.length&&(wb.teardown&&!1!==wb.teardown.call(q,Hb,Ua.handle)||P.removeEvent(q,kb,Ua.handle),delete Ba[kb])}else for(kb in Ba)P.event.remove(q,kb+B[wa],M,Q,!0)}P.isEmptyObject(Ba)&&mb.remove(q,"handle events")}},dispatch:function(q){var B,M,Q,U=Array(arguments.length),Y=P.event.fix(q);var la=(mb.get(this,"events")||Object.create(null))[Y.type]||[];var Ba=P.event.special[Y.type]||{};U[0]=Y;for(B=1;B<arguments.length;B++)U[B]=arguments[B];Y.delegateTarget=this;if(!Ba.preDispatch||!1!==Ba.preDispatch.call(this,
Y)){var wa=P.event.handlers.call(this,Y,la);for(B=0;(Q=wa[B++])&&!Y.isPropagationStopped();)for(Y.currentTarget=Q.elem,la=0;(M=Q.handlers[la++])&&!Y.isImmediatePropagationStopped();)if(!Y.rnamespace||!1===M.namespace||Y.rnamespace.test(M.namespace))Y.handleObj=M,Y.data=M.data,M=((P.event.special[M.origType]||{}).handle||M.handler).apply(Q.elem,U),void 0!==M&&!1===(Y.result=M)&&(Y.preventDefault(),Y.stopPropagation());Ba.postDispatch&&Ba.postDispatch.call(this,Y);return Y.result}},handlers:function(q,
B){var M,Q=[],U=B.delegateCount,Y=q.target;if(U&&Y.nodeType&&!("click"===q.type&&1<=q.button))for(;Y!==this;Y=Y.parentNode||this)if(1===Y.nodeType&&("click"!==q.type||!0!==Y.disabled)){var la=[];var Ba={};for(M=0;M<U;M++){var wa=B[M];var xa=wa.selector+" ";void 0===Ba[xa]&&(Ba[xa]=wa.needsContext?-1<P(xa,this).index(Y):P.find(xa,this,null,[Y]).length);Ba[xa]&&la.push(wa)}la.length&&Q.push({elem:Y,handlers:la})}U<B.length&&Q.push({elem:this,handlers:B.slice(U)});return Q},addProp:function(q,B){Object.defineProperty(P.Event.prototype,
q,{enumerable:!0,configurable:!0,get:Z(B)?function(){if(this.originalEvent)return B(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[q]},set:function(M){Object.defineProperty(this,q,{enumerable:!0,configurable:!0,writable:!0,value:M})}})},fix:function(q){return q[P.expando]?q:new P.Event(q)},special:{load:{noBubble:!0},click:{setup:function(q){q=this||q;uc.test(q.type)&&q.click&&f(q,"input")&&J(q,"click",!0);return!1},trigger:function(q){q=this||q;uc.test(q.type)&&q.click&&
f(q,"input")&&J(q,"click");return!0},_default:function(q){q=q.target;return uc.test(q.type)&&q.click&&f(q,"input")&&mb.get(q,"click")||f(q,"a")}},beforeunload:{postDispatch:function(q){void 0!==q.result&&q.originalEvent&&(q.originalEvent.returnValue=q.result)}}}};P.removeEvent=function(q,B,M){q.removeEventListener&&q.removeEventListener(B,M)};P.Event=function(q,B){if(!(this instanceof P.Event))return new P.Event(q,B);q&&q.type?(this.originalEvent=q,this.type=q.type,this.isDefaultPrevented=q.defaultPrevented||
void 0===q.defaultPrevented&&!1===q.returnValue?z:G,this.target=q.target&&3===q.target.nodeType?q.target.parentNode:q.target,this.currentTarget=q.currentTarget,this.relatedTarget=q.relatedTarget):this.type=q;B&&P.extend(this,B);this.timeStamp=q&&q.timeStamp||Date.now();this[P.expando]=!0};P.Event.prototype={constructor:P.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,isSimulated:!1,preventDefault:function(){var q=this.originalEvent;this.isDefaultPrevented=z;q&&!this.isSimulated&&
q.preventDefault()},stopPropagation:function(){var q=this.originalEvent;this.isPropagationStopped=z;q&&!this.isSimulated&&q.stopPropagation()},stopImmediatePropagation:function(){var q=this.originalEvent;this.isImmediatePropagationStopped=z;q&&!this.isSimulated&&q.stopImmediatePropagation();this.stopPropagation()}};P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,
button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp);P.each({focus:"focusin",blur:"focusout"},function(q,B){function M(Q){if(Ra.documentMode){var U=mb.get(this,"handle"),Y=P.event.fix(Q);Y.type="focusin"===Q.type?"focus":"blur";Y.isSimulated=!0;U(Q);Y.target===Y.currentTarget&&U(Y)}else P.event.simulate(B,Q.target,P.event.fix(Q))}P.event.special[q]={setup:function(){var Q;
J(this,q,!0);if(Ra.documentMode)(Q=mb.get(this,B))||this.addEventListener(B,M),mb.set(this,B,(Q||0)+1);else return!1},trigger:function(){J(this,q);return!0},teardown:function(){var Q;if(Ra.documentMode)(Q=mb.get(this,B)-1)?mb.set(this,B,Q):(this.removeEventListener(B,M),mb.remove(this,B));else return!1},_default:function(Q){return mb.get(Q.target,q)},delegateType:B};P.event.special[B]={setup:function(){var Q=this.ownerDocument||this.document||this,U=Ra.documentMode?this:Q,Y=mb.get(U,B);Y||(Ra.documentMode?
this.addEventListener(B,M):Q.addEventListener(q,M,!0));mb.set(U,B,(Y||0)+1)},teardown:function(){var Q=this.ownerDocument||this.document||this,U=Ra.documentMode?this:Q,Y=mb.get(U,B)-1;Y?mb.set(U,B,Y):(Ra.documentMode?this.removeEventListener(B,M):Q.removeEventListener(q,M,!0),mb.remove(U,B))}}});P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(q,B){P.event.special[q]={delegateType:B,bindType:B,handle:function(M){var Q=M.relatedTarget,
U=M.handleObj;if(!Q||Q!==this&&!P.contains(this,Q)){M.type=U.origType;var Y=U.handler.apply(this,arguments);M.type=B}return Y}}});P.fn.extend({on:function(q,B,M,Q){return H(this,q,B,M,Q)},one:function(q,B,M,Q){return H(this,q,B,M,Q,1)},off:function(q,B,M){if(q&&q.preventDefault&&q.handleObj){var Q=q.handleObj;P(q.delegateTarget).off(Q.namespace?Q.origType+"."+Q.namespace:Q.origType,Q.selector,Q.handler);return this}if("object"===typeof q){for(Q in q)this.off(Q,B,q[Q]);return this}if(!1===B||"function"===
typeof B)M=B,B=void 0;!1===M&&(M=G);return this.each(function(){P.event.remove(this,q,M,B)})}});var hb=/<script|<style|<link/i,W=/checked\s*(?:[^=]|=\s*.checked.)/i,qa=/^\s*<!\[CDATA\[|\]\]>\s*$/g;P.extend({htmlPrefilter:function(q){return q},clone:function(q,B,M){var Q,U=q.cloneNode(!0),Y=yc(q);if(!(K.noCloneChecked||1!==q.nodeType&&11!==q.nodeType||P.isXMLDoc(q))){var la=w(U);var Ba=w(q);var wa=0;for(Q=Ba.length;wa<Q;wa++){var xa=Ba[wa],Ua=la[wa],cb=Ua.nodeName.toLowerCase();if("input"===cb&&uc.test(xa.type))Ua.checked=
xa.checked;else if("input"===cb||"textarea"===cb)Ua.defaultValue=xa.defaultValue}}if(B)if(M)for(Ba=Ba||w(q),la=la||w(U),wa=0,Q=Ba.length;wa<Q;wa++)da(Ba[wa],la[wa]);else da(q,U);la=w(U,"script");0<la.length&&I(la,!Y&&w(q,"script"));return U},cleanData:function(q){for(var B,M,Q,U=P.event.special,Y=0;void 0!==(M=q[Y]);Y++)if(Zb(M)){if(B=M[mb.expando]){if(B.events)for(Q in B.events)U[Q]?P.event.remove(M,Q):P.removeEvent(M,Q,B.handle);M[mb.expando]=void 0}M[Ob.expando]&&(M[Ob.expando]=void 0)}}});P.fn.extend({detach:function(q){return oa(this,
q,!0)},remove:function(q){return oa(this,q)},text:function(q){return Rb(this,function(B){return void 0===B?P.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=B})},null,q,arguments.length)},append:function(){return ta(this,arguments,function(q){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||N(this,q).appendChild(q)})},prepend:function(){return ta(this,arguments,function(q){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var B=
N(this,q);B.insertBefore(q,B.firstChild)}})},before:function(){return ta(this,arguments,function(q){this.parentNode&&this.parentNode.insertBefore(q,this)})},after:function(){return ta(this,arguments,function(q){this.parentNode&&this.parentNode.insertBefore(q,this.nextSibling)})},empty:function(){for(var q,B=0;null!=(q=this[B]);B++)1===q.nodeType&&(P.cleanData(w(q,!1)),q.textContent="");return this},clone:function(q,B){q=null==q?!1:q;B=null==B?q:B;return this.map(function(){return P.clone(this,q,B)})},
html:function(q){return Rb(this,function(B){var M=this[0]||{},Q=0,U=this.length;if(void 0===B&&1===M.nodeType)return M.innerHTML;if("string"===typeof B&&!hb.test(B)&&!Sa[(ha.exec(B)||["",""])[1].toLowerCase()]){B=P.htmlPrefilter(B);try{for(;Q<U;Q++)M=this[Q]||{},1===M.nodeType&&(P.cleanData(w(M,!1)),M.innerHTML=B);M=0}catch(Y){}}M&&this.empty().append(B)},null,q,arguments.length)},replaceWith:function(){var q=[];return ta(this,arguments,function(B){var M=this.parentNode;0>P.inArray(this,q)&&(P.cleanData(w(this)),
M&&M.replaceChild(B,this))},q)}});P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(q,B){P.fn[q]=function(M){for(var Q=[],U=P(M),Y=U.length-1,la=0;la<=Y;la++)M=la===Y?this:this.clone(!0),P(U[la])[B](M),va.apply(Q,M.get());return this.pushStack(Q)}});var Ma=new RegExp("^("+xc+")(?!px)[a-z%]+$","i"),ka=/^--/,Ea=function(q){var B=q.ownerDocument.defaultView;B&&B.opener||(B=y);return B.getComputedStyle(q)},Pa=function(q,B,M){var Q,
U={};for(Q in B)U[Q]=q.style[Q],q.style[Q]=B[Q];M=M.call(q);for(Q in B)q.style[Q]=U[Q];return M},Ja=new RegExp(Vb.join("|"),"i");(function(){function q(){if(wa){Ba.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";wa.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";nc.appendChild(Ba).appendChild(wa);var xa=y.getComputedStyle(wa);B="1%"!==xa.top;la=12===Math.round(parseFloat(xa.marginLeft));
wa.style.right="60%";U=36===Math.round(parseFloat(xa.right));M=36===Math.round(parseFloat(xa.width));wa.style.position="absolute";Q=12===Math.round(parseFloat(wa.offsetWidth/3));nc.removeChild(Ba);wa=null}}var B,M,Q,U,Y,la,Ba=Ra.createElement("div"),wa=Ra.createElement("div");wa.style&&(wa.style.backgroundClip="content-box",wa.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===wa.style.backgroundClip,P.extend(K,{boxSizingReliable:function(){q();return M},pixelBoxStyles:function(){q();
return U},pixelPosition:function(){q();return B},reliableMarginLeft:function(){q();return la},scrollboxSize:function(){q();return Q},reliableTrDimensions:function(){if(null==Y){var xa=Ra.createElement("table");var Ua=Ra.createElement("tr");var cb=Ra.createElement("div");xa.style.cssText="position:absolute;left:-11111px;border-collapse:separate";Ua.style.cssText="box-sizing:content-box;border:1px solid";Ua.style.height="1px";cb.style.height="9px";cb.style.display="block";nc.appendChild(xa).appendChild(Ua).appendChild(cb);
cb=y.getComputedStyle(Ua);Y=parseInt(cb.height,10)+parseInt(cb.borderTopWidth,10)+parseInt(cb.borderBottomWidth,10)===Ua.offsetHeight;nc.removeChild(xa)}return Y}}))})();var Xa=["Webkit","Moz","ms"],$a=Ra.createElement("div").style,ob={},qb=/^(none|table(?!-c[ea]).+)/,bc={position:"absolute",visibility:"hidden",display:"block"},Ab={letterSpacing:"0",fontWeight:"400"};P.extend({cssHooks:{opacity:{get:function(q,B){if(B)return q=R(q,"opacity"),""===q?"1":q}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,
borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(q,B,M,Q){if(q&&3!==q.nodeType&&8!==q.nodeType&&q.style){var U,Y=g(B),la=ka.test(B),Ba=q.style;la||(B=ja(Y));var wa=P.cssHooks[B]||
P.cssHooks[Y];if(void 0!==M){var xa=typeof M;"string"===xa&&(U=Yb.exec(M))&&U[1]&&(M=A(q,B,U),xa="number");null!=M&&M===M&&("number"!==xa||la||(M+=U&&U[3]||(P.cssNumber[Y]?"":"px")),K.clearCloneStyle||""!==M||0!==B.indexOf("background")||(Ba[B]="inherit"),wa&&"set"in wa&&void 0===(M=wa.set(q,M,Q))||(la?Ba.setProperty(B,M):Ba[B]=M))}else return wa&&"get"in wa&&void 0!==(U=wa.get(q,!1,Q))?U:Ba[B]}},css:function(q,B,M,Q){var U;var Y=g(B);ka.test(B)||(B=ja(Y));(Y=P.cssHooks[B]||P.cssHooks[Y])&&"get"in
Y&&(U=Y.get(q,!0,M));void 0===U&&(U=R(q,B,Q));"normal"===U&&B in Ab&&(U=Ab[B]);return""===M||M?(q=parseFloat(U),!0===M||isFinite(q)?q||0:U):U}});P.each(["height","width"],function(q,B){P.cssHooks[B]={get:function(M,Q,U){if(Q)return!qb.test(P.css(M,"display"))||M.getClientRects().length&&M.getBoundingClientRect().width?Ha(M,B,U):Pa(M,bc,function(){return Ha(M,B,U)})},set:function(M,Q,U){var Y,la=Ea(M),Ba=!K.scrollboxSize()&&"absolute"===la.position,wa=(Ba||U)&&"border-box"===P.css(M,"boxSizing",!1,
la);U=U?ua(M,B,U,wa,la):0;wa&&Ba&&(U-=Math.ceil(M["offset"+B[0].toUpperCase()+B.slice(1)]-parseFloat(la[B])-ua(M,B,"border",!1,la)-.5));U&&(Y=Yb.exec(Q))&&"px"!==(Y[3]||"px")&&(M.style[B]=Q,Q=P.css(M,B));return za(M,Q,U)}}});P.cssHooks.marginLeft=pa(K.reliableMarginLeft,function(q,B){if(B)return(parseFloat(R(q,"marginLeft"))||q.getBoundingClientRect().left-Pa(q,{marginLeft:0},function(){return q.getBoundingClientRect().left}))+"px"});P.each({margin:"",padding:"",border:"Width"},function(q,B){P.cssHooks[q+
B]={expand:function(M){var Q=0,U={};for(M="string"===typeof M?M.split(" "):[M];4>Q;Q++)U[q+Vb[Q]+B]=M[Q]||M[Q-2]||M[0];return U}};"margin"!==q&&(P.cssHooks[q+B].set=za)});P.fn.extend({css:function(q,B){return Rb(this,function(M,Q,U){var Y,la={},Ba=0;if(Array.isArray(Q)){U=Ea(M);for(Y=Q.length;Ba<Y;Ba++)la[Q[Ba]]=P.css(M,Q[Ba],!1,U);return la}return void 0!==U?P.style(M,Q,U):P.css(M,Q)},q,B,1<arguments.length)}});P.Tween=ra;ra.prototype={constructor:ra,init:function(q,B,M,Q,U,Y){this.elem=q;this.prop=
M;this.easing=U||P.easing._default;this.options=B;this.start=this.now=this.cur();this.end=Q;this.unit=Y||(P.cssNumber[M]?"":"px")},cur:function(){var q=ra.propHooks[this.prop];return q&&q.get?q.get(this):ra.propHooks._default.get(this)},run:function(q){var B,M=ra.propHooks[this.prop];this.pos=this.options.duration?B=P.easing[this.easing](q,this.options.duration*q,0,1,this.options.duration):B=q;this.now=(this.end-this.start)*B+this.start;this.options.step&&this.options.step.call(this.elem,this.now,
this);M&&M.set?M.set(this):ra.propHooks._default.set(this);return this}};ra.prototype.init.prototype=ra.prototype;ra.propHooks={_default:{get:function(q){return 1!==q.elem.nodeType||null!=q.elem[q.prop]&&null==q.elem.style[q.prop]?q.elem[q.prop]:(q=P.css(q.elem,q.prop,""))&&"auto"!==q?q:0},set:function(q){if(P.fx.step[q.prop])P.fx.step[q.prop](q);else 1!==q.elem.nodeType||!P.cssHooks[q.prop]&&null==q.elem.style[ja(q.prop)]?q.elem[q.prop]=q.now:P.style(q.elem,q.prop,q.now+q.unit)}}};ra.propHooks.scrollTop=
ra.propHooks.scrollLeft={set:function(q){q.elem.nodeType&&q.elem.parentNode&&(q.elem[q.prop]=q.now)}};P.easing={linear:function(q){return q},swing:function(q){return.5-Math.cos(q*Math.PI)/2},_default:"swing"};P.fx=ra.prototype.init;P.fx.step={};var Nb,mc,rd=/^(?:toggle|show|hide)$/,sd=/queueHooks$/;P.Animation=P.extend(ya,{tweeners:{"*":[function(q,B){var M=this.createTween(q,B);A(M.elem,q,Yb.exec(B),M);return M}]},tweener:function(q,B){Z(q)?(B=q,q=["*"]):q=q.match(yb);for(var M,Q=0,U=q.length;Q<
U;Q++)M=q[Q],ya.tweeners[M]=ya.tweeners[M]||[],ya.tweeners[M].unshift(B)},prefilters:[function(q,B,M){var Q;var U="width"in B||"height"in B;var Y=this,la={},Ba=q.style,wa=q.nodeType&&Bc(q),xa=mb.get(q,"fxshow");if(!M.queue){var Ua=P._queueHooks(q,"fx");if(null==Ua.unqueued){Ua.unqueued=0;var cb=Ua.empty.fire;Ua.empty.fire=function(){Ua.unqueued||cb()}}Ua.unqueued++;Y.always(function(){Y.always(function(){Ua.unqueued--;P.queue(q,"fx").length||Ua.empty.fire()})})}for(Q in B){var kb=B[Q];if(rd.test(kb)){delete B[Q];
var Hb=Hb||"toggle"===kb;if(kb===(wa?"hide":"show"))if("show"===kb&&xa&&void 0!==xa[Q])wa=!0;else continue;la[Q]=xa&&xa[Q]||P.style(q,Q)}}if((B=!P.isEmptyObject(B))||!P.isEmptyObject(la)){if(U&&1===q.nodeType){M.overflow=[Ba.overflow,Ba.overflowX,Ba.overflowY];var wb=xa&&xa.display;null==wb&&(wb=mb.get(q,"display"));U=P.css(q,"display");"none"===U&&(wb?U=wb:(F([q],!0),wb=q.style.display||wb,U=P.css(q,"display"),F([q])));("inline"===U||"inline-block"===U&&null!=wb)&&"none"===P.css(q,"float")&&(B||
(Y.done(function(){Ba.display=wb}),null==wb&&(U=Ba.display,wb="none"===U?"":U)),Ba.display="inline-block")}M.overflow&&(Ba.overflow="hidden",Y.always(function(){Ba.overflow=M.overflow[0];Ba.overflowX=M.overflow[1];Ba.overflowY=M.overflow[2]}));B=!1;for(Q in la)B||(xa?"hidden"in xa&&(wa=xa.hidden):xa=mb.access(q,"fxshow",{display:wb}),Hb&&(xa.hidden=!wa),wa&&F([q],!0),Y.done(function(){wa||F([q]);mb.remove(q,"fxshow");for(Q in la)P.style(q,Q,la[Q])})),B=T(wa?xa[Q]:0,Q,Y),Q in xa||(xa[Q]=B.start,wa&&
(B.end=B.start,B.start=0))}}],prefilter:function(q,B){B?ya.prefilters.unshift(q):ya.prefilters.push(q)}});P.speed=function(q,B,M){var Q=q&&"object"===typeof q?P.extend({},q):{complete:M||!M&&B||Z(q)&&q,duration:q,easing:M&&B||B&&!Z(B)&&B};P.fx.off?Q.duration=0:"number"!==typeof Q.duration&&(Q.duration=Q.duration in P.fx.speeds?P.fx.speeds[Q.duration]:P.fx.speeds._default);if(null==Q.queue||!0===Q.queue)Q.queue="fx";Q.old=Q.complete;Q.complete=function(){Z(Q.old)&&Q.old.call(this);Q.queue&&P.dequeue(this,
Q.queue)};return Q};P.fn.extend({fadeTo:function(q,B,M,Q){return this.filter(Bc).css("opacity",0).show().end().animate({opacity:B},q,M,Q)},animate:function(q,B,M,Q){var U=P.isEmptyObject(q),Y=P.speed(B,M,Q);B=function(){var la=ya(this,P.extend({},q),Y);(U||mb.get(this,"finish"))&&la.stop(!0)};B.finish=B;return U||!1===Y.queue?this.each(B):this.queue(Y.queue,B)},stop:function(q,B,M){var Q=function(U){var Y=U.stop;delete U.stop;Y(M)};"string"!==typeof q&&(M=B,B=q,q=void 0);B&&this.queue(q||"fx",[]);
return this.each(function(){var U=!0,Y=null!=q&&q+"queueHooks",la=P.timers,Ba=mb.get(this);if(Y)Ba[Y]&&Ba[Y].stop&&Q(Ba[Y]);else for(Y in Ba)Ba[Y]&&Ba[Y].stop&&sd.test(Y)&&Q(Ba[Y]);for(Y=la.length;Y--;)la[Y].elem!==this||null!=q&&la[Y].queue!==q||(la[Y].anim.stop(M),U=!1,la.splice(Y,1));!U&&M||P.dequeue(this,q)})},finish:function(q){!1!==q&&(q=q||"fx");return this.each(function(){var B=mb.get(this),M=B[q+"queue"];var Q=B[q+"queueHooks"];var U=P.timers,Y=M?M.length:0;B.finish=!0;P.queue(this,q,[]);
Q&&Q.stop&&Q.stop.call(this,!0);for(Q=U.length;Q--;)U[Q].elem===this&&U[Q].queue===q&&(U[Q].anim.stop(!0),U.splice(Q,1));for(Q=0;Q<Y;Q++)M[Q]&&M[Q].finish&&M[Q].finish.call(this);delete B.finish})}});P.each(["toggle","show","hide"],function(q,B){var M=P.fn[B];P.fn[B]=function(Q,U,Y){return null==Q||"boolean"===typeof Q?M.apply(this,arguments):this.animate(gb(B,!0),Q,U,Y)}});P.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(q,B){P.fn[q]=function(M,Q,U){return this.animate(B,M,Q,U)}});P.timers=[];P.fx.tick=function(){var q=0,B=P.timers;for(Nb=Date.now();q<B.length;q++){var M=B[q];M()||B[q]!==M||B.splice(q--,1)}B.length||P.fx.stop();Nb=void 0};P.fx.timer=function(q){P.timers.push(q);P.fx.start()};P.fx.interval=13;P.fx.start=function(){mc||(mc=!0,Qa())};P.fx.stop=function(){mc=null};P.fx.speeds={slow:600,fast:200,_default:400};P.fn.delay=function(q,B){q=P.fx?P.fx.speeds[q]||q:q;return this.queue(B||"fx",function(M,
Q){var U=y.setTimeout(M,q);Q.stop=function(){y.clearTimeout(U)}})};(function(){var q=Ra.createElement("input"),B=Ra.createElement("select").appendChild(Ra.createElement("option"));q.type="checkbox";K.checkOn=""!==q.value;K.optSelected=B.selected;q=Ra.createElement("input");q.value="t";q.type="radio";K.radioValue="t"===q.value})();var Hc=P.expr.attrHandle;P.fn.extend({attr:function(q,B){return Rb(this,P.attr,q,B,1<arguments.length)},removeAttr:function(q){return this.each(function(){P.removeAttr(this,
q)})}});P.extend({attr:function(q,B,M){var Q,U,Y=q.nodeType;if(3!==Y&&8!==Y&&2!==Y){if("undefined"===typeof q.getAttribute)return P.prop(q,B,M);1===Y&&P.isXMLDoc(q)||(U=P.attrHooks[B.toLowerCase()]||(P.expr.match.bool.test(B)?td:void 0));if(void 0!==M){if(null===M){P.removeAttr(q,B);return}if(U&&"set"in U&&void 0!==(Q=U.set(q,M,B)))return Q;q.setAttribute(B,M+"");return M}if(U&&"get"in U&&null!==(Q=U.get(q,B)))return Q;Q=P.find.attr(q,B);return null==Q?void 0:Q}},attrHooks:{type:{set:function(q,B){if(!K.radioValue&&
"radio"===B&&f(q,"input")){var M=q.value;q.setAttribute("type",B);M&&(q.value=M);return B}}}},removeAttr:function(q,B){var M=0,Q=B&&B.match(yb);if(Q&&1===q.nodeType)for(;B=Q[M++];)q.removeAttribute(B)}});var td={set:function(q,B,M){!1===B?P.removeAttr(q,M):q.setAttribute(M,M);return M}};P.each(P.expr.match.bool.source.match(/\w+/g),function(q,B){var M=Hc[B]||P.find.attr;Hc[B]=function(Q,U,Y){var la=U.toLowerCase();if(!Y){var Ba=Hc[la];Hc[la]=wa;var wa=null!=M(Q,U,Y)?la:null;Hc[la]=Ba}return wa}});
var ud=/^(?:input|select|textarea|button)$/i,vd=/^(?:a|area)$/i;P.fn.extend({prop:function(q,B){return Rb(this,P.prop,q,B,1<arguments.length)},removeProp:function(q){return this.each(function(){delete this[P.propFix[q]||q]})}});P.extend({prop:function(q,B,M){var Q,U=q.nodeType;if(3!==U&&8!==U&&2!==U){if(1!==U||!P.isXMLDoc(q)){B=P.propFix[B]||B;var Y=P.propHooks[B]}return void 0!==M?Y&&"set"in Y&&void 0!==(Q=Y.set(q,M,B))?Q:q[B]=M:Y&&"get"in Y&&null!==(Q=Y.get(q,B))?Q:q[B]}},propHooks:{tabIndex:{get:function(q){var B=
P.find.attr(q,"tabindex");return B?parseInt(B,10):ud.test(q.nodeName)||vd.test(q.nodeName)&&q.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});K.optSelected||(P.propHooks.selected={get:function(q){(q=q.parentNode)&&q.parentNode&&q.parentNode.selectedIndex;return null},set:function(q){if(q=q.parentNode)q.selectedIndex,q.parentNode&&q.parentNode.selectedIndex}});P.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){P.propFix[this.toLowerCase()]=
this});P.fn.extend({addClass:function(q){var B,M,Q,U,Y;if(Z(q))return this.each(function(Ba){P(this).addClass(q.call(this,Ba,Ya(this)))});var la=sb(q);return la.length?this.each(function(){M=Ya(this);if(B=1===this.nodeType&&" "+Ia(M)+" "){for(U=0;U<la.length;U++)Q=la[U],0>B.indexOf(" "+Q+" ")&&(B+=Q+" ");Y=Ia(B);M!==Y&&this.setAttribute("class",Y)}}):this},removeClass:function(q){var B,M,Q,U,Y;if(Z(q))return this.each(function(Ba){P(this).removeClass(q.call(this,Ba,Ya(this)))});if(!arguments.length)return this.attr("class",
"");var la=sb(q);return la.length?this.each(function(){M=Ya(this);if(B=1===this.nodeType&&" "+Ia(M)+" "){for(U=0;U<la.length;U++)for(Q=la[U];-1<B.indexOf(" "+Q+" ");)B=B.replace(" "+Q+" "," ");Y=Ia(B);M!==Y&&this.setAttribute("class",Y)}}):this},toggleClass:function(q,B){var M,Q,U,Y=typeof q,la="string"===Y||Array.isArray(q);if(Z(q))return this.each(function(wa){P(this).toggleClass(q.call(this,wa,Ya(this),B),B)});if("boolean"===typeof B&&la)return B?this.addClass(q):this.removeClass(q);var Ba=sb(q);
return this.each(function(){if(la)for(U=P(this),Q=0;Q<Ba.length;Q++)M=Ba[Q],U.hasClass(M)?U.removeClass(M):U.addClass(M);else if(void 0===q||"boolean"===Y)(M=Ya(this))&&mb.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||!1===q?"":mb.get(this,"__className__")||"")})},hasClass:function(q){var B,M=0;for(q=" "+q+" ";B=this[M++];)if(1===B.nodeType&&-1<(" "+Ia(Ya(B))+" ").indexOf(q))return!0;return!1}});var wd=/\r/g;P.fn.extend({val:function(q){var B,M,Q=this[0];if(arguments.length){var U=
Z(q);return this.each(function(Y){1===this.nodeType&&(Y=U?q.call(this,Y,P(this).val()):q,null==Y?Y="":"number"===typeof Y?Y+="":Array.isArray(Y)&&(Y=P.map(Y,function(la){return null==la?"":la+""})),B=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],B&&"set"in B&&void 0!==B.set(this,Y,"value")||(this.value=Y))})}if(Q){if((B=P.valHooks[Q.type]||P.valHooks[Q.nodeName.toLowerCase()])&&"get"in B&&void 0!==(M=B.get(Q,"value")))return M;M=Q.value;return"string"===typeof M?M.replace(wd,""):
null==M?"":M}}});P.extend({valHooks:{option:{get:function(q){var B=P.find.attr(q,"value");return null!=B?B:Ia(P.text(q))}},select:{get:function(q){var B=q.options,M=q.selectedIndex,Q="select-one"===q.type,U=Q?null:[],Y=Q?M+1:B.length;for(q=0>M?Y:Q?M:0;q<Y;q++){var la=B[q];if(!(!la.selected&&q!==M||la.disabled||la.parentNode.disabled&&f(la.parentNode,"optgroup"))){la=P(la).val();if(Q)return la;U.push(la)}}return U},set:function(q,B){for(var M,Q=q.options,U=P.makeArray(B),Y=Q.length;Y--;)if(B=Q[Y],
B.selected=-1<P.inArray(P.valHooks.option.get(B),U))M=!0;M||(q.selectedIndex=-1);return U}}}});P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(q,B){if(Array.isArray(B))return q.checked=-1<P.inArray(P(q).val(),B)}};K.checkOn||(P.valHooks[this].get=function(q){return null===q.getAttribute("value")?"on":q.value})});var Ic=y.location,Zc=Date.now(),Sc=/\?/;P.parseXML=function(q){if(!q||"string"!==typeof q)return null;try{var B=(new y.DOMParser).parseFromString(q,"text/xml")}catch(Q){}var M=
B&&B.getElementsByTagName("parsererror")[0];B&&!M||P.error("Invalid XML: "+(M?P.map(M.childNodes,function(Q){return Q.textContent}).join("\n"):q));return B};var $c=/^(?:focusinfocus|focusoutblur)$/,ad=function(q){q.stopPropagation()};P.extend(P.event,{trigger:function(q,B,M,Q){var U,Y,la,Ba=[M||Ra],wa=X.call(q,"type")?q.type:q;var xa=X.call(q,"namespace")?q.namespace.split("."):[];var Ua=la=U=M=M||Ra;if(3!==M.nodeType&&8!==M.nodeType&&!$c.test(wa+P.event.triggered)){-1<wa.indexOf(".")&&(xa=wa.split("."),
wa=xa.shift(),xa.sort());var cb=0>wa.indexOf(":")&&"on"+wa;q=q[P.expando]?q:new P.Event(wa,"object"===typeof q&&q);q.isTrigger=Q?2:3;q.namespace=xa.join(".");q.rnamespace=q.namespace?new RegExp("(^|\\.)"+xa.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;q.result=void 0;q.target||(q.target=M);B=null==B?[q]:P.makeArray(B,[q]);xa=P.event.special[wa]||{};if(Q||!xa.trigger||!1!==xa.trigger.apply(M,B)){if(!Q&&!xa.noBubble&&!Aa(M)){var kb=xa.delegateType||wa;$c.test(kb+wa)||(Ua=Ua.parentNode);for(;Ua;Ua=Ua.parentNode)Ba.push(Ua),
U=Ua;U===(M.ownerDocument||Ra)&&Ba.push(U.defaultView||U.parentWindow||y)}for(U=0;(Ua=Ba[U++])&&!q.isPropagationStopped();)la=Ua,q.type=1<U?kb:xa.bindType||wa,(Y=(mb.get(Ua,"events")||Object.create(null))[q.type]&&mb.get(Ua,"handle"))&&Y.apply(Ua,B),(Y=cb&&Ua[cb])&&Y.apply&&Zb(Ua)&&(q.result=Y.apply(Ua,B),!1===q.result&&q.preventDefault());q.type=wa;Q||q.isDefaultPrevented()||xa._default&&!1!==xa._default.apply(Ba.pop(),B)||!Zb(M)||!cb||!Z(M[wa])||Aa(M)||((U=M[cb])&&(M[cb]=null),P.event.triggered=
wa,q.isPropagationStopped()&&la.addEventListener(wa,ad),M[wa](),q.isPropagationStopped()&&la.removeEventListener(wa,ad),P.event.triggered=void 0,U&&(M[cb]=U));return q.result}}},simulate:function(q,B,M){q=P.extend(new P.Event,M,{type:q,isSimulated:!0});P.event.trigger(q,null,B)}});P.fn.extend({trigger:function(q,B){return this.each(function(){P.event.trigger(q,B,this)})},triggerHandler:function(q,B){var M=this[0];if(M)return P.event.trigger(q,B,M,!0)}});var fd=/\[\]$/,bd=/\r?\n/g,xd=/^(?:submit|button|image|reset|file)$/i,
yd=/^(?:input|select|textarea|keygen)/i;P.param=function(q,B){var M,Q=[],U=function(Y,la){la=Z(la)?la():la;Q[Q.length]=encodeURIComponent(Y)+"="+encodeURIComponent(null==la?"":la)};if(null==q)return"";if(Array.isArray(q)||q.jquery&&!P.isPlainObject(q))P.each(q,function(){U(this.name,this.value)});else for(M in q)ub(M,q[M],B,U);return Q.join("&")};P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var q=P.prop(this,"elements");
return q?P.makeArray(q):this}).filter(function(){var q=this.type;return this.name&&!P(this).is(":disabled")&&yd.test(this.nodeName)&&!xd.test(q)&&(this.checked||!uc.test(q))}).map(function(q,B){q=P(this).val();return null==q?null:Array.isArray(q)?P.map(q,function(M){return{name:B.name,value:M.replace(bd,"\r\n")}}):{name:B.name,value:q.replace(bd,"\r\n")}}).get()}});var zd=/%20/g,Ad=/#.*$/,Bd=/([?&])_=[^&]*/,Cd=/^(.*?):[ \t]*([^\r\n]*)$/mg,Dd=/^(?:GET|HEAD)$/,Ed=/^\/\//,cd={},Nc={},dd="*/".concat("*"),
Tc=Ra.createElement("a");Tc.href=Ic.href;P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ic.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ic.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(q,B){return B?Oa(Oa(q,P.ajaxSettings),B):Oa(P.ajaxSettings,q)},ajaxPrefilter:Na(cd),ajaxTransport:Na(Nc),ajax:function(q,B){function M(Bb,Sb,pc,jc){var $b,Db=Sb;if(!ic){ic=!0;la&&y.clearTimeout(la);Q=void 0;U=jc||"";vb.readyState=0<Bb?4:0;jc=200<=Bb&&300>Bb||304===Bb;pc&&($b=Ka(xa,vb,pc));!jc&&-1<P.inArray("script",xa.dataTypes)&&
0>P.inArray("json",xa.dataTypes)&&(xa.converters["text script"]=function(){});$b=bb(xa,$b,vb,jc);if(jc)if(xa.ifModified&&((pc=vb.getResponseHeader("Last-Modified"))&&(P.lastModified[Tb]=pc),(pc=vb.getResponseHeader("etag"))&&(P.etag[Tb]=pc)),204===Bb||"HEAD"===xa.type)Db="nocontent";else if(304===Bb)Db="notmodified";else{Db=$b.state;var oc=$b.data;var dc=$b.error;jc=!dc}else if(dc=Db,Bb||!Db)Db="error",0>Bb&&(Bb=0);vb.status=Bb;vb.statusText=(Sb||Db)+"";jc?kb.resolveWith(Ua,[oc,Db,vb]):kb.rejectWith(Ua,
[vb,Db,dc]);vb.statusCode(wb);wb=void 0;Ba&&cb.trigger(jc?"ajaxSuccess":"ajaxError",[vb,xa,jc?oc:dc]);Hb.fireWith(Ua,[vb,Db]);Ba&&(cb.trigger("ajaxComplete",[vb,xa]),--P.active||P.event.trigger("ajaxStop"))}}"object"===typeof q&&(B=q,q=void 0);B=B||{};var Q,U,Y,la,Ba,wa,xa=P.ajaxSetup({},B),Ua=xa.context||xa,cb=xa.context&&(Ua.nodeType||Ua.jquery)?P(Ua):P.event,kb=P.Deferred(),Hb=P.Callbacks("once memory"),wb=xa.statusCode||{},Wb={},ac={},qc="canceled",vb={readyState:0,getResponseHeader:function(Bb){var Sb;
if(ic){if(!Y)for(Y={};Sb=Cd.exec(U);)Y[Sb[1].toLowerCase()+" "]=(Y[Sb[1].toLowerCase()+" "]||[]).concat(Sb[2]);Sb=Y[Bb.toLowerCase()+" "]}return null==Sb?null:Sb.join(", ")},getAllResponseHeaders:function(){return ic?U:null},setRequestHeader:function(Bb,Sb){null==ic&&(Bb=ac[Bb.toLowerCase()]=ac[Bb.toLowerCase()]||Bb,Wb[Bb]=Sb);return this},overrideMimeType:function(Bb){null==ic&&(xa.mimeType=Bb);return this},statusCode:function(Bb){var Sb;if(Bb)if(ic)vb.always(Bb[vb.status]);else for(Sb in Bb)wb[Sb]=
[wb[Sb],Bb[Sb]];return this},abort:function(Bb){Bb=Bb||qc;Q&&Q.abort(Bb);M(0,Bb);return this}};kb.promise(vb);xa.url=((q||xa.url||Ic.href)+"").replace(Ed,Ic.protocol+"//");xa.type=B.method||B.type||xa.method||xa.type;xa.dataTypes=(xa.dataType||"*").toLowerCase().match(yb)||[""];if(null==xa.crossDomain){q=Ra.createElement("a");try{q.href=xa.url,q.href=q.href,xa.crossDomain=Tc.protocol+"//"+Tc.host!==q.protocol+"//"+q.host}catch(Bb){xa.crossDomain=!0}}xa.data&&xa.processData&&"string"!==typeof xa.data&&
(xa.data=P.param(xa.data,xa.traditional));sa(cd,xa,B,vb);if(ic)return vb;(Ba=P.event&&xa.global)&&0===P.active++&&P.event.trigger("ajaxStart");xa.type=xa.type.toUpperCase();xa.hasContent=!Dd.test(xa.type);var Tb=xa.url.replace(Ad,"");xa.hasContent?xa.data&&xa.processData&&0===(xa.contentType||"").indexOf("application/x-www-form-urlencoded")&&(xa.data=xa.data.replace(zd,"+")):(q=xa.url.slice(Tb.length),xa.data&&(xa.processData||"string"===typeof xa.data)&&(Tb+=(Sc.test(Tb)?"&":"?")+xa.data,delete xa.data),
!1===xa.cache&&(Tb=Tb.replace(Bd,"$1"),q=(Sc.test(Tb)?"&":"?")+"_="+Zc++ +q),xa.url=Tb+q);xa.ifModified&&(P.lastModified[Tb]&&vb.setRequestHeader("If-Modified-Since",P.lastModified[Tb]),P.etag[Tb]&&vb.setRequestHeader("If-None-Match",P.etag[Tb]));(xa.data&&xa.hasContent&&!1!==xa.contentType||B.contentType)&&vb.setRequestHeader("Content-Type",xa.contentType);vb.setRequestHeader("Accept",xa.dataTypes[0]&&xa.accepts[xa.dataTypes[0]]?xa.accepts[xa.dataTypes[0]]+("*"!==xa.dataTypes[0]?", "+dd+"; q=0.01":
""):xa.accepts["*"]);for(wa in xa.headers)vb.setRequestHeader(wa,xa.headers[wa]);if(xa.beforeSend&&(!1===xa.beforeSend.call(Ua,vb,xa)||ic))return vb.abort();qc="abort";Hb.add(xa.complete);vb.done(xa.success);vb.fail(xa.error);if(Q=sa(Nc,xa,B,vb)){vb.readyState=1;Ba&&cb.trigger("ajaxSend",[vb,xa]);if(ic)return vb;xa.async&&0<xa.timeout&&(la=y.setTimeout(function(){vb.abort("timeout")},xa.timeout));try{var ic=!1;Q.send(Wb,M)}catch(Bb){if(ic)throw Bb;M(-1,Bb)}}else M(-1,"No Transport");return vb},getJSON:function(q,
B,M){return P.get(q,B,M,"json")},getScript:function(q,B){return P.get(q,void 0,B,"script")}});P.each(["get","post"],function(q,B){P[B]=function(M,Q,U,Y){Z(Q)&&(Y=Y||U,U=Q,Q=void 0);return P.ajax(P.extend({url:M,type:B,dataType:Y,data:Q,success:U},P.isPlainObject(M)&&M))}});P.ajaxPrefilter(function(q){for(var B in q.headers)"content-type"===B.toLowerCase()&&(q.contentType=q.headers[B]||"")});P._evalUrl=function(q,B,M){return P.ajax({url:q,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},
dataFilter:function(Q){P.globalEval(Q,B,M)}})};P.fn.extend({wrapAll:function(q){this[0]&&(Z(q)&&(q=q.call(this[0])),q=P(q,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&q.insertBefore(this[0]),q.map(function(){for(var B=this;B.firstElementChild;)B=B.firstElementChild;return B}).append(this));return this},wrapInner:function(q){return Z(q)?this.each(function(B){P(this).wrapInner(q.call(this,B))}):this.each(function(){var B=P(this),M=B.contents();M.length?M.wrapAll(q):B.append(q)})},wrap:function(q){var B=
Z(q);return this.each(function(M){P(this).wrapAll(B?q.call(this,M):q)})},unwrap:function(q){this.parent(q).not("body").each(function(){P(this).replaceWith(this.childNodes)});return this}});P.expr.pseudos.hidden=function(q){return!P.expr.pseudos.visible(q)};P.expr.pseudos.visible=function(q){return!!(q.offsetWidth||q.offsetHeight||q.getClientRects().length)};P.ajaxSettings.xhr=function(){try{return new y.XMLHttpRequest}catch(q){}};var Fd={0:200,1223:204},Jc=P.ajaxSettings.xhr();K.cors=!!Jc&&"withCredentials"in
Jc;K.ajax=Jc=!!Jc;P.ajaxTransport(function(q){var B,M;if(K.cors||Jc&&!q.crossDomain)return{send:function(Q,U){var Y,la=q.xhr();la.open(q.type,q.url,q.async,q.username,q.password);if(q.xhrFields)for(Y in q.xhrFields)la[Y]=q.xhrFields[Y];q.mimeType&&la.overrideMimeType&&la.overrideMimeType(q.mimeType);q.crossDomain||Q["X-Requested-With"]||(Q["X-Requested-With"]="XMLHttpRequest");for(Y in Q)la.setRequestHeader(Y,Q[Y]);B=function(Ba){return function(){B&&(B=M=la.onload=la.onerror=la.onabort=la.ontimeout=
la.onreadystatechange=null,"abort"===Ba?la.abort():"error"===Ba?"number"!==typeof la.status?U(0,"error"):U(la.status,la.statusText):U(Fd[la.status]||la.status,la.statusText,"text"!==(la.responseType||"text")||"string"!==typeof la.responseText?{binary:la.response}:{text:la.responseText},la.getAllResponseHeaders()))}};la.onload=B();M=la.onerror=la.ontimeout=B("error");void 0!==la.onabort?la.onabort=M:la.onreadystatechange=function(){4===la.readyState&&y.setTimeout(function(){B&&M()})};B=B("abort");
try{la.send(q.hasContent&&q.data||null)}catch(Ba){if(B)throw Ba;}},abort:function(){B&&B()}}});P.ajaxPrefilter(function(q){q.crossDomain&&(q.contents.script=!1)});P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(q){P.globalEval(q);return q}}});P.ajaxPrefilter("script",function(q){void 0===q.cache&&(q.cache=!1);q.crossDomain&&(q.type="GET")});P.ajaxTransport("script",
function(q){if(q.crossDomain||q.scriptAttrs){var B,M;return{send:function(Q,U){B=P("<script>").attr(q.scriptAttrs||{}).prop({charset:q.scriptCharset,src:q.url}).on("load error",M=function(Y){B.remove();M=null;Y&&U("error"===Y.type?404:200,Y.type)});Ra.head.appendChild(B[0])},abort:function(){M&&M()}}}});var ed=[],Uc=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var q=ed.pop()||P.expando+"_"+Zc++;this[q]=!0;return q}});P.ajaxPrefilter("json jsonp",function(q,B,M){var Q,
U=!1!==q.jsonp&&(Uc.test(q.url)?"url":"string"===typeof q.data&&0===(q.contentType||"").indexOf("application/x-www-form-urlencoded")&&Uc.test(q.data)&&"data");if(U||"jsonp"===q.dataTypes[0]){var Y=q.jsonpCallback=Z(q.jsonpCallback)?q.jsonpCallback():q.jsonpCallback;U?q[U]=q[U].replace(Uc,"$1"+Y):!1!==q.jsonp&&(q.url+=(Sc.test(q.url)?"&":"?")+q.jsonp+"="+Y);q.converters["script json"]=function(){Q||P.error(Y+" was not called");return Q[0]};q.dataTypes[0]="json";var la=y[Y];y[Y]=function(){Q=arguments};
M.always(function(){void 0===la?P(y).removeProp(Y):y[Y]=la;q[Y]&&(q.jsonpCallback=B.jsonpCallback,ed.push(Y));Q&&Z(la)&&la(Q[0]);Q=la=void 0});return"script"}});K.createHTMLDocument=function(){var q=Ra.implementation.createHTMLDocument("").body;q.innerHTML="<form></form><form></form>";return 2===q.childNodes.length}();P.parseHTML=function(q,B,M){if("string"!==typeof q)return[];"boolean"===typeof B&&(M=B,B=!1);if(!B)if(K.createHTMLDocument){B=Ra.implementation.createHTMLDocument("");var Q=B.createElement("base");
Q.href=Ra.location.href;B.head.appendChild(Q)}else B=Ra;Q=Cb.exec(q);M=!M&&[];if(Q)return[B.createElement(Q[1])];Q=O([q],B,M);M&&M.length&&P(M).remove();return P.merge([],Q.childNodes)};P.fn.load=function(q,B,M){var Q,U,Y=this,la=q.indexOf(" ");if(-1<la){var Ba=Ia(q.slice(la));q=q.slice(0,la)}Z(B)?(M=B,B=void 0):B&&"object"===typeof B&&(Q="POST");0<Y.length&&P.ajax({url:q,type:Q||"GET",dataType:"html",data:B}).done(function(wa){U=arguments;Y.html(Ba?P("<div>").append(P.parseHTML(wa)).find(Ba):wa)}).always(M&&
function(wa,xa){Y.each(function(){M.apply(this,U||[wa.responseText,xa,wa])})});return this};P.expr.pseudos.animated=function(q){return P.grep(P.timers,function(B){return q===B.elem}).length};P.offset={setOffset:function(q,B,M){var Q=P.css(q,"position"),U=P(q),Y={};"static"===Q&&(q.style.position="relative");var la=U.offset();var Ba=P.css(q,"top");var wa=P.css(q,"left");("absolute"===Q||"fixed"===Q)&&-1<(Ba+wa).indexOf("auto")?(wa=U.position(),Ba=wa.top,wa=wa.left):(Ba=parseFloat(Ba)||0,wa=parseFloat(wa)||
0);Z(B)&&(B=B.call(q,M,P.extend({},la)));null!=B.top&&(Y.top=B.top-la.top+Ba);null!=B.left&&(Y.left=B.left-la.left+wa);"using"in B?B.using.call(q,Y):U.css(Y)}};P.fn.extend({offset:function(q){if(arguments.length)return void 0===q?this:this.each(function(Q){P.offset.setOffset(this,q,Q)});var B;if(B=this[0]){if(!B.getClientRects().length)return{top:0,left:0};var M=B.getBoundingClientRect();B=B.ownerDocument.defaultView;return{top:M.top+B.pageYOffset,left:M.left+B.pageXOffset}}},position:function(){if(this[0]){var q,
B=this[0],M={top:0,left:0};if("fixed"===P.css(B,"position"))var Q=B.getBoundingClientRect();else{Q=this.offset();var U=B.ownerDocument;for(q=B.offsetParent||U.documentElement;q&&(q===U.body||q===U.documentElement)&&"static"===P.css(q,"position");)q=q.parentNode;q&&q!==B&&1===q.nodeType&&(M=P(q).offset(),M.top+=P.css(q,"borderTopWidth",!0),M.left+=P.css(q,"borderLeftWidth",!0))}return{top:Q.top-M.top-P.css(B,"marginTop",!0),left:Q.left-M.left-P.css(B,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var q=
this.offsetParent;q&&"static"===P.css(q,"position");)q=q.offsetParent;return q||nc})}});P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(q,B){var M="pageYOffset"===B;P.fn[q]=function(Q){return Rb(this,function(U,Y,la){if(Aa(U))var Ba=U;else 9===U.nodeType&&(Ba=U.defaultView);if(void 0===la)return Ba?Ba[B]:U[Y];Ba?Ba.scrollTo(M?Ba.pageXOffset:la,M?la:Ba.pageYOffset):U[Y]=la},q,Q,arguments.length)}});P.each(["top","left"],function(q,B){P.cssHooks[B]=pa(K.pixelPosition,function(M,Q){if(Q)return Q=
R(M,B),Ma.test(Q)?P(M).position()[B]+"px":Q})});P.each({Height:"height",Width:"width"},function(q,B){P.each({padding:"inner"+q,content:B,"":"outer"+q},function(M,Q){P.fn[Q]=function(U,Y){var la=arguments.length&&(M||"boolean"!==typeof U),Ba=M||(!0===U||!0===Y?"margin":"border");return Rb(this,function(wa,xa,Ua){return Aa(wa)?0===Q.indexOf("outer")?wa["inner"+q]:wa.document.documentElement["client"+q]:9===wa.nodeType?(xa=wa.documentElement,Math.max(wa.body["scroll"+q],xa["scroll"+q],wa.body["offset"+
q],xa["offset"+q],xa["client"+q])):void 0===Ua?P.css(wa,xa,Ba):P.style(wa,xa,Ua,Ba)},B,la?U:void 0,la)}})});P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(q,B){P.fn[B]=function(M){return this.on(B,M)}});P.fn.extend({bind:function(q,B,M){return this.on(q,null,B,M)},unbind:function(q,B){return this.off(q,null,B)},delegate:function(q,B,M,Q){return this.on(B,q,M,Q)},undelegate:function(q,B,M){return 1===arguments.length?this.off(q,"**"):this.off(B,q||"**",
M)},hover:function(q,B){return this.on("mouseenter",q).on("mouseleave",B||q)}});P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(q,B){P.fn[B]=function(M,Q){return 0<arguments.length?this.on(B,null,M,Q):this.trigger(B)}});var Gd=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(q,B){if("string"===typeof B){var M=q[B];
B=q;q=M}if(Z(q)){var Q=fa.call(arguments,2);M=function(){return q.apply(B||this,Q.concat(fa.call(arguments)))};M.guid=q.guid=q.guid||P.guid++;return M}};P.holdReady=function(q){q?P.readyWait++:P.ready(!0)};P.isArray=Array.isArray;P.parseJSON=JSON.parse;P.nodeName=f;P.isFunction=Z;P.isWindow=Aa;P.camelCase=g;P.type=E;P.now=Date.now;P.isNumeric=function(q){var B=P.type(q);return("number"===B||"string"===B)&&!isNaN(q-parseFloat(q))};P.trim=function(q){return null==q?"":(q+"").replace(Gd,"$1")};var Hd=
y.jQuery,Id=y.$;P.noConflict=function(q){y.$===P&&(y.$=Id);q&&y.jQuery===P&&(y.jQuery=Hd);return P};"undefined"===typeof l&&(y.jQuery=y.$=P);return P})},{}],298:[function(k,L,C){C=k("./lib/utils/common").assign;var y=k("./lib/deflate"),l=k("./lib/inflate");k=k("./lib/zlib/constants");var v={};C(v,y,l,k);L.exports=v},{"./lib/deflate":299,"./lib/inflate":300,"./lib/utils/common":301,"./lib/zlib/constants":304}],299:[function(k,L,C){function y(m){if(!(this instanceof y))return new y(m);m=this.options=
E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},m||{});m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&16>m.windowBits&&(m.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new x;this.strm.avail_out=0;var r=v.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(0!==r)throw Error(f[r]);m.header&&v.deflateSetHeader(this.strm,m.header);if(m.dictionary){m="string"===typeof m.dictionary?
c.string2buf(m.dictionary):"[object ArrayBuffer]"===a.call(m.dictionary)?new Uint8Array(m.dictionary):m.dictionary;r=v.deflateSetDictionary(this.strm,m);if(0!==r)throw Error(f[r]);this._dict_set=!0}}function l(m,r){r=new y(r);r.push(m,!0);if(r.err)throw r.msg||f[r.err];return r.result}var v=k("./zlib/deflate"),E=k("./utils/common"),c=k("./utils/strings"),f=k("./zlib/messages"),x=k("./zlib/zstream"),a=Object.prototype.toString;y.prototype.push=function(m,r){var t=this.strm,b=this.options.chunkSize;
if(this.ended)return!1;r=r===~~r?r:!0===r?4:0;"string"===typeof m?t.input=c.string2buf(m):"[object ArrayBuffer]"===a.call(m)?t.input=new Uint8Array(m):t.input=m;t.next_in=0;t.avail_in=t.input.length;do{0===t.avail_out&&(t.output=new E.Buf8(b),t.next_out=0,t.avail_out=b);m=v.deflate(t,r);if(1!==m&&0!==m)return this.onEnd(m),this.ended=!0,!1;if(0===t.avail_out||0===t.avail_in&&(4===r||2===r))if("string"===this.options.to)this.onData(c.buf2binstring(E.shrinkBuf(t.output,t.next_out)));else this.onData(E.shrinkBuf(t.output,
t.next_out))}while((0<t.avail_in||0===t.avail_out)&&1!==m);if(4===r)return m=v.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,0===m;2===r&&(this.onEnd(0),t.avail_out=0);return!0};y.prototype.onData=function(m){this.chunks.push(m)};y.prototype.onEnd=function(m){0===m&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=m;this.msg=this.strm.msg};C.Deflate=y;C.deflate=l;C.deflateRaw=function(m,r){r=r||{};r.raw=!0;return l(m,r)};C.gzip=
function(m,r){r=r||{};r.gzip=!0;return l(m,r)}},{"./utils/common":301,"./utils/strings":302,"./zlib/deflate":306,"./zlib/messages":311,"./zlib/zstream":313}],300:[function(k,L,C){function y(t){if(!(this instanceof y))return new y(t);var b=this.options=E.assign({chunkSize:16384,windowBits:0,to:""},t||{});b.raw&&0<=b.windowBits&&16>b.windowBits&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15));!(0<=b.windowBits&&16>b.windowBits)||t&&t.windowBits||(b.windowBits+=32);15<b.windowBits&&
48>b.windowBits&&0===(b.windowBits&15)&&(b.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;t=v.inflateInit2(this.strm,b.windowBits);if(t!==f.Z_OK)throw Error(x[t]);this.header=new m;v.inflateGetHeader(this.strm,this.header);if(b.dictionary&&("string"===typeof b.dictionary?b.dictionary=c.string2buf(b.dictionary):"[object ArrayBuffer]"===r.call(b.dictionary)&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw&&(t=v.inflateSetDictionary(this.strm,
b.dictionary),t!==f.Z_OK)))throw Error(x[t]);}function l(t,b){b=new y(b);b.push(t,!0);if(b.err)throw b.msg||x[b.err];return b.result}var v=k("./zlib/inflate"),E=k("./utils/common"),c=k("./utils/strings"),f=k("./zlib/constants"),x=k("./zlib/messages"),a=k("./zlib/zstream"),m=k("./zlib/gzheader"),r=Object.prototype.toString;y.prototype.push=function(t,b){var e=this.strm,h=this.options.chunkSize,n=this.options.dictionary,g=!1;if(this.ended)return!1;b=b===~~b?b:!0===b?f.Z_FINISH:f.Z_NO_FLUSH;"string"===
typeof t?e.input=c.binstring2buf(t):"[object ArrayBuffer]"===r.call(t)?e.input=new Uint8Array(t):e.input=t;e.next_in=0;e.avail_in=e.input.length;do{0===e.avail_out&&(e.output=new E.Buf8(h),e.next_out=0,e.avail_out=h);t=v.inflate(e,f.Z_NO_FLUSH);t===f.Z_NEED_DICT&&n&&(t=v.inflateSetDictionary(this.strm,n));t===f.Z_BUF_ERROR&&!0===g&&(t=f.Z_OK,g=!1);if(t!==f.Z_STREAM_END&&t!==f.Z_OK)return this.onEnd(t),this.ended=!0,!1;if(e.next_out&&(0===e.avail_out||t===f.Z_STREAM_END||0===e.avail_in&&(b===f.Z_FINISH||
b===f.Z_SYNC_FLUSH)))if("string"===this.options.to){var p=c.utf8border(e.output,e.next_out);var u=e.next_out-p;var A=c.buf2string(e.output,p);e.next_out=u;e.avail_out=h-u;u&&E.arraySet(e.output,e.output,p,u,0);this.onData(A)}else this.onData(E.shrinkBuf(e.output,e.next_out));0===e.avail_in&&0===e.avail_out&&(g=!0)}while((0<e.avail_in||0===e.avail_out)&&t!==f.Z_STREAM_END);t===f.Z_STREAM_END&&(b=f.Z_FINISH);if(b===f.Z_FINISH)return t=v.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,t===f.Z_OK;b===
f.Z_SYNC_FLUSH&&(this.onEnd(f.Z_OK),e.avail_out=0);return!0};y.prototype.onData=function(t){this.chunks.push(t)};y.prototype.onEnd=function(t){t===f.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=t;this.msg=this.strm.msg};C.Inflate=y;C.inflate=l;C.inflateRaw=function(t,b){b=b||{};b.raw=!0;return l(t,b)};C.ungzip=l},{"./utils/common":301,"./utils/strings":302,"./zlib/constants":304,"./zlib/gzheader":307,"./zlib/inflate":309,
"./zlib/messages":311,"./zlib/zstream":313}],301:[function(k,L,C){k="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;C.assign=function(v){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var c=E.shift();if(c){if("object"!==typeof c)throw new TypeError(c+"must be non-object");for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(v[f]=c[f])}}return v};C.shrinkBuf=function(v,E){if(v.length===E)return v;if(v.subarray)return v.subarray(0,
E);v.length=E;return v};var y={arraySet:function(v,E,c,f,x){if(E.subarray&&v.subarray)v.set(E.subarray(c,c+f),x);else for(var a=0;a<f;a++)v[x+a]=E[c+a]},flattenChunks:function(v){var E,c;var f=c=0;for(E=v.length;f<E;f++)c+=v[f].length;var x=new Uint8Array(c);f=c=0;for(E=v.length;f<E;f++){var a=v[f];x.set(a,c);c+=a.length}return x}},l={arraySet:function(v,E,c,f,x){for(var a=0;a<f;a++)v[x+a]=E[c+a]},flattenChunks:function(v){return[].concat.apply([],v)}};C.setTyped=function(v){v?(C.Buf8=Uint8Array,
C.Buf16=Uint16Array,C.Buf32=Int32Array,C.assign(C,y)):(C.Buf8=Array,C.Buf16=Array,C.Buf32=Array,C.assign(C,l))};C.setTyped(k)},{}],302:[function(k,L,C){function y(f,x){if(65534>x&&(f.subarray&&E||!f.subarray&&v))return String.fromCharCode.apply(null,l.shrinkBuf(f,x));for(var a="",m=0;m<x;m++)a+=String.fromCharCode(f[m]);return a}var l=k("./common"),v=!0,E=!0;try{String.fromCharCode.apply(null,[0])}catch(f){v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(f){E=!1}var c=new l.Buf8(256);
for(k=0;256>k;k++)c[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;c[254]=c[254]=1;C.string2buf=function(f){var x,a,m=f.length,r=0;for(x=0;x<m;x++){var t=f.charCodeAt(x);if(55296===(t&64512)&&x+1<m){var b=f.charCodeAt(x+1);56320===(b&64512)&&(t=65536+(t-55296<<10)+(b-56320),x++)}r+=128>t?1:2048>t?2:65536>t?3:4}var e=new l.Buf8(r);for(x=a=0;a<r;x++)t=f.charCodeAt(x),55296===(t&64512)&&x+1<m&&(b=f.charCodeAt(x+1),56320===(b&64512)&&(t=65536+(t-55296<<10)+(b-56320),x++)),128>t?e[a++]=t:(2048>t?e[a++]=
192|t>>>6:(65536>t?e[a++]=224|t>>>12:(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63),e[a++]=128|t>>>6&63),e[a++]=128|t&63);return e};C.buf2binstring=function(f){return y(f,f.length)};C.binstring2buf=function(f){for(var x=new l.Buf8(f.length),a=0,m=x.length;a<m;a++)x[a]=f.charCodeAt(a);return x};C.buf2string=function(f,x){var a,m=x||f.length,r=Array(2*m);for(x=a=0;x<m;){var t=f[x++];if(128>t)r[a++]=t;else{var b=c[t];if(4<b)r[a++]=65533,x+=b-1;else{for(t&=2===b?31:3===b?15:7;1<b&&x<m;)t=t<<6|f[x++]&63,b--;
1<b?r[a++]=65533:65536>t?r[a++]=t:(t-=65536,r[a++]=55296|t>>10&1023,r[a++]=56320|t&1023)}}}return y(r,a)};C.utf8border=function(f,x){var a;x=x||f.length;x>f.length&&(x=f.length);for(a=x-1;0<=a&&128===(f[a]&192);)a--;return 0>a||0===a?x:a+c[f[a]]>x?a:x}},{"./common":301}],303:[function(k,L,C){L.exports=function(y,l,v,E){var c=y&65535|0;y=y>>>16&65535|0;for(var f;0!==v;){f=2E3<v?2E3:v;v-=f;do c=c+l[E++]|0,y=y+c|0;while(--f);c%=65521;y%=65521}return c|y<<16|0}},{}],304:[function(k,L,C){L.exports={Z_NO_FLUSH:0,
Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],305:[function(k,L,C){var y=function(){for(var l,v=[],E=0;256>E;E++){l=E;for(var c=0;8>c;c++)l=l&1?3988292384^l>>>1:l>>>1;v[E]=
l}return v}();L.exports=function(l,v,E,c){E=c+E;for(l^=-1;c<E;c++)l=l>>>8^y[(l^v[c])&255];return l^-1}},{}],306:[function(k,L,C){function y(z,G){z.msg=I[G];return G}function l(z){for(var G=z.length;0<=--G;)z[G]=0}function v(z){var G=z.state,H=G.pending;H>z.avail_out&&(H=z.avail_out);0!==H&&(u.arraySet(z.output,G.pending_buf,G.pending_out,H,z.next_out),z.next_out+=H,G.pending_out+=H,z.total_out+=H,z.avail_out-=H,G.pending-=H,0===G.pending&&(G.pending_out=0))}function E(z,G){A._tr_flush_block(z,0<=
z.block_start?z.block_start:-1,z.strstart-z.block_start,G);z.block_start=z.strstart;v(z.strm)}function c(z,G){z.pending_buf[z.pending++]=G}function f(z,G){z.pending_buf[z.pending++]=G>>>8&255;z.pending_buf[z.pending++]=G&255}function x(z,G){var H=z.max_chain_length,J=z.strstart,N=z.prev_length,S=z.nice_match,ia=z.strstart>z.w_size-262?z.strstart-(z.w_size-262):0,da=z.window,ta=z.w_mask,oa=z.prev,R=z.strstart+258,pa=da[J+N-1],ja=da[J+N];z.prev_length>=z.good_match&&(H>>=2);S>z.lookahead&&(S=z.lookahead);
do{var za=G;if(da[za+N]===ja&&da[za+N-1]===pa&&da[za]===da[J]&&da[++za]===da[J+1]){J+=2;for(za++;da[++J]===da[++za]&&da[++J]===da[++za]&&da[++J]===da[++za]&&da[++J]===da[++za]&&da[++J]===da[++za]&&da[++J]===da[++za]&&da[++J]===da[++za]&&da[++J]===da[++za]&&J<R;);za=258-(R-J);J=R-258;if(za>N){z.match_start=G;N=za;if(za>=S)break;pa=da[J+N-1];ja=da[J+N]}}}while((G=oa[G&ta])>ia&&0!==--H);return N<=z.lookahead?N:z.lookahead}function a(z){var G=z.w_size,H;do{var J=z.window_size-z.lookahead-z.strstart;if(z.strstart>=
G+(G-262)){u.arraySet(z.window,z.window,G,G,0);z.match_start-=G;z.strstart-=G;z.block_start-=G;var N=H=z.hash_size;do{var S=z.head[--N];z.head[N]=S>=G?S-G:0}while(--H);N=H=G;do S=z.prev[--N],z.prev[N]=S>=G?S-G:0;while(--H);J+=G}if(0===z.strm.avail_in)break;N=z.strm;H=z.window;S=z.strstart+z.lookahead;var ia=N.avail_in;ia>J&&(ia=J);0===ia?H=0:(N.avail_in-=ia,u.arraySet(H,N.input,N.next_in,ia,S),1===N.state.wrap?N.adler=F(N.adler,H,ia,S):2===N.state.wrap&&(N.adler=w(N.adler,H,ia,S)),N.next_in+=ia,N.total_in+=
ia,H=ia);z.lookahead+=H;if(3<=z.lookahead+z.insert)for(J=z.strstart-z.insert,z.ins_h=z.window[J],z.ins_h=(z.ins_h<<z.hash_shift^z.window[J+1])&z.hash_mask;z.insert&&!(z.ins_h=(z.ins_h<<z.hash_shift^z.window[J+3-1])&z.hash_mask,z.prev[J&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=J,J++,z.insert--,3>z.lookahead+z.insert););}while(262>z.lookahead&&0!==z.strm.avail_in)}function m(z,G){for(var H;;){if(262>z.lookahead){a(z);if(262>z.lookahead&&0===G)return 1;if(0===z.lookahead)break}H=0;3<=z.lookahead&&(z.ins_h=
(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,H=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);0!==H&&z.strstart-H<=z.w_size-262&&(z.match_length=x(z,H));if(3<=z.match_length)if(H=A._tr_tally(z,z.strstart-z.match_start,z.match_length-3),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&3<=z.lookahead){z.match_length--;do z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],
z.head[z.ins_h]=z.strstart;while(0!==--z.match_length);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else H=A._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=2>z.strstart?z.strstart:2;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function r(z,G){for(var H,J;;){if(262>z.lookahead){a(z);
if(262>z.lookahead&&0===G)return 1;if(0===z.lookahead)break}H=0;3<=z.lookahead&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,H=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);z.prev_length=z.match_length;z.prev_match=z.match_start;z.match_length=2;0!==H&&z.prev_length<z.max_lazy_match&&z.strstart-H<=z.w_size-262&&(z.match_length=x(z,H),5>=z.match_length&&(1===z.strategy||3===z.match_length&&4096<z.strstart-z.match_start)&&(z.match_length=2));if(3<=
z.prev_length&&z.match_length<=z.prev_length){J=z.strstart+z.lookahead-3;H=A._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-3);z.lookahead-=z.prev_length-1;z.prev_length-=2;do++z.strstart<=J&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+3-1])&z.hash_mask,z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart);while(0!==--z.prev_length);z.match_available=0;z.match_length=2;z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}else if(z.match_available){if((H=A._tr_tally(z,
0,z.window[z.strstart-1]))&&E(z,!1),z.strstart++,z.lookahead--,0===z.strm.avail_out)return 1}else z.match_available=1,z.strstart++,z.lookahead--}z.match_available&&(A._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0);z.insert=2>z.strstart?z.strstart:2;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function t(z,G){for(var H,J,N,S=z.window;;){if(258>=z.lookahead){a(z);if(258>=z.lookahead&&0===G)return 1;if(0===z.lookahead)break}z.match_length=
0;if(3<=z.lookahead&&0<z.strstart&&(J=z.strstart-1,H=S[J],H===S[++J]&&H===S[++J]&&H===S[++J])){for(N=z.strstart+258;H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&H===S[++J]&&J<N;);z.match_length=258-(N-J);z.match_length>z.lookahead&&(z.match_length=z.lookahead)}3<=z.match_length?(H=A._tr_tally(z,1,z.match_length-3),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(H=A._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++);if(H&&
(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function b(z,G){for(var H;;){if(0===z.lookahead&&(a(z),0===z.lookahead)){if(0===G)return 1;break}z.match_length=0;H=A._tr_tally(z,0,z.window[z.strstart]);z.lookahead--;z.strstart++;if(H&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;return 4===G?(E(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(E(z,!1),0===z.strm.avail_out)?1:2}function e(z,G,H,J,N){this.good_length=
z;this.max_lazy=G;this.nice_length=H;this.max_chain=J;this.func=N}function h(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=
this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new u.Buf16(1146);this.dyn_dtree=new u.Buf16(122);this.bl_tree=new u.Buf16(78);l(this.dyn_ltree);l(this.dyn_dtree);l(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new u.Buf16(16);this.heap=new u.Buf16(573);l(this.heap);this.heap_max=this.heap_len=0;this.depth=new u.Buf16(573);l(this.depth);this.bi_valid=
this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function n(z){if(!z||!z.state)return y(z,-2);z.total_in=z.total_out=0;z.data_type=2;var G=z.state;G.pending=0;G.pending_out=0;0>G.wrap&&(G.wrap=-G.wrap);G.status=G.wrap?42:113;z.adler=2===G.wrap?0:1;G.last_flush=0;A._tr_init(G);return 0}function g(z){var G=n(z);0===G&&(z=z.state,z.window_size=2*z.w_size,l(z.head),z.max_lazy_match=O[z.level].max_lazy,z.good_match=O[z.level].good_length,
z.nice_match=O[z.level].nice_length,z.max_chain_length=O[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0);return G}function p(z,G,H,J,N,S){if(!z)return-2;var ia=1;-1===G&&(G=6);0>J?(ia=0,J=-J):15<J&&(ia=2,J-=16);if(1>N||9<N||8!==H||8>J||15<J||0>G||9<G||0>S||4<S)return y(z,-2);8===J&&(J=9);var da=new h;z.state=da;da.strm=z;da.wrap=ia;da.gzhead=null;da.w_bits=J;da.w_size=1<<da.w_bits;da.w_mask=da.w_size-1;da.hash_bits=
N+7;da.hash_size=1<<da.hash_bits;da.hash_mask=da.hash_size-1;da.hash_shift=~~((da.hash_bits+3-1)/3);da.window=new u.Buf8(2*da.w_size);da.head=new u.Buf16(da.hash_size);da.prev=new u.Buf16(da.w_size);da.lit_bufsize=1<<N+6;da.pending_buf_size=4*da.lit_bufsize;da.pending_buf=new u.Buf8(da.pending_buf_size);da.d_buf=1*da.lit_bufsize;da.l_buf=3*da.lit_bufsize;da.level=G;da.strategy=S;da.method=H;return g(z)}var u=k("../utils/common"),A=k("./trees"),F=k("./adler32"),w=k("./crc32"),I=k("./messages");var O=
[new e(0,0,0,0,function(z,G){var H=65535;for(H>z.pending_buf_size-5&&(H=z.pending_buf_size-5);;){if(1>=z.lookahead){a(z);if(0===z.lookahead&&0===G)return 1;if(0===z.lookahead)break}z.strstart+=z.lookahead;z.lookahead=0;var J=z.block_start+H;if(0===z.strstart||z.strstart>=J)if(z.lookahead=z.strstart-J,z.strstart=J,E(z,!1),0===z.strm.avail_out)return 1;if(z.strstart-z.block_start>=z.w_size-262&&(E(z,!1),0===z.strm.avail_out))return 1}z.insert=0;if(4===G)return E(z,!0),0===z.strm.avail_out?3:4;z.strstart>
z.block_start&&E(z,!1);return 1}),new e(4,4,8,4,m),new e(4,5,16,8,m),new e(4,6,32,32,m),new e(4,4,16,16,r),new e(8,16,32,32,r),new e(8,16,128,128,r),new e(8,32,128,256,r),new e(32,128,258,1024,r),new e(32,258,258,4096,r)];C.deflateInit=function(z,G){return p(z,G,8,15,8,0)};C.deflateInit2=p;C.deflateReset=g;C.deflateResetKeep=n;C.deflateSetHeader=function(z,G){if(!z||!z.state||2!==z.state.wrap)return-2;z.state.gzhead=G;return 0};C.deflate=function(z,G){if(!z||!z.state||5<G||0>G)return z?y(z,-2):-2;
var H=z.state;if(!z.output||!z.input&&0!==z.avail_in||666===H.status&&4!==G)return y(z,0===z.avail_out?-5:-2);H.strm=z;var J=H.last_flush;H.last_flush=G;if(42===H.status)if(2===H.wrap)z.adler=0,c(H,31),c(H,139),c(H,8),H.gzhead?(c(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),c(H,H.gzhead.time&255),c(H,H.gzhead.time>>8&255),c(H,H.gzhead.time>>16&255),c(H,H.gzhead.time>>24&255),c(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),c(H,H.gzhead.os&
255),H.gzhead.extra&&H.gzhead.extra.length&&(c(H,H.gzhead.extra.length&255),c(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(z.adler=w(z.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(c(H,0),c(H,0),c(H,0),c(H,0),c(H,0),c(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),c(H,3),H.status=113);else{var N=8+(H.w_bits-8<<4)<<8;N|=(2<=H.strategy||2>H.level?0:6>H.level?1:6===H.level?2:3)<<6;0!==H.strstart&&(N|=32);H.status=113;f(H,N+(31-N%31));0!==H.strstart&&(f(H,z.adler>>>16),f(H,z.adler&65535));
z.adler=1}if(69===H.status)if(H.gzhead.extra){for(N=H.pending;H.gzindex<(H.gzhead.extra.length&65535)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>N&&(z.adler=w(z.adler,H.pending_buf,H.pending-N,N)),v(z),N=H.pending,H.pending!==H.pending_buf_size));)c(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++;H.gzhead.hcrc&&H.pending>N&&(z.adler=w(z.adler,H.pending_buf,H.pending-N,N));H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(73===H.status)if(H.gzhead.name){N=
H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>N&&(z.adler=w(z.adler,H.pending_buf,H.pending-N,N)),v(z),N=H.pending,H.pending===H.pending_buf_size)){var S=1;break}S=H.gzindex<H.gzhead.name.length?H.gzhead.name.charCodeAt(H.gzindex++)&255:0;c(H,S)}while(0!==S);H.gzhead.hcrc&&H.pending>N&&(z.adler=w(z.adler,H.pending_buf,H.pending-N,N));0===S&&(H.gzindex=0,H.status=91)}else H.status=91;if(91===H.status)if(H.gzhead.comment){N=H.pending;do{if(H.pending===H.pending_buf_size&&
(H.gzhead.hcrc&&H.pending>N&&(z.adler=w(z.adler,H.pending_buf,H.pending-N,N)),v(z),N=H.pending,H.pending===H.pending_buf_size)){S=1;break}S=H.gzindex<H.gzhead.comment.length?H.gzhead.comment.charCodeAt(H.gzindex++)&255:0;c(H,S)}while(0!==S);H.gzhead.hcrc&&H.pending>N&&(z.adler=w(z.adler,H.pending_buf,H.pending-N,N));0===S&&(H.status=103)}else H.status=103;103===H.status&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&v(z),H.pending+2<=H.pending_buf_size&&(c(H,z.adler&255),c(H,z.adler>>8&255),z.adler=
0,H.status=113)):H.status=113);if(0!==H.pending){if(v(z),0===z.avail_out)return H.last_flush=-1,0}else if(0===z.avail_in&&(G<<1)-(4<G?9:0)<=(J<<1)-(4<J?9:0)&&4!==G)return y(z,-5);if(666===H.status&&0!==z.avail_in)return y(z,-5);if(0!==z.avail_in||0!==H.lookahead||0!==G&&666!==H.status){J=2===H.strategy?b(H,G):3===H.strategy?t(H,G):O[H.level].func(H,G);if(3===J||4===J)H.status=666;if(1===J||3===J)return 0===z.avail_out&&(H.last_flush=-1),0;if(2===J&&(1===G?A._tr_align(H):5!==G&&(A._tr_stored_block(H,
0,0,!1),3===G&&(l(H.head),0===H.lookahead&&(H.strstart=0,H.block_start=0,H.insert=0))),v(z),0===z.avail_out))return H.last_flush=-1,0}if(4!==G)return 0;if(0>=H.wrap)return 1;2===H.wrap?(c(H,z.adler&255),c(H,z.adler>>8&255),c(H,z.adler>>16&255),c(H,z.adler>>24&255),c(H,z.total_in&255),c(H,z.total_in>>8&255),c(H,z.total_in>>16&255),c(H,z.total_in>>24&255)):(f(H,z.adler>>>16),f(H,z.adler&65535));v(z);0<H.wrap&&(H.wrap=-H.wrap);return 0!==H.pending?0:1};C.deflateEnd=function(z){if(!z||!z.state)return-2;
var G=z.state.status;if(42!==G&&69!==G&&73!==G&&91!==G&&103!==G&&113!==G&&666!==G)return y(z,-2);z.state=null;return 113===G?y(z,-3):0};C.deflateSetDictionary=function(z,G){var H=G.length;if(!z||!z.state)return-2;var J=z.state;var N=J.wrap;if(2===N||1===N&&42!==J.status||J.lookahead)return-2;1===N&&(z.adler=F(z.adler,G,H,0));J.wrap=0;if(H>=J.w_size){0===N&&(l(J.head),J.strstart=0,J.block_start=0,J.insert=0);var S=new u.Buf8(J.w_size);u.arraySet(S,G,H-J.w_size,J.w_size,0);G=S;H=J.w_size}S=z.avail_in;
var ia=z.next_in;var da=z.input;z.avail_in=H;z.next_in=0;z.input=G;for(a(J);3<=J.lookahead;){G=J.strstart;H=J.lookahead-2;do J.ins_h=(J.ins_h<<J.hash_shift^J.window[G+3-1])&J.hash_mask,J.prev[G&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=G,G++;while(--H);J.strstart=G;J.lookahead=2;a(J)}J.strstart+=J.lookahead;J.block_start=J.strstart;J.insert=J.lookahead;J.lookahead=0;J.match_length=J.prev_length=2;J.match_available=0;z.next_in=ia;z.input=da;z.avail_in=S;J.wrap=N;return 0};C.deflateInfo="pako deflate (from Nodeca project)"},
{"../utils/common":301,"./adler32":303,"./crc32":305,"./messages":311,"./trees":312}],307:[function(k,L,C){L.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],308:[function(k,L,C){L.exports=function(y,l){var v=y.state;var E=y.next_in;var c=y.input;var f=E+(y.avail_in-5);var x=y.next_out;var a=y.output;l=x-(l-y.avail_out);var m=x+(y.avail_out-257);var r=v.dmax;var t=v.wsize;var b=v.whave;var e=v.wnext;
var h=v.window;var n=v.hold;var g=v.bits;var p=v.lencode;var u=v.distcode;var A=(1<<v.lenbits)-1;var F=(1<<v.distbits)-1;a:do{15>g&&(n+=c[E++]<<g,g+=8,n+=c[E++]<<g,g+=8);var w=p[n&A];b:for(;;){var I=w>>>24;n>>>=I;g-=I;I=w>>>16&255;if(0===I)a[x++]=w&65535;else if(I&16){var O=w&65535;if(I&=15)g<I&&(n+=c[E++]<<g,g+=8),O+=n&(1<<I)-1,n>>>=I,g-=I;15>g&&(n+=c[E++]<<g,g+=8,n+=c[E++]<<g,g+=8);w=u[n&F];c:for(;;){I=w>>>24;n>>>=I;g-=I;I=w>>>16&255;if(I&16){w&=65535;I&=15;g<I&&(n+=c[E++]<<g,g+=8,g<I&&(n+=c[E++]<<
g,g+=8));w+=n&(1<<I)-1;if(w>r){y.msg="invalid distance too far back";v.mode=30;break a}n>>>=I;g-=I;I=x-l;if(w>I){I=w-I;if(I>b&&v.sane){y.msg="invalid distance too far back";v.mode=30;break a}var z=0;var G=h;if(0===e){if(z+=t-I,I<O){O-=I;do a[x++]=h[z++];while(--I);z=x-w;G=a}}else if(e<I){if(z+=t+e-I,I-=e,I<O){O-=I;do a[x++]=h[z++];while(--I);z=0;if(e<O){I=e;O-=I;do a[x++]=h[z++];while(--I);z=x-w;G=a}}}else if(z+=e-I,I<O){O-=I;do a[x++]=h[z++];while(--I);z=x-w;G=a}for(;2<O;)a[x++]=G[z++],a[x++]=G[z++],
a[x++]=G[z++],O-=3;O&&(a[x++]=G[z++],1<O&&(a[x++]=G[z++]))}else{z=x-w;do a[x++]=a[z++],a[x++]=a[z++],a[x++]=a[z++],O-=3;while(2<O);O&&(a[x++]=a[z++],1<O&&(a[x++]=a[z++]))}}else if(0===(I&64)){w=u[(w&65535)+(n&(1<<I)-1)];continue c}else{y.msg="invalid distance code";v.mode=30;break a}break}}else if(0===(I&64)){w=p[(w&65535)+(n&(1<<I)-1)];continue b}else{I&32?v.mode=12:(y.msg="invalid literal/length code",v.mode=30);break a}break}}while(E<f&&x<m);O=g>>3;E-=O;g-=O<<3;y.next_in=E;y.next_out=x;y.avail_in=
E<f?5+(f-E):5-(E-f);y.avail_out=x<m?257+(m-x):257-(x-m);v.hold=n&(1<<g)-1;v.bits=g}},{}],309:[function(k,L,C){function y(g){return(g>>>24&255)+(g>>>8&65280)+((g&65280)<<8)+((g&255)<<24)}function l(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=
this.distbits=this.lenbits=0;this.next=null;this.lens=new a.Buf16(320);this.work=new a.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function v(g){if(!g||!g.state)return-2;var p=g.state;g.total_in=g.total_out=p.total=0;g.msg="";p.wrap&&(g.adler=p.wrap&1);p.mode=1;p.last=0;p.havedict=0;p.dmax=32768;p.head=null;p.hold=0;p.bits=0;p.lencode=p.lendyn=new a.Buf32(852);p.distcode=p.distdyn=new a.Buf32(592);p.sane=1;p.back=-1;return 0}function E(g){if(!g||!g.state)return-2;var p=
g.state;p.wsize=0;p.whave=0;p.wnext=0;return v(g)}function c(g,p){if(!g||!g.state)return-2;var u=g.state;if(0>p){var A=0;p=-p}else A=(p>>4)+1,48>p&&(p&=15);if(p&&(8>p||15<p))return-2;null!==u.window&&u.wbits!==p&&(u.window=null);u.wrap=A;u.wbits=p;return E(g)}function f(g,p){if(!g)return-2;var u=new l;g.state=u;u.window=null;p=c(g,p);0!==p&&(g.state=null);return p}function x(g,p,u,A){var F=g.state;null===F.window&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new a.Buf8(F.wsize));A>=F.wsize?(a.arraySet(F.window,
p,u-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(g=F.wsize-F.wnext,g>A&&(g=A),a.arraySet(F.window,p,u-A,g,F.wnext),(A-=g)?(a.arraySet(F.window,p,u-A,A,0),F.wnext=A,F.whave=F.wsize):(F.wnext+=g,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=g)));return 0}var a=k("../utils/common"),m=k("./adler32"),r=k("./crc32"),t=k("./inffast"),b=k("./inftrees"),e=!0,h,n;C.inflateReset=E;C.inflateReset2=c;C.inflateResetKeep=v;C.inflateInit=function(g){return f(g,15)};C.inflateInit2=f;C.inflate=function(g,
p){var u,A=new a.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&0!==g.avail_in)return-2;var w=g.state;12===w.mode&&(w.mode=13);var I=g.next_out;var O=g.output;var z=g.avail_out;var G=g.next_in;var H=g.input;var J=g.avail_in;var N=w.hold;var S=w.bits;var ia=J;var da=z;var ta=0;a:for(;;)switch(w.mode){case 1:if(0===w.wrap){w.mode=13;break}for(;16>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}if(w.wrap&2&&35615===N){w.check=0;A[0]=N&255;A[1]=N>>>8&255;w.check=
r(w.check,A,2,0);S=N=0;w.mode=2;break}w.flags=0;w.head&&(w.head.done=!1);if(!(w.wrap&1)||(((N&255)<<8)+(N>>8))%31){g.msg="incorrect header check";w.mode=30;break}if(8!==(N&15)){g.msg="unknown compression method";w.mode=30;break}N>>>=4;S-=4;var oa=(N&15)+8;if(0===w.wbits)w.wbits=oa;else if(oa>w.wbits){g.msg="invalid window size";w.mode=30;break}w.dmax=1<<oa;g.adler=w.check=1;w.mode=N&512?10:12;S=N=0;break;case 2:for(;16>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.flags=N;if(8!==(w.flags&255)){g.msg=
"unknown compression method";w.mode=30;break}if(w.flags&57344){g.msg="unknown header flags set";w.mode=30;break}w.head&&(w.head.text=N>>8&1);w.flags&512&&(A[0]=N&255,A[1]=N>>>8&255,w.check=r(w.check,A,2,0));S=N=0;w.mode=3;case 3:for(;32>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.head&&(w.head.time=N);w.flags&512&&(A[0]=N&255,A[1]=N>>>8&255,A[2]=N>>>16&255,A[3]=N>>>24&255,w.check=r(w.check,A,4,0));S=N=0;w.mode=4;case 4:for(;16>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.head&&(w.head.xflags=N&255,
w.head.os=N>>8);w.flags&512&&(A[0]=N&255,A[1]=N>>>8&255,w.check=r(w.check,A,2,0));S=N=0;w.mode=5;case 5:if(w.flags&1024){for(;16>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.length=N;w.head&&(w.head.extra_len=N);w.flags&512&&(A[0]=N&255,A[1]=N>>>8&255,w.check=r(w.check,A,2,0));S=N=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(w.flags&1024){var R=w.length;R>J&&(R=J);R&&(w.head&&(oa=w.head.extra_len-w.length,w.head.extra||(w.head.extra=Array(w.head.extra_len)),a.arraySet(w.head.extra,H,G,R,
oa)),w.flags&512&&(w.check=r(w.check,H,R,G)),J-=R,G+=R,w.length-=R);if(w.length)break a}w.length=0;w.mode=7;case 7:if(w.flags&2048){if(0===J)break a;R=0;do oa=H[G+R++],w.head&&oa&&65536>w.length&&(w.head.name+=String.fromCharCode(oa));while(oa&&R<J);w.flags&512&&(w.check=r(w.check,H,R,G));J-=R;G+=R;if(oa)break a}else w.head&&(w.head.name=null);w.length=0;w.mode=8;case 8:if(w.flags&4096){if(0===J)break a;R=0;do oa=H[G+R++],w.head&&oa&&65536>w.length&&(w.head.comment+=String.fromCharCode(oa));while(oa&&
R<J);w.flags&512&&(w.check=r(w.check,H,R,G));J-=R;G+=R;if(oa)break a}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(w.flags&512){for(;16>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}if(N!==(w.check&65535)){g.msg="header crc mismatch";w.mode=30;break}S=N=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0);g.adler=w.check=0;w.mode=12;break;case 10:for(;32>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}g.adler=w.check=y(N);S=N=0;w.mode=11;case 11:if(0===w.havedict)return g.next_out=I,g.avail_out=z,
g.next_in=G,g.avail_in=J,w.hold=N,w.bits=S,2;g.adler=w.check=1;w.mode=12;case 12:if(5===p||6===p)break a;case 13:if(w.last){N>>>=S&7;S-=S&7;w.mode=27;break}for(;3>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.last=N&1;N>>>=1;--S;switch(N&3){case 0:w.mode=14;break;case 1:oa=w;if(e){h=new a.Buf32(512);n=new a.Buf32(32);for(R=0;144>R;)oa.lens[R++]=8;for(;256>R;)oa.lens[R++]=9;for(;280>R;)oa.lens[R++]=7;for(;288>R;)oa.lens[R++]=8;b(1,oa.lens,0,288,h,0,oa.work,{bits:9});for(R=0;32>R;)oa.lens[R++]=5;b(2,
oa.lens,0,32,n,0,oa.work,{bits:5});e=!1}oa.lencode=h;oa.lenbits=9;oa.distcode=n;oa.distbits=5;w.mode=20;if(6===p){N>>>=2;S-=2;break a}break;case 2:w.mode=17;break;case 3:g.msg="invalid block type",w.mode=30}N>>>=2;S-=2;break;case 14:N>>>=S&7;for(S-=S&7;32>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}if((N&65535)!==(N>>>16^65535)){g.msg="invalid stored block lengths";w.mode=30;break}w.length=N&65535;S=N=0;w.mode=15;if(6===p)break a;case 15:w.mode=16;case 16:if(R=w.length){R>J&&(R=J);R>z&&(R=z);if(0===
R)break a;a.arraySet(O,H,G,R,I);J-=R;G+=R;z-=R;I+=R;w.length-=R;break}w.mode=12;break;case 17:for(;14>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.nlen=(N&31)+257;N>>>=5;S-=5;w.ndist=(N&31)+1;N>>>=5;S-=5;w.ncode=(N&15)+4;N>>>=4;S-=4;if(286<w.nlen||30<w.ndist){g.msg="too many length or distance symbols";w.mode=30;break}w.have=0;w.mode=18;case 18:for(;w.have<w.ncode;){for(;3>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.lens[F[w.have++]]=N&7;N>>>=3;S-=3}for(;19>w.have;)w.lens[F[w.have++]]=0;w.lencode=
w.lendyn;w.lenbits=7;R={bits:w.lenbits};ta=b(0,w.lens,0,19,w.lencode,0,w.work,R);w.lenbits=R.bits;if(ta){g.msg="invalid code lengths set";w.mode=30;break}w.have=0;w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;;){var pa=w.lencode[N&(1<<w.lenbits)-1];R=pa>>>24;pa&=65535;if(R<=S)break;if(0===J)break a;J--;N+=H[G++]<<S;S+=8}if(16>pa)N>>>=R,S-=R,w.lens[w.have++]=pa;else{if(16===pa){for(oa=R+2;S<oa;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}N>>>=R;S-=R;if(0===w.have){g.msg="invalid bit length repeat";
w.mode=30;break}oa=w.lens[w.have-1];R=3+(N&3);N>>>=2;S-=2}else if(17===pa){for(oa=R+3;S<oa;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}N>>>=R;S-=R;oa=0;R=3+(N&7);N>>>=3;S-=3}else{for(oa=R+7;S<oa;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}N>>>=R;S-=R;oa=0;R=11+(N&127);N>>>=7;S-=7}if(w.have+R>w.nlen+w.ndist){g.msg="invalid bit length repeat";w.mode=30;break}for(;R--;)w.lens[w.have++]=oa}}if(30===w.mode)break;if(0===w.lens[256]){g.msg="invalid code -- missing end-of-block";w.mode=30;break}w.lenbits=9;R={bits:w.lenbits};
ta=b(1,w.lens,0,w.nlen,w.lencode,0,w.work,R);w.lenbits=R.bits;if(ta){g.msg="invalid literal/lengths set";w.mode=30;break}w.distbits=6;w.distcode=w.distdyn;R={bits:w.distbits};ta=b(2,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,R);w.distbits=R.bits;if(ta){g.msg="invalid distances set";w.mode=30;break}w.mode=20;if(6===p)break a;case 20:w.mode=21;case 21:if(6<=J&&258<=z){g.next_out=I;g.avail_out=z;g.next_in=G;g.avail_in=J;w.hold=N;w.bits=S;t(g,da);I=g.next_out;O=g.output;z=g.avail_out;G=g.next_in;H=g.input;
J=g.avail_in;N=w.hold;S=w.bits;12===w.mode&&(w.back=-1);break}for(w.back=0;;){pa=w.lencode[N&(1<<w.lenbits)-1];R=pa>>>24;oa=pa>>>16&255;pa&=65535;if(R<=S)break;if(0===J)break a;J--;N+=H[G++]<<S;S+=8}if(oa&&0===(oa&240)){var ja=R;var za=oa;for(u=pa;;){pa=w.lencode[u+((N&(1<<ja+za)-1)>>ja)];R=pa>>>24;oa=pa>>>16&255;pa&=65535;if(ja+R<=S)break;if(0===J)break a;J--;N+=H[G++]<<S;S+=8}N>>>=ja;S-=ja;w.back+=ja}N>>>=R;S-=R;w.back+=R;w.length=pa;if(0===oa){w.mode=26;break}if(oa&32){w.back=-1;w.mode=12;break}if(oa&
64){g.msg="invalid literal/length code";w.mode=30;break}w.extra=oa&15;w.mode=22;case 22:if(w.extra){for(oa=w.extra;S<oa;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.length+=N&(1<<w.extra)-1;N>>>=w.extra;S-=w.extra;w.back+=w.extra}w.was=w.length;w.mode=23;case 23:for(;;){pa=w.distcode[N&(1<<w.distbits)-1];R=pa>>>24;oa=pa>>>16&255;pa&=65535;if(R<=S)break;if(0===J)break a;J--;N+=H[G++]<<S;S+=8}if(0===(oa&240)){ja=R;za=oa;for(u=pa;;){pa=w.distcode[u+((N&(1<<ja+za)-1)>>ja)];R=pa>>>24;oa=pa>>>16&255;pa&=
65535;if(ja+R<=S)break;if(0===J)break a;J--;N+=H[G++]<<S;S+=8}N>>>=ja;S-=ja;w.back+=ja}N>>>=R;S-=R;w.back+=R;if(oa&64){g.msg="invalid distance code";w.mode=30;break}w.offset=pa;w.extra=oa&15;w.mode=24;case 24:if(w.extra){for(oa=w.extra;S<oa;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}w.offset+=N&(1<<w.extra)-1;N>>>=w.extra;S-=w.extra;w.back+=w.extra}if(w.offset>w.dmax){g.msg="invalid distance too far back";w.mode=30;break}w.mode=25;case 25:if(0===z)break a;R=da-z;if(w.offset>R){R=w.offset-R;if(R>w.whave&&
w.sane){g.msg="invalid distance too far back";w.mode=30;break}R>w.wnext?(R-=w.wnext,oa=w.wsize-R):oa=w.wnext-R;R>w.length&&(R=w.length);ja=w.window}else ja=O,oa=I-w.offset,R=w.length;R>z&&(R=z);z-=R;w.length-=R;do O[I++]=ja[oa++];while(--R);0===w.length&&(w.mode=21);break;case 26:if(0===z)break a;O[I++]=w.length;z--;w.mode=21;break;case 27:if(w.wrap){for(;32>S;){if(0===J)break a;J--;N|=H[G++]<<S;S+=8}da-=z;g.total_out+=da;w.total+=da;da&&(g.adler=w.check=w.flags?r(w.check,O,da,I-da):m(w.check,O,da,
I-da));da=z;if((w.flags?N:y(N))!==w.check){g.msg="incorrect data check";w.mode=30;break}S=N=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;32>S;){if(0===J)break a;J--;N+=H[G++]<<S;S+=8}if(N!==(w.total&4294967295)){g.msg="incorrect length check";w.mode=30;break}S=N=0}w.mode=29;case 29:ta=1;break a;case 30:ta=-3;break a;case 31:return-4;default:return-2}g.next_out=I;g.avail_out=z;g.next_in=G;g.avail_in=J;w.hold=N;w.bits=S;if((w.wsize||da!==g.avail_out&&30>w.mode&&(27>w.mode||4!==p))&&x(g,g.output,g.next_out,
da-g.avail_out))return w.mode=31,-4;ia-=g.avail_in;da-=g.avail_out;g.total_in+=ia;g.total_out+=da;w.total+=da;w.wrap&&da&&(g.adler=w.check=w.flags?r(w.check,O,da,g.next_out-da):m(w.check,O,da,g.next_out-da));g.data_type=w.bits+(w.last?64:0)+(12===w.mode?128:0)+(20===w.mode||15===w.mode?256:0);(0===ia&&0===da||4===p)&&0===ta&&(ta=-5);return ta};C.inflateEnd=function(g){if(!g||!g.state)return-2;var p=g.state;p.window&&(p.window=null);g.state=null;return 0};C.inflateGetHeader=function(g,p){if(!g||!g.state)return-2;
g=g.state;if(0===(g.wrap&2))return-2;g.head=p;p.done=!1;return 0};C.inflateSetDictionary=function(g,p){var u=p.length;if(!g||!g.state)return-2;var A=g.state;if(0!==A.wrap&&11!==A.mode)return-2;if(11===A.mode){var F=m(1,p,u,0);if(F!==A.check)return-3}if(x(g,p,u,u))return A.mode=31,-4;A.havedict=1;return 0};C.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":301,"./adler32":303,"./crc32":305,"./inffast":308,"./inftrees":310}],310:[function(k,L,C){var y=k("../utils/common"),l=[3,4,
5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];L.exports=function(f,x,a,m,r,t,b,e){var h=e.bits,n,g,p,u,A,F,w=0,I=new y.Buf16(16);var O=new y.Buf16(16);
var z,G=0;for(n=0;15>=n;n++)I[n]=0;for(g=0;g<m;g++)I[x[a+g]]++;var H=h;for(p=15;1<=p&&0===I[p];p--);H>p&&(H=p);if(0===p)return r[t++]=20971520,r[t++]=20971520,e.bits=1,0;for(h=1;h<p&&0===I[h];h++);H<h&&(H=h);for(n=u=1;15>=n;n++)if(u<<=1,u-=I[n],0>u)return-1;if(0<u&&(0===f||1!==p))return-1;O[1]=0;for(n=1;15>n;n++)O[n+1]=O[n]+I[n];for(g=0;g<m;g++)0!==x[a+g]&&(b[O[x[a+g]]++]=g);if(0===f){var J=z=b;var N=19}else 1===f?(J=l,w-=257,z=v,G-=257,N=256):(J=E,z=c,N=-1);g=A=0;n=h;var S=t;m=H;O=0;var ia=-1;var da=
1<<H;var ta=da-1;if(1===f&&852<da||2===f&&592<da)return 1;for(;;){var oa=n-O;if(b[g]<N){var R=0;var pa=b[g]}else b[g]>N?(R=z[G+b[g]],pa=J[w+b[g]]):(R=96,pa=0);u=1<<n-O;h=F=1<<m;do F-=u,r[S+(A>>O)+F]=oa<<24|R<<16|pa|0;while(0!==F);for(u=1<<n-1;A&u;)u>>=1;0!==u?(A&=u-1,A+=u):A=0;g++;if(0===--I[n]){if(n===p)break;n=x[a+b[g]]}if(n>H&&(A&ta)!==ia){0===O&&(O=H);S+=h;m=n-O;for(u=1<<m;m+O<p;){u-=I[m+O];if(0>=u)break;m++;u<<=1}da+=1<<m;if(1===f&&852<da||2===f&&592<da)return 1;ia=A&ta;r[ia]=H<<24|m<<16|S-t|
0}}0!==A&&(r[S+A]=n-O<<24|4194304);e.bits=H;return 0}},{"../utils/common":301}],311:[function(k,L,C){L.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],312:[function(k,L,C){function y(R){for(var pa=R.length;0<=--pa;)R[pa]=0}function l(R,pa,ja,za,ua){this.static_tree=R;this.extra_bits=pa;this.extra_base=ja;this.elems=za;this.max_length=ua;this.has_stree=R&&R.length}
function v(R,pa){this.dyn_tree=R;this.max_code=0;this.stat_desc=pa}function E(R,pa){R.pending_buf[R.pending++]=pa&255;R.pending_buf[R.pending++]=pa>>>8&255}function c(R,pa,ja){R.bi_valid>16-ja?(R.bi_buf|=pa<<R.bi_valid&65535,E(R,R.bi_buf),R.bi_buf=pa>>16-R.bi_valid,R.bi_valid+=ja-16):(R.bi_buf|=pa<<R.bi_valid&65535,R.bi_valid+=ja)}function f(R,pa,ja){c(R,ja[2*pa],ja[2*pa+1])}function x(R,pa){var ja=0;do ja|=R&1,R>>>=1,ja<<=1;while(0<--pa);return ja>>>1}function a(R,pa,ja){var za=Array(16),ua=0,Ha;
for(Ha=1;15>=Ha;Ha++)za[Ha]=ua=ua+ja[Ha-1]<<1;for(ja=0;ja<=pa;ja++)ua=R[2*ja+1],0!==ua&&(R[2*ja]=x(za[ua]++,ua))}function m(R){var pa;for(pa=0;286>pa;pa++)R.dyn_ltree[2*pa]=0;for(pa=0;30>pa;pa++)R.dyn_dtree[2*pa]=0;for(pa=0;19>pa;pa++)R.bl_tree[2*pa]=0;R.dyn_ltree[512]=1;R.opt_len=R.static_len=0;R.last_lit=R.matches=0}function r(R){8<R.bi_valid?E(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf);R.bi_buf=0;R.bi_valid=0}function t(R,pa,ja,za){var ua=2*pa,Ha=2*ja;return R[ua]<R[Ha]||R[ua]===
R[Ha]&&za[pa]<=za[ja]}function b(R,pa,ja){for(var za=R.heap[ja],ua=ja<<1;ua<=R.heap_len;){ua<R.heap_len&&t(pa,R.heap[ua+1],R.heap[ua],R.depth)&&ua++;if(t(pa,za,R.heap[ua],R.depth))break;R.heap[ja]=R.heap[ua];ja=ua;ua<<=1}R.heap[ja]=za}function e(R,pa,ja){var za=0;if(0!==R.last_lit){do{var ua=R.pending_buf[R.d_buf+2*za]<<8|R.pending_buf[R.d_buf+2*za+1];var Ha=R.pending_buf[R.l_buf+za];za++;if(0===ua)f(R,Ha,pa);else{var ra=J[Ha];f(R,ra+256+1,pa);var Qa=F[ra];0!==Qa&&(Ha-=N[ra],c(R,Ha,Qa));ua--;ra=256>
ua?H[ua]:H[256+(ua>>>7)];f(R,ra,ja);Qa=w[ra];0!==Qa&&(ua-=S[ra],c(R,ua,Qa))}}while(za<R.last_lit)}f(R,256,pa)}function h(R,pa){var ja=pa.dyn_tree,za=pa.stat_desc.static_tree,ua=pa.stat_desc.has_stree,Ha=pa.stat_desc.elems,ra,Qa=-1;R.heap_len=0;R.heap_max=573;for(ra=0;ra<Ha;ra++)0!==ja[2*ra]?(R.heap[++R.heap_len]=Qa=ra,R.depth[ra]=0):ja[2*ra+1]=0;for(;2>R.heap_len;){var ab=R.heap[++R.heap_len]=2>Qa?++Qa:0;ja[2*ab]=1;R.depth[ab]=0;R.opt_len--;ua&&(R.static_len-=za[2*ab+1])}pa.max_code=Qa;for(ra=R.heap_len>>
1;1<=ra;ra--)b(R,ja,ra);ab=Ha;do ra=R.heap[1],R.heap[1]=R.heap[R.heap_len--],b(R,ja,1),za=R.heap[1],R.heap[--R.heap_max]=ra,R.heap[--R.heap_max]=za,ja[2*ab]=ja[2*ra]+ja[2*za],R.depth[ab]=(R.depth[ra]>=R.depth[za]?R.depth[ra]:R.depth[za])+1,ja[2*ra+1]=ja[2*za+1]=ab,R.heap[1]=ab++,b(R,ja,1);while(2<=R.heap_len);R.heap[--R.heap_max]=R.heap[1];ra=pa.dyn_tree;ab=pa.max_code;za=pa.stat_desc.static_tree;ua=pa.stat_desc.has_stree;Ha=pa.stat_desc.extra_bits;var gb=pa.stat_desc.extra_base,T=pa.stat_desc.max_length,
ea,ya=0;for(ea=0;15>=ea;ea++)R.bl_count[ea]=0;ra[2*R.heap[R.heap_max]+1]=0;for(pa=R.heap_max+1;573>pa;pa++){var Ia=R.heap[pa];ea=ra[2*ra[2*Ia+1]+1]+1;ea>T&&(ea=T,ya++);ra[2*Ia+1]=ea;if(!(Ia>ab)){R.bl_count[ea]++;var Ya=0;Ia>=gb&&(Ya=Ha[Ia-gb]);var sb=ra[2*Ia];R.opt_len+=sb*(ea+Ya);ua&&(R.static_len+=sb*(za[2*Ia+1]+Ya))}}if(0!==ya){do{for(ea=T-1;0===R.bl_count[ea];)ea--;R.bl_count[ea]--;R.bl_count[ea+1]+=2;R.bl_count[T]--;ya-=2}while(0<ya);for(ea=T;0!==ea;ea--)for(Ia=R.bl_count[ea];0!==Ia;)za=R.heap[--pa],
za>ab||(ra[2*za+1]!==ea&&(R.opt_len+=(ea-ra[2*za+1])*ra[2*za],ra[2*za+1]=ea),Ia--)}a(ja,Qa,R.bl_count)}function n(R,pa,ja){var za,ua=-1,Ha=pa[1],ra=0,Qa=7,ab=4;0===Ha&&(Qa=138,ab=3);pa[2*(ja+1)+1]=65535;for(za=0;za<=ja;za++){var gb=Ha;Ha=pa[2*(za+1)+1];++ra<Qa&&gb===Ha||(ra<ab?R.bl_tree[2*gb]+=ra:0!==gb?(gb!==ua&&R.bl_tree[2*gb]++,R.bl_tree[32]++):10>=ra?R.bl_tree[34]++:R.bl_tree[36]++,ra=0,ua=gb,0===Ha?(Qa=138,ab=3):gb===Ha?(Qa=6,ab=3):(Qa=7,ab=4))}}function g(R,pa,ja){var za,ua=-1,Ha=pa[1],ra=0,
Qa=7,ab=4;0===Ha&&(Qa=138,ab=3);for(za=0;za<=ja;za++){var gb=Ha;Ha=pa[2*(za+1)+1];if(!(++ra<Qa&&gb===Ha)){if(ra<ab){do f(R,gb,R.bl_tree);while(0!==--ra)}else 0!==gb?(gb!==ua&&(f(R,gb,R.bl_tree),ra--),f(R,16,R.bl_tree),c(R,ra-3,2)):10>=ra?(f(R,17,R.bl_tree),c(R,ra-3,3)):(f(R,18,R.bl_tree),c(R,ra-11,7));ra=0;ua=gb;0===Ha?(Qa=138,ab=3):gb===Ha?(Qa=6,ab=3):(Qa=7,ab=4)}}}function p(R){var pa=4093624447,ja;for(ja=0;31>=ja;ja++,pa>>>=1)if(pa&1&&0!==R.dyn_ltree[2*ja])return 0;if(0!==R.dyn_ltree[18]||0!==
R.dyn_ltree[20]||0!==R.dyn_ltree[26])return 1;for(ja=32;256>ja;ja++)if(0!==R.dyn_ltree[2*ja])return 1;return 0}function u(R,pa,ja,za){c(R,za?1:0,3);r(R);E(R,ja);E(R,~ja);A.arraySet(R.pending_buf,R.window,pa,ja,R.pending);R.pending+=ja}var A=k("../utils/common"),F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=Array(576);
y(z);var G=Array(60);y(G);var H=Array(512);y(H);var J=Array(256);y(J);var N=Array(29);y(N);var S=Array(30);y(S);var ia,da,ta,oa=!1;C._tr_init=function(R){if(!oa){var pa,ja,za,ua=Array(16);for(za=ja=0;28>za;za++)for(N[za]=ja,pa=0;pa<1<<F[za];pa++)J[ja++]=za;J[ja-1]=za;for(za=ja=0;16>za;za++)for(S[za]=ja,pa=0;pa<1<<w[za];pa++)H[ja++]=za;for(ja>>=7;30>za;za++)for(S[za]=ja<<7,pa=0;pa<1<<w[za]-7;pa++)H[256+ja++]=za;for(pa=0;15>=pa;pa++)ua[pa]=0;for(pa=0;143>=pa;)z[2*pa+1]=8,pa++,ua[8]++;for(;255>=pa;)z[2*
pa+1]=9,pa++,ua[9]++;for(;279>=pa;)z[2*pa+1]=7,pa++,ua[7]++;for(;287>=pa;)z[2*pa+1]=8,pa++,ua[8]++;a(z,287,ua);for(pa=0;30>pa;pa++)G[2*pa+1]=5,G[2*pa]=x(pa,5);ia=new l(z,F,257,286,15);da=new l(G,w,0,30,15);ta=new l([],I,0,19,7);oa=!0}R.l_desc=new v(R.dyn_ltree,ia);R.d_desc=new v(R.dyn_dtree,da);R.bl_desc=new v(R.bl_tree,ta);R.bi_buf=0;R.bi_valid=0;m(R)};C._tr_stored_block=u;C._tr_flush_block=function(R,pa,ja,za){var ua=0;if(0<R.level){2===R.strm.data_type&&(R.strm.data_type=p(R));h(R,R.l_desc);h(R,
R.d_desc);n(R,R.dyn_ltree,R.l_desc.max_code);n(R,R.dyn_dtree,R.d_desc.max_code);h(R,R.bl_desc);for(ua=18;3<=ua&&0===R.bl_tree[2*O[ua]+1];ua--);R.opt_len+=3*(ua+1)+14;var Ha=R.opt_len+3+7>>>3;var ra=R.static_len+3+7>>>3;ra<=Ha&&(Ha=ra)}else Ha=ra=ja+5;if(ja+4<=Ha&&-1!==pa)u(R,pa,ja,za);else if(4===R.strategy||ra===Ha)c(R,2+(za?1:0),3),e(R,z,G);else{c(R,4+(za?1:0),3);pa=R.l_desc.max_code+1;ja=R.d_desc.max_code+1;ua+=1;c(R,pa-257,5);c(R,ja-1,5);c(R,ua-4,4);for(Ha=0;Ha<ua;Ha++)c(R,R.bl_tree[2*O[Ha]+1],
3);g(R,R.dyn_ltree,pa-1);g(R,R.dyn_dtree,ja-1);e(R,R.dyn_ltree,R.dyn_dtree)}m(R);za&&r(R)};C._tr_tally=function(R,pa,ja){R.pending_buf[R.d_buf+2*R.last_lit]=pa>>>8&255;R.pending_buf[R.d_buf+2*R.last_lit+1]=pa&255;R.pending_buf[R.l_buf+R.last_lit]=ja&255;R.last_lit++;0===pa?R.dyn_ltree[2*ja]++:(R.matches++,pa--,R.dyn_ltree[2*(J[ja]+256+1)]++,R.dyn_dtree[2*(256>pa?H[pa]:H[256+(pa>>>7)])]++);return R.last_lit===R.lit_bufsize-1};C._tr_align=function(R){c(R,2,3);f(R,256,z);16===R.bi_valid?(E(R,R.bi_buf),
R.bi_buf=0,R.bi_valid=0):8<=R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf&255,R.bi_buf>>=8,R.bi_valid-=8)}},{"../utils/common":301}],313:[function(k,L,C){L.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],314:[function(k,L,C){(function(y,l){"object"===typeof C&&"undefined"!==typeof L?L.exports=l():y.PointerEventsPolyfill=l()})(this,function(){function y(T,
ea){ea=ea||Object.create(null);var ya=document.createEvent("Event");ya.initEvent(T,ea.bubbles||!1,ea.cancelable||!1);T=2;for(var Ia;T<m.length;T++)Ia=m[T],ya[Ia]=ea[Ia]||r[T];ya.buttons=ea.buttons||0;T=ea.pressure&&ya.buttons?ea.pressure:ya.buttons?.5:0;ya.x=ya.clientX;ya.y=ya.clientY;ya.pointerId=ea.pointerId||0;ya.width=ea.width||0;ya.height=ea.height||0;ya.pressure=T;ya.tiltX=ea.tiltX||0;ya.tiltY=ea.tiltY||0;ya.twist=ea.twist||0;ya.tangentialPressure=ea.tangentialPressure||0;ya.pointerType=ea.pointerType||
"";ya.hwTimestamp=ea.hwTimestamp||0;ya.isPrimary=ea.isPrimary||!1;return ya}function l(){this.array=[];this.size=0}function v(T,ea,ya,Ia){this.addCallback=T.bind(Ia);this.removeCallback=ea.bind(Ia);this.changedCallback=ya.bind(Ia);I&&(this.observer=new I(this.mutationWatcher.bind(this)))}function E(T){return"body /shadow-deep/ "+c(T)}function c(T){return'[touch-action="'+T+'"]'}function f(T){return"{ -ms-touch-action: "+T+"; touch-action: "+T+"; }"}function x(T){if(!g.pointermap.has(T))throw T=Error("InvalidPointerId"),
T.name="InvalidPointerId",T;}function a(T){for(var ea=T.parentNode;ea&&ea!==T.ownerDocument;)ea=ea.parentNode;if(!ea)throw T=Error("InvalidStateError"),T.name="InvalidStateError",T;}var m="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),r=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],t=window.Map&&window.Map.prototype.forEach?Map:l;l.prototype={set:function(T,ea){if(void 0===ea)return this.delete(T);this.has(T)||
this.size++;this.array[T]=ea},has:function(T){return void 0!==this.array[T]},delete:function(T){this.has(T)&&(delete this.array[T],this.size--)},get:function(T){return this.array[T]},clear:function(){this.size=this.array.length=0},forEach:function(T,ea){return this.array.forEach(function(ya,Ia){T.call(ea,ya,Ia,this)},this)}};var b="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),
e=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],h={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},n="undefined"!==typeof SVGElementInstance,g={pointermap:new t,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(T,ea){var ya=ea.events;ya&&(ya.forEach(function(Ia){ea[Ia]&&(this.eventMap[Ia]=ea[Ia].bind(ea))},this),this.eventSources[T]=ea,this.eventSourceList.push(ea))},
register:function(T){for(var ea=this.eventSourceList.length,ya=0,Ia;ya<ea&&(Ia=this.eventSourceList[ya]);ya++)Ia.register.call(Ia,T)},unregister:function(T){for(var ea=this.eventSourceList.length,ya=0,Ia;ya<ea&&(Ia=this.eventSourceList[ya]);ya++)Ia.unregister.call(Ia,T)},contains:function(T,ea){try{return T.contains(ea)}catch(ya){return!1}},down:function(T){T.bubbles=!0;this.fireEvent("pointerdown",T)},move:function(T){T.bubbles=!0;this.fireEvent("pointermove",T)},up:function(T){T.bubbles=!0;this.fireEvent("pointerup",
T)},enter:function(T){T.bubbles=!1;this.fireEvent("pointerenter",T)},leave:function(T){T.bubbles=!1;this.fireEvent("pointerleave",T)},over:function(T){T.bubbles=!0;this.fireEvent("pointerover",T)},out:function(T){T.bubbles=!0;this.fireEvent("pointerout",T)},cancel:function(T){T.bubbles=!0;this.fireEvent("pointercancel",T)},leaveOut:function(T){this.out(T);this.propagate(T,this.leave,!1)},enterOver:function(T){this.over(T);this.propagate(T,this.enter,!0)},eventHandler:function(T){if(!T._handledByPE){var ea=
T.type;(ea=this.eventMap&&this.eventMap[ea])&&ea(T);T._handledByPE=!0}},listen:function(T,ea){ea.forEach(function(ya){this.addEvent(T,ya)},this)},unlisten:function(T,ea){ea.forEach(function(ya){this.removeEvent(T,ya)},this)},addEvent:function(T,ea){T.addEventListener(ea,this.boundHandler)},removeEvent:function(T,ea){T.removeEventListener(ea,this.boundHandler)},makeEvent:function(T,ea){this.captureInfo[ea.pointerId]&&(ea.relatedTarget=null);T=new y(T,ea);ea.preventDefault&&(T.preventDefault=ea.preventDefault);
T._target=T._target||ea.target;return T},fireEvent:function(T,ea){T=this.makeEvent(T,ea);return this.dispatchEvent(T)},cloneEvent:function(T){for(var ea=Object.create(null),ya,Ia=0;Ia<b.length;Ia++)ya=b[Ia],ea[ya]=T[ya]||e[Ia],n&&("target"===ya||"relatedTarget"===ya)&&ea[ya]instanceof SVGElementInstance&&(ea[ya]=ea[ya].correspondingUseElement);T.preventDefault&&(ea.preventDefault=function(){T.preventDefault()});return ea},getTarget:function(T){var ea=this.captureInfo[T.pointerId];if(!ea)return T._target;
if(T._target===ea||!(T.type in h))return ea},propagate:function(T,ea,ya){for(var Ia=T.target,Ya=[];Ia!==document&&!Ia.contains(T.relatedTarget);)if(Ya.push(Ia),Ia=Ia.parentNode,!Ia)return;ya&&Ya.reverse();Ya.forEach(function(sb){T.target=sb;ea.call(this,T)},this)},setCapture:function(T,ea,ya){this.captureInfo[T]&&this.releaseCapture(T,ya);this.captureInfo[T]=ea;this.implicitRelease=this.releaseCapture.bind(this,T,ya);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",
this.implicitRelease);var Ia=new y("gotpointercapture");Ia.pointerId=T;Ia._target=ea;ya||this.asyncDispatchEvent(Ia)},releaseCapture:function(T,ea){var ya=this.captureInfo[T];if(ya){this.captureInfo[T]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);var Ia=new y("lostpointercapture");Ia.pointerId=T;Ia._target=ya;ea||this.asyncDispatchEvent(Ia)}},dispatchEvent:function(T){var ea=this.getTarget(T);if(ea)return ea.dispatchEvent(T)},
asyncDispatchEvent:function(T){requestAnimationFrame(this.dispatchEvent.bind(this,T))}};g.boundHandler=g.eventHandler.bind(g);var p={shadow:function(T){if(T)return T.shadowRoot||T.webkitShadowRoot},canTarget:function(T){return T&&!!T.elementFromPoint},targetingShadow:function(T){T=this.shadow(T);if(this.canTarget(T))return T},olderShadow:function(T){var ea=T.olderShadowRoot;!ea&&(T=T.querySelector("shadow"))&&(ea=T.olderShadowRoot);return ea},allShadows:function(T){var ea=[];for(T=this.shadow(T);T;)ea.push(T),
T=this.olderShadow(T);return ea},searchRoot:function(T,ea,ya){if(T){var Ia=T.elementFromPoint(ea,ya),Ya;for(Ya=this.targetingShadow(Ia);Ya;){if(T=Ya.elementFromPoint(ea,ya))return Ia=this.targetingShadow(T),this.searchRoot(Ia,ea,ya)||T;Ya=this.olderShadow(Ya)}return Ia}},owner:function(T){for(;T.parentNode;)T=T.parentNode;T.nodeType!==Node.DOCUMENT_NODE&&T.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(T=document);return T},findTarget:function(T){var ea=T.clientX,ya=T.clientY;T=this.owner(T.target);T.elementFromPoint(ea,
ya)||(T=document);return this.searchRoot(T,ea,ya)}},u=Array.prototype.forEach.call.bind(Array.prototype.forEach),A=Array.prototype.map.call.bind(Array.prototype.map),F=Array.prototype.slice.call.bind(Array.prototype.slice),w=Array.prototype.filter.call.bind(Array.prototype.filter),I=window.MutationObserver||window.WebKitMutationObserver,O={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};v.prototype={watchSubtree:function(T){this.observer&&p.canTarget(T)&&
this.observer.observe(T,O)},enableOnSubtree:function(T){this.watchSubtree(T);T===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(T)},installNewSubtree:function(T){u(this.findElements(T),this.addElement,this)},findElements:function(T){return T.querySelectorAll?T.querySelectorAll("[touch-action]"):[]},removeElement:function(T){this.removeCallback(T)},addElement:function(T){this.addCallback(T)},elementChanged:function(T,ea){this.changedCallback(T,ea)},concatLists:function(T,
ea){return T.concat(F(ea))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(T){return T.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(T){var ea=A(T,this.findElements,this);ea.push(w(T,this.isElement));return ea.reduce(this.concatLists,[])},mutationWatcher:function(T){T.forEach(this.mutationHandler,this)},mutationHandler:function(T){"childList"===T.type?
(this.flattenMutationTree(T.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(T.removedNodes).forEach(this.removeElement,this)):"attributes"===T.type&&this.elementChanged(T.target,T.oldValue)}};var z=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],G="",H=window.PointerEvent||window.MSPointerEvent,J=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,N=g.pointermap,S=[1,4,2,8,16],ia=!1;try{ia=1===(new MouseEvent("test",{buttons:1})).buttons}catch(T){}var da=
{POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(T){g.listen(T,this.events)},unregister:function(T){g.unlisten(T,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(T){var ea=this.lastTouches,ya=T.clientX;T=T.clientY;for(var Ia=0,Ya=ea.length,sb;Ia<Ya&&(sb=ea[Ia]);Ia++){var ub=Math.abs(T-sb.y);if(25>=Math.abs(ya-sb.x)&&25>=ub)return!0}},prepareEvent:function(T){var ea=g.cloneEvent(T),ya=ea.preventDefault;ea.preventDefault=
function(){T.preventDefault();ya()};ea.pointerId=this.POINTER_ID;ea.isPrimary=!0;ea.pointerType=this.POINTER_TYPE;return ea},prepareButtonsForMove:function(T,ea){var ya=N.get(this.POINTER_ID);[0,1,2].includes(ea.button)&&ya?T.buttons=ya.buttons:T.buttons=0;ea.buttons=T.buttons},mousedown:function(T){if(!this.isEventSimulatedFromTouch(T)){var ea=N.get(this.POINTER_ID),ya=this.prepareEvent(T);ia||(ya.buttons=S[ya.button],ea&&(ya.buttons|=ea.buttons),T.buttons=ya.buttons);N.set(this.POINTER_ID,T);ea&&
0!==ea.buttons?g.move(ya):g.down(ya)}},mousemove:function(T){if(!this.isEventSimulatedFromTouch(T)){var ea=this.prepareEvent(T);ia||this.prepareButtonsForMove(ea,T);ea.button=-1;N.set(this.POINTER_ID,T);g.move(ea)}},mouseup:function(T){if(!this.isEventSimulatedFromTouch(T)){var ea=N.get(this.POINTER_ID),ya=this.prepareEvent(T);if(!ia){var Ia=S[ya.button];ya.buttons=ea?ea.buttons&~Ia:0;T.buttons=ya.buttons}N.set(this.POINTER_ID,T);ya.buttons&=~S[ya.button];0===ya.buttons?g.up(ya):g.move(ya)}},mouseover:function(T){if(!this.isEventSimulatedFromTouch(T)){var ea=
this.prepareEvent(T);ia||this.prepareButtonsForMove(ea,T);ea.button=-1;N.set(this.POINTER_ID,T);g.enterOver(ea)}},mouseout:function(T){if(!this.isEventSimulatedFromTouch(T)){var ea=this.prepareEvent(T);ia||this.prepareButtonsForMove(ea,T);ea.button=-1;g.leaveOut(ea)}},cancel:function(T){T=this.prepareEvent(T);g.cancel(T);this.deactivateMouse()},deactivateMouse:function(){N.delete(this.POINTER_ID)}},ta=g.captureInfo,oa=p.findTarget.bind(p),R=p.allShadows.bind(p),pa=g.pointermap,ja={events:["touchstart",
"touchmove","touchend","touchcancel"],register:function(T){za.enableOnSubtree(T)},unregister:function(){},elementAdded:function(T){var ea=T.getAttribute("touch-action"),ya=this.touchActionToScrollType(ea);ya&&(T._scrollType=ya,g.listen(T,this.events),R(T).forEach(function(Ia){Ia._scrollType=ya;g.listen(Ia,this.events)},this))},elementRemoved:function(T){T._scrollType=void 0;g.unlisten(T,this.events);R(T).forEach(function(ea){ea._scrollType=void 0;g.unlisten(ea,this.events)},this)},elementChanged:function(T,
ea){var ya=T.getAttribute("touch-action"),Ia=this.touchActionToScrollType(ya);ea=this.touchActionToScrollType(ea);Ia&&ea?(T._scrollType=Ia,R(T).forEach(function(Ya){Ya._scrollType=Ia},this)):ea?this.elementRemoved(T):Ia&&this.elementAdded(T)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(T){var ea=this.scrollTypes;if("none"===T)return"none";if(T===ea.XSCROLLER)return"X";if(T===ea.YSCROLLER)return"Y";
if(ea.SCROLLER.exec(T))return"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(T){return this.firstTouch===T.identifier},setPrimaryTouch:function(T){if(0===pa.size||1===pa.size&&pa.has(1))this.firstTouch=T.identifier,this.firstXY={X:T.clientX,Y:T.clientY},this.scrolling=!1,this.cancelResetClickCount()},removePrimaryPointer:function(T){T.isPrimary&&(this.firstXY=this.firstTouch=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var T=function(){this.clickCount=
0;this.resetId=null}.bind(this);this.resetId=setTimeout(T,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(T){var ea=0;if("touchstart"===T||"touchmove"===T)ea=1;return ea},touchToPointer:function(T){var ea=this.currentTouchEvent,ya=g.cloneEvent(T),Ia=ya.pointerId=T.identifier+2;ya.target=ta[Ia]||oa(ya);ya.bubbles=!0;ya.cancelable=!0;ya.detail=this.clickCount;ya.button=0;ya.buttons=this.typeToButtons(ea.type);ya.width=2*(T.radiusX||T.webkitRadiusX||
0);ya.height=2*(T.radiusY||T.webkitRadiusY||0);ya.pressure=T.force||T.webkitForce||.5;ya.isPrimary=this.isPrimaryTouch(T);ya.pointerType=this.POINTER_TYPE;ya.altKey=ea.altKey;ya.ctrlKey=ea.ctrlKey;ya.metaKey=ea.metaKey;ya.shiftKey=ea.shiftKey;var Ya=this;ya.preventDefault=function(){Ya.scrolling=!1;Ya.firstXY=null;ea.preventDefault()};return ya},processTouches:function(T,ea){var ya=T.changedTouches;this.currentTouchEvent=T;T=0;for(var Ia;T<ya.length;T++)Ia=ya[T],ea.call(this,this.touchToPointer(Ia))},
shouldScroll:function(T){if(this.firstXY){var ea=T.currentTarget._scrollType;if("none"===ea)ea=!1;else if("XY"===ea)ea=!0;else{T=T.changedTouches[0];var ya="Y"===ea?"X":"Y";ea=Math.abs(T["client"+ea]-this.firstXY[ea])>=Math.abs(T["client"+ya]-this.firstXY[ya])}this.firstXY=null;return ea}},findTouch:function(T,ea){for(var ya=0,Ia=T.length,Ya;ya<Ia&&(Ya=T[ya]);ya++)if(Ya.identifier===ea)return!0},vacuumTouches:function(T){var ea=T.touches;if(pa.size>=ea.length){var ya=[];pa.forEach(function(Ia,Ya){1===
Ya||this.findTouch(ea,Ya-2)||ya.push(Ia.out)},this);ya.forEach(this.cancelOut,this)}},touchstart:function(T){this.vacuumTouches(T);this.setPrimaryTouch(T.changedTouches[0]);this.dedupSynthMouse(T);this.scrolling||(this.clickCount++,this.processTouches(T,this.overDown))},overDown:function(T){pa.set(T.pointerId,{target:T.target,out:T,outTarget:T.target});g.enterOver(T);g.down(T)},touchmove:function(T){this.scrolling||(this.shouldScroll(T)?(this.scrolling=!0,this.touchcancel(T)):(T.preventDefault(),
this.processTouches(T,this.moveOverOut)))},moveOverOut:function(T){var ea=pa.get(T.pointerId);if(ea){var ya=ea.out,Ia=ea.outTarget;g.move(T);ya&&Ia!==T.target&&(ya.relatedTarget=T.target,T.relatedTarget=Ia,ya.target=Ia,T.target?(g.leaveOut(ya),g.enterOver(T)):(T.target=Ia,T.relatedTarget=null,this.cancelOut(T)));ea.out=T;ea.outTarget=T.target}},touchend:function(T){this.dedupSynthMouse(T);this.processTouches(T,this.upOut)},upOut:function(T){this.scrolling||(g.up(T),g.leaveOut(T));this.cleanUpPointer(T)},
touchcancel:function(T){this.processTouches(T,this.cancelOut)},cancelOut:function(T){g.cancel(T);g.leaveOut(T);this.cleanUpPointer(T)},cleanUpPointer:function(T){pa.delete(T.pointerId);this.removePrimaryPointer(T)},dedupSynthMouse:function(T){var ea=da.lastTouches;T=T.changedTouches[0];this.isPrimaryTouch(T)&&(T={x:T.clientX,y:T.clientY},ea.push(T),ea=function(ya,Ia){Ia=ya.indexOf(Ia);-1<Ia&&ya.splice(Ia,1)}.bind(null,ea,T),setTimeout(ea,2500))}};var za=new v(ja.elementAdded,ja.elementRemoved,ja.elementChanged,
ja);var ua=g.pointermap,Ha=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,ra={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),register:function(T){g.listen(T,this.events)},unregister:function(T){g.unlisten(T,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(T){var ea=T;Ha&&(ea=g.cloneEvent(T),ea.pointerType=this.POINTER_TYPES[T.pointerType]);
return ea},cleanup:function(T){ua.delete(T)},MSPointerDown:function(T){ua.set(T.pointerId,T);T=this.prepareEvent(T);g.down(T)},MSPointerMove:function(T){T=this.prepareEvent(T);g.move(T)},MSPointerUp:function(T){var ea=this.prepareEvent(T);g.up(ea);this.cleanup(T.pointerId)},MSPointerOut:function(T){T=this.prepareEvent(T);g.leaveOut(T)},MSPointerOver:function(T){T=this.prepareEvent(T);g.enterOver(T)},MSPointerCancel:function(T){var ea=this.prepareEvent(T);g.cancel(ea);this.cleanup(T.pointerId)},MSLostPointerCapture:function(T){T=
g.makeEvent("lostpointercapture",T);g.dispatchEvent(T)},MSGotPointerCapture:function(T){T=g.makeEvent("gotpointercapture",T);g.dispatchEvent(T)}};if(window.navigator.msPointerEnabled){var Qa=function(T){x(T);a(this);0!==g.pointermap.get(T).buttons&&(g.setCapture(T,this,!0),this.msSetPointerCapture(T))};var ab=function(T){x(T);g.releaseCapture(T,!0);this.msReleasePointerCapture(T)}}else Qa=function(T){x(T);a(this);0!==g.pointermap.get(T).buttons&&g.setCapture(T,this)},ab=function(T){x(T);g.releaseCapture(T)};
var gb=function(T){return!!g.captureInfo[T]};(function(){if(H){z.forEach(function(ea){String(ea)===ea?(G+=c(ea)+f(ea)+"\n",J&&(G+=E(ea)+f(ea)+"\n")):(G+=ea.selectors.map(c)+f(ea.rule)+"\n",J&&(G+=ea.selectors.map(E)+f(ea.rule)+"\n"))});var T=document.createElement("style");T.textContent=G;document.head.appendChild(T)}})();window.PointerEvent||(window.PointerEvent=y,window.navigator.msPointerEnabled?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),
g.registerSource("ms",ra)):(Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),g.registerSource("mouse",da),void 0!==window.ontouchstart&&g.registerSource("touch",ja)),g.register(document));window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Qa},releasePointerCapture:{value:ab},hasPointerCapture:{value:gb}});return{dispatcher:g,Installer:v,PointerEvent:y,PointerMap:t,targetFinding:p}});d},{}],315:[function(k,
L,C){(function(y){(function(){(function(l,v){"object"===typeof C&&"undefined"!==typeof L?L.exports=v():l.Popper=v()})(this,function(){function l(V){var ca=!1;return function(){ca||(ca=!0,window.Promise.resolve().then(function(){ca=!1;V()}))}}function v(V){var ca=!1;return function(){ca||(ca=!0,setTimeout(function(){ca=!1;V()},ea))}}function E(V){var ca={};return V&&"[object Function]"===ca.toString.call(V)}function c(V,ca){if(1!==V.nodeType)return[];V=V.ownerDocument.defaultView.getComputedStyle(V,
null);return ca?V[ca]:V}function f(V){return"HTML"===V.nodeName?V:V.parentNode||V.host}function x(V){if(!V)return document.body;switch(V.nodeName){case "HTML":case "BODY":return V.ownerDocument.body;case "#document":return V.body}var ca=c(V);return/(auto|scroll|overlay)/.test(ca.overflow+ca.overflowY+ca.overflowX)?V:x(f(V))}function a(V){return 11===V?Ia:10===V?Ya:Ia||Ya}function m(V){if(!V)return document.documentElement;for(var ca=a(10)?document.body:null,fa=V.offsetParent||null;fa===ca&&V.nextElementSibling;)fa=
(V=V.nextElementSibling).offsetParent;return(ca=fa&&fa.nodeName)&&"BODY"!==ca&&"HTML"!==ca?-1!==["TH","TD","TABLE"].indexOf(fa.nodeName)&&"static"===c(fa,"position")?m(fa):fa:V?V.ownerDocument.documentElement:document.documentElement}function r(V){return null!==V.parentNode?r(V.parentNode):V}function t(V,ca){if(!(V&&V.nodeType&&ca&&ca.nodeType))return document.documentElement;var fa=V.compareDocumentPosition(ca)&Node.DOCUMENT_POSITION_FOLLOWING,ba=fa?V:ca,va=fa?ca:V;fa=document.createRange();fa.setStart(ba,
0);fa.setEnd(va,0);fa=fa.commonAncestorContainer;if(V!==fa&&ca!==fa||ba.contains(va))return V=fa.nodeName,V="BODY"===V?!1:"HTML"===V||m(fa.firstElementChild)===fa,V?fa:m(fa);ba=r(V);return ba.host?t(ba.host,ca):t(V,r(ca).host)}function b(V){var ca="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",fa=V.nodeName;return"BODY"===fa||"HTML"===fa?(fa=V.ownerDocument.documentElement,(V.ownerDocument.scrollingElement||fa)[ca]):V[ca]}function e(V,ca){var fa=2<
arguments.length&&void 0!==arguments[2]?arguments[2]:!1,ba=b(ca,"top"),va=b(ca,"left");fa=fa?-1:1;V.top+=ba*fa;V.bottom+=ba*fa;V.left+=va*fa;V.right+=va*fa;return V}function h(V,ca){ca="x"===ca?"Left":"Top";var fa="Left"===ca?"Right":"Bottom";return parseFloat(V["border"+ca+"Width"])+parseFloat(V["border"+fa+"Width"])}function n(V,ca,fa,ba){return Math.max(ca["offset"+V],ca["scroll"+V],fa["client"+V],fa["offset"+V],fa["scroll"+V],a(10)?parseInt(fa["offset"+V])+parseInt(ba["margin"+("Height"===V?"Top":
"Left")])+parseInt(ba["margin"+("Height"===V?"Bottom":"Right")]):0)}function g(V){var ca=V.body;V=V.documentElement;var fa=a(10)&&getComputedStyle(V);return{height:n("Height",ca,V,fa),width:n("Width",ca,V,fa)}}function p(V){return Na({},V,{right:V.left+V.width,bottom:V.top+V.height})}function u(V){var ca={};try{if(a(10)){ca=V.getBoundingClientRect();var fa=b(V,"top"),ba=b(V,"left");ca.top+=fa;ca.left+=ba;ca.bottom+=fa;ca.right+=ba}else ca=V.getBoundingClientRect()}catch(va){}ca={left:ca.left,top:ca.top,
width:ca.right-ca.left,height:ca.bottom-ca.top};ba="HTML"===V.nodeName?g(V.ownerDocument):{};fa=V.offsetWidth-(ba.width||V.clientWidth||ca.width);ba=V.offsetHeight-(ba.height||V.clientHeight||ca.height);if(fa||ba)V=c(V),fa-=h(V,"x"),ba-=h(V,"y"),ca.width-=fa,ca.height-=ba;return p(ca)}function A(V,ca){var fa=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,ba=a(10),va="HTML"===ca.nodeName,Fa=u(V),Ga=u(ca),na=x(V),X=c(ca),aa=parseFloat(X.borderTopWidth),D=parseFloat(X.borderLeftWidth);fa&&
va&&(Ga.top=Math.max(Ga.top,0),Ga.left=Math.max(Ga.left,0));Fa=p({top:Fa.top-Ga.top-aa,left:Fa.left-Ga.left-D,width:Fa.width,height:Fa.height});Fa.marginTop=0;Fa.marginLeft=0;!ba&&va&&(va=parseFloat(X.marginTop),X=parseFloat(X.marginLeft),Fa.top-=aa-va,Fa.bottom-=aa-va,Fa.left-=D-X,Fa.right-=D-X,Fa.marginTop=va,Fa.marginLeft=X);if(ba&&!fa?ca.contains(na):ca===na&&"BODY"!==na.nodeName)Fa=e(Fa,ca);return Fa}function F(V){var ca=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,fa=V.ownerDocument.documentElement,
ba=A(V,fa),va=Math.max(fa.clientWidth,window.innerWidth||0),Fa=Math.max(fa.clientHeight,window.innerHeight||0),Ga=ca?0:b(fa);ca=ca?0:b(fa,"left");return p({top:Ga-ba.top+ba.marginTop,left:ca-ba.left+ba.marginLeft,width:va,height:Fa})}function w(V){var ca=V.nodeName;return"BODY"===ca||"HTML"===ca?!1:"fixed"===c(V,"position")?!0:(V=f(V))?w(V):!1}function I(V){if(!V||!V.parentElement||a())return document.documentElement;for(V=V.parentElement;V&&"none"===c(V,"transform");)V=V.parentElement;return V||
document.documentElement}function O(V,ca,fa,ba){var va=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1,Fa={top:0,left:0},Ga=va?I(V):t(V,ca&&ca.referenceNode?ca.referenceNode:ca);if("viewport"===ba)Fa=F(Ga,va);else{if("scrollParent"===ba){var na=x(f(ca));"BODY"===na.nodeName&&(na=V.ownerDocument.documentElement)}else na="window"===ba?V.ownerDocument.documentElement:ba;va=A(na,Ga,va);"HTML"!==na.nodeName||w(Ga)?Fa=va:(na=g(V.ownerDocument),Ga=na.height,na=na.width,Fa.top+=va.top-va.marginTop,
Fa.bottom=Ga+va.top,Fa.left+=va.left-va.marginLeft,Fa.right=na+va.left)}fa=fa||0;va="number"===typeof fa;Fa.left+=va?fa:fa.left||0;Fa.top+=va?fa:fa.top||0;Fa.right-=va?fa:fa.right||0;Fa.bottom-=va?fa:fa.bottom||0;return Fa}function z(V,ca,fa,ba,va){var Fa=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===V.indexOf("auto"))return V;Fa=O(fa,ba,Fa,va);var Ga={top:{width:Fa.width,height:ca.top-Fa.top},right:{width:Fa.right-ca.right,height:Fa.height},bottom:{width:Fa.width,height:Fa.bottom-
ca.bottom},left:{width:ca.left-Fa.left,height:Fa.height}};Fa=Object.keys(Ga).map(function(X){var aa=Ga[X];return Na({key:X},Ga[X],{area:aa.width*aa.height})}).sort(function(X,aa){return aa.area-X.area});var na=Fa.filter(function(X){var aa=X.height;return X.width>=fa.clientWidth&&aa>=fa.clientHeight});Fa=0<na.length?na[0].key:Fa[0].key;na=V.split("-")[1];return Fa+(na?"-"+na:"")}function G(V,ca,fa){var ba=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,va=ba?I(ca):t(ca,fa&&fa.referenceNode?
fa.referenceNode:fa);return A(fa,va,ba)}function H(V){var ca=V.ownerDocument.defaultView.getComputedStyle(V),fa=parseFloat(ca.marginTop||0)+parseFloat(ca.marginBottom||0);ca=parseFloat(ca.marginLeft||0)+parseFloat(ca.marginRight||0);return{width:V.offsetWidth+ca,height:V.offsetHeight+fa}}function J(V){var ca={left:"right",right:"left",bottom:"top",top:"bottom"};return V.replace(/left|right|bottom|top/g,function(fa){return ca[fa]})}function N(V,ca,fa){fa=fa.split("-")[0];V=H(V);var ba={width:V.width,
height:V.height},va=-1!==["right","left"].indexOf(fa),Fa=va?"top":"left",Ga=va?"left":"top",na=va?"height":"width";ba[Fa]=ca[Fa]+ca[na]/2-V[na]/2;ba[Ga]=fa===Ga?ca[Ga]-V[va?"width":"height"]:ca[J(Ga)];return ba}function S(V,ca){return Array.prototype.find?V.find(ca):V.filter(ca)[0]}function ia(V,ca,fa){if(Array.prototype.findIndex)return V.findIndex(function(va){return va[ca]===fa});var ba=S(V,function(va){return va[ca]===fa});return V.indexOf(ba)}function da(V,ca,fa){(void 0===fa?V:V.slice(0,ia(V,
"name",fa))).forEach(function(ba){ba["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var va=ba["function"]||ba.fn;ba.enabled&&E(va)&&(ca.offsets.popper=p(ca.offsets.popper),ca.offsets.reference=p(ca.offsets.reference),ca=va(ca,ba))});return ca}function ta(V,ca){return V.some(function(fa){var ba=fa.name;return fa.enabled&&ba===ca})}function oa(V){for(var ca=[!1,"ms","Webkit","Moz","O"],fa=V.charAt(0).toUpperCase()+V.slice(1),ba=0;ba<ca.length;ba++){var va=ca[ba];
va=va?""+va+fa:V;if("undefined"!==typeof document.body.style[va])return va}return null}function R(V){return(V=V.ownerDocument)?V.defaultView:window}function pa(V,ca,fa,ba){var va="BODY"===V.nodeName;V=va?V.ownerDocument.defaultView:V;V.addEventListener(ca,fa,{passive:!0});va||pa(x(V.parentNode),ca,fa,ba);ba.push(V)}function ja(V,ca){R(V).removeEventListener("resize",ca.updateBound);ca.scrollParents.forEach(function(fa){fa.removeEventListener("scroll",ca.updateBound)});ca.updateBound=null;ca.scrollParents=
[];ca.scrollElement=null;ca.eventsEnabled=!1;return ca}function za(V){return""!==V&&!isNaN(parseFloat(V))&&isFinite(V)}function ua(V,ca){Object.keys(ca).forEach(function(fa){var ba="";-1!=="width height top right bottom left".split(" ").indexOf(fa)&&za(ca[fa])&&(ba="px");V.style[fa]=ca[fa]+ba})}function Ha(V,ca){Object.keys(ca).forEach(function(fa){!1!==ca[fa]?V.setAttribute(fa,ca[fa]):V.removeAttribute(fa)})}function ra(V,ca){var fa=V.offsets,ba=fa.popper,va=Math.round,Fa=Math.floor,Ga=function(aa){return aa};
fa=va(fa.reference.width);var na=va(ba.width),X=-1!==["left","right"].indexOf(V.placement);V=-1!==V.placement.indexOf("-");Fa=ca?X||V||fa%2===na%2?va:Fa:Ga;va=ca?va:Ga;return{left:Fa(1===fa%2&&1===na%2&&!V&&ca?ba.left-1:ba.left),top:va(ba.top),bottom:va(ba.bottom),right:Fa(ba.right)}}function Qa(V,ca,fa){var ba=S(V,function(Fa){return Fa.name===ca});V=!!ba&&V.some(function(Fa){return Fa.name===fa&&Fa.enabled&&Fa.order<ba.order});if(!V){var va="`"+ca+"`";console.warn("`"+fa+"` modifier is required by "+
va+" modifier in order to work, be sure to include it before "+va+"!")}return V}function ab(V){var ca=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,fa=Ka.indexOf(V);fa=Ka.slice(fa+1).concat(Ka.slice(0,fa));return ca?fa.reverse():fa}function gb(V,ca,fa,ba){var va=[0,0],Fa=-1!==["right","left"].indexOf(ba);V=V.split(/(\+|\-)/).map(function(na){return na.trim()});ba=V.indexOf(S(V,function(na){return-1!==na.search(/,|\s/)}));V[ba]&&-1===V[ba].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");
var Ga=/\s*,\s*|\s+/;V=-1!==ba?[V.slice(0,ba).concat([V[ba].split(Ga)[0]]),[V[ba].split(Ga)[1]].concat(V.slice(ba+1))]:[V];V=V.map(function(na,X){var aa=(1===X?!Fa:Fa)?"height":"width",D=!1;return na.reduce(function(K,Z){return""===K[K.length-1]&&-1!==["+","-"].indexOf(Z)?(K[K.length-1]=Z,D=!0,K):D?(K[K.length-1]+=Z,D=!1,K):K.concat(Z)},[]).map(function(K){var Z=K.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var Aa=+Z[1];Z=Z[2];if(Aa)if(0===Z.indexOf("%")){switch(Z){case "%p":K=ca;break;default:K=fa}Aa*=p(K)[aa]/
100}else Aa="vh"===Z||"vw"===Z?("vh"===Z?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*Aa:Aa;else Aa=K;return Aa})});V.forEach(function(na,X){na.forEach(function(aa,D){za(aa)&&(va[X]+=aa*("-"===na[D-1]?-1:1))})});return va}var T="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,ea=function(){for(var V=["Edge","Trident","Firefox"],ca=0;ca<V.length;ca+=1)if(T&&0<=
navigator.userAgent.indexOf(V[ca]))return 1;return 0}(),ya=T&&window.Promise?l:v,Ia=T&&!(!window.MSInputMethodContext||!document.documentMode),Ya=T&&/MSIE 10/.test(navigator.userAgent),sb=function(){function V(ca,fa){for(var ba=0;ba<fa.length;ba++){var va=fa[ba];va.enumerable=va.enumerable||!1;va.configurable=!0;"value"in va&&(va.writable=!0);Object.defineProperty(ca,va.key,va)}}return function(ca,fa,ba){fa&&V(ca.prototype,fa);ba&&V(ca,ba);return ca}}(),ub=function(V,ca,fa){ca in V?Object.defineProperty(V,
ca,{value:fa,enumerable:!0,configurable:!0,writable:!0}):V[ca]=fa;return V},Na=Object.assign||function(V){for(var ca=1;ca<arguments.length;ca++){var fa=arguments[ca],ba;for(ba in fa)Object.prototype.hasOwnProperty.call(fa,ba)&&(V[ba]=fa[ba])}return V},sa=T&&/Firefox/i.test(navigator.userAgent),Oa="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),Ka=Oa.slice(3),bb=function(){function V(ca,fa){var ba=this,
va=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof V))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(ba.update)};this.update=ya(this.update.bind(this));this.options=Na({},V.Defaults,va);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=ca&&ca.jquery?ca[0]:ca;this.popper=fa&&fa.jquery?fa[0]:fa;this.options.modifiers={};Object.keys(Na({},V.Defaults.modifiers,va.modifiers)).forEach(function(Ga){ba.options.modifiers[Ga]=
Na({},V.Defaults.modifiers[Ga]||{},va.modifiers?va.modifiers[Ga]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(Ga){return Na({name:Ga},ba.options.modifiers[Ga])}).sort(function(Ga,na){return Ga.order-na.order});this.modifiers.forEach(function(Ga){if(Ga.enabled&&E(Ga.onLoad))Ga.onLoad(ba.reference,ba.popper,ba.options,Ga,ba.state)});this.update();var Fa=this.options.eventsEnabled;Fa&&this.enableEventListeners();this.state.eventsEnabled=Fa}sb(V,[{key:"update",value:function(){if(!this.state.isDestroyed){var ca=
{instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};ca.offsets.reference=G(this.state,this.popper,this.reference,this.options.positionFixed);ca.placement=z(this.options.placement,ca.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);ca.originalPlacement=ca.placement;ca.positionFixed=this.options.positionFixed;ca.offsets.popper=N(this.popper,ca.offsets.reference,ca.placement);ca.offsets.popper.position=
this.options.positionFixed?"fixed":"absolute";ca=da(this.modifiers,ca);if(this.state.isCreated)this.options.onUpdate(ca);else this.state.isCreated=!0,this.options.onCreate(ca)}}},{key:"destroy",value:function(){this.state.isDestroyed=!0;ta(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[oa("transform")]=
"");this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var ca=this.reference,fa=this.state;fa.updateBound=this.scheduleUpdate;R(ca).addEventListener("resize",fa.updateBound,{passive:!0});ca=x(ca);pa(ca,"scroll",fa.updateBound,fa.scrollParents);fa.scrollElement=ca;fa.eventsEnabled=!0;this.state=fa}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&
(cancelAnimationFrame(this.scheduleUpdate),this.state=ja(this.reference,this.state))}}]);return V}();bb.Utils=("undefined"!==typeof window?window:y).PopperUtils;bb.placements=Oa;bb.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(V){var ca=V.placement,fa=ca.split("-")[0];if(ca=ca.split("-")[1]){var ba=V.offsets,va=ba.reference;ba=ba.popper;var Fa=-1!==["bottom","top"].indexOf(fa);
fa=Fa?"left":"top";Fa=Fa?"width":"height";va={start:ub({},fa,va[fa]),end:ub({},fa,va[fa]+va[Fa]-ba[Fa])};V.offsets.popper=Na({},ba,va[ca])}return V}},offset:{order:200,enabled:!0,fn:function(V,ca){var fa=ca.offset,ba=V.offsets;ca=ba.popper;var va=ba.reference;ba=V.placement.split("-")[0];fa=za(+fa)?[+fa,0]:gb(fa,ca,va,ba);"left"===ba?(ca.top+=fa[0],ca.left-=fa[1]):"right"===ba?(ca.top+=fa[0],ca.left+=fa[1]):"top"===ba?(ca.left+=fa[0],ca.top-=fa[1]):"bottom"===ba&&(ca.left+=fa[0],ca.top+=fa[1]);V.popper=
ca;return V},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(V,ca){var fa=ca.boundariesElement||m(V.instance.popper);V.instance.reference===fa&&(fa=m(fa));var ba=oa("transform"),va=V.instance.popper.style,Fa=va.top,Ga=va.left,na=va[ba];va.top="";va.left="";va[ba]="";var X=O(V.instance.popper,V.instance.reference,ca.padding,fa,V.positionFixed);va.top=Fa;va.left=Ga;va[ba]=na;ca.boundaries=X;var aa=V.offsets.popper,D={primary:function(K){var Z=aa[K];aa[K]<X[K]&&!ca.escapeWithReference&&(Z=
Math.max(aa[K],X[K]));return ub({},K,Z)},secondary:function(K){var Z="right"===K?"left":"top",Aa=aa[Z];aa[K]>X[K]&&!ca.escapeWithReference&&(Aa=Math.min(aa[Z],X[K]-("right"===K?aa.width:aa.height)));return ub({},Z,Aa)}};ca.priority.forEach(function(K){var Z=-1!==["left","top"].indexOf(K)?"primary":"secondary";aa=Na({},aa,D[Z](K))});V.offsets.popper=aa;return V},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(V){var ca=
V.offsets,fa=ca.popper;ca=ca.reference;var ba=V.placement.split("-")[0],va=Math.floor,Fa=-1!==["top","bottom"].indexOf(ba);ba=Fa?"right":"bottom";var Ga=Fa?"left":"top";Fa=Fa?"width":"height";fa[ba]<va(ca[Ga])&&(V.offsets.popper[Ga]=va(ca[Ga])-fa[Fa]);fa[Ga]>va(ca[ba])&&(V.offsets.popper[Ga]=va(ca[ba]));return V}},arrow:{order:500,enabled:!0,fn:function(V,ca){var fa;if(!Qa(V.instance.modifiers,"arrow","keepTogether"))return V;ca=ca.element;if("string"===typeof ca){if(ca=V.instance.popper.querySelector(ca),
!ca)return V}else if(!V.instance.popper.contains(ca))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),V;var ba=V.placement.split("-")[0],va=V.offsets,Fa=va.popper,Ga=va.reference,na=-1!==["left","right"].indexOf(ba);ba=na?"height":"width";var X=na?"Top":"Left";va=X.toLowerCase();var aa=na?"left":"top",D=na?"bottom":"right";na=H(ca)[ba];Ga[D]-na<Fa[va]&&(V.offsets.popper[va]-=Fa[va]-(Ga[D]-na));Ga[va]+na>Fa[D]&&(V.offsets.popper[va]+=Ga[va]+na-Fa[D]);V.offsets.popper=
p(V.offsets.popper);Ga=Ga[va]+Ga[ba]/2-na/2;var K=c(V.instance.popper);D=parseFloat(K["margin"+X]);X=parseFloat(K["border"+X+"Width"]);X=Ga-V.offsets.popper[va]-D-X;X=Math.max(Math.min(Fa[ba]-na,X),0);V.arrowElement=ca;V.offsets.arrow=(fa={},ub(fa,va,Math.round(X)),ub(fa,aa,""),fa);return V},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(V,ca){if(ta(V.instance.modifiers,"inner")||V.flipped&&V.placement===V.originalPlacement)return V;var fa=O(V.instance.popper,V.instance.reference,ca.padding,
ca.boundariesElement,V.positionFixed),ba=V.placement.split("-")[0],va=J(ba),Fa=V.placement.split("-")[1]||"",Ga=[];switch(ca.behavior){case "flip":Ga=[ba,va];break;case "clockwise":Ga=ab(ba);break;case "counterclockwise":Ga=ab(ba,!0);break;default:Ga=ca.behavior}Ga.forEach(function(na,X){if(ba!==na||Ga.length===X+1)return V;ba=V.placement.split("-")[0];va=J(ba);var aa=V.offsets.popper;na=V.offsets.reference;var D=Math.floor;na="left"===ba&&D(aa.right)>D(na.left)||"right"===ba&&D(aa.left)<D(na.right)||
"top"===ba&&D(aa.bottom)>D(na.top)||"bottom"===ba&&D(aa.top)<D(na.bottom);var K=D(aa.left)<D(fa.left),Z=D(aa.right)>D(fa.right),Aa=D(aa.top)<D(fa.top);D=D(aa.bottom)>D(fa.bottom);aa="left"===ba&&K||"right"===ba&&Z||"top"===ba&&Aa||"bottom"===ba&&D;var Ra=-1!==["top","bottom"].indexOf(ba),Va=!!ca.flipVariationsByContent&&(Ra&&"start"===Fa&&Z||Ra&&"end"===Fa&&K||!Ra&&"start"===Fa&&D||!Ra&&"end"===Fa&&Aa);K=!!ca.flipVariations&&(Ra&&"start"===Fa&&K||Ra&&"end"===Fa&&Z||!Ra&&"start"===Fa&&Aa||!Ra&&"end"===
Fa&&D)||Va;if(na||aa||K){V.flipped=!0;if(na||aa)ba=Ga[X+1];K&&("end"===Fa?Fa="start":"start"===Fa&&(Fa="end"));V.placement=ba+(Fa?"-"+Fa:"");V.offsets.popper=Na({},V.offsets.popper,N(V.instance.popper,V.offsets.reference,V.placement));V=da(V.instance.modifiers,V,"flip")}});return V},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(V){var ca=V.placement,fa=ca.split("-")[0],ba=V.offsets,va=ba.popper;ba=ba.reference;
var Fa=-1!==["left","right"].indexOf(fa),Ga=-1===["top","left"].indexOf(fa);va[Fa?"left":"top"]=ba[fa]-(Ga?va[Fa?"width":"height"]:0);V.placement=J(ca);V.offsets.popper=p(va);return V}},hide:{order:800,enabled:!0,fn:function(V){if(!Qa(V.instance.modifiers,"hide","preventOverflow"))return V;var ca=V.offsets.reference,fa=S(V.instance.modifiers,function(ba){return"preventOverflow"===ba.name}).boundaries;if(ca.bottom<fa.top||ca.left>fa.right||ca.top>fa.bottom||ca.right<fa.left){if(!0===V.hide)return V;
V.hide=!0;V.attributes["x-out-of-boundaries"]=""}else{if(!1===V.hide)return V;V.hide=!1;V.attributes["x-out-of-boundaries"]=!1}return V}},computeStyle:{order:850,enabled:!0,fn:function(V,ca){var fa=ca.x,ba=ca.y,va=V.offsets.popper,Fa=S(V.instance.modifiers,function(K){return"applyStyle"===K.name}).gpuAcceleration;void 0!==Fa&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");ca=void 0!==Fa?Fa:ca.gpuAcceleration;
Fa=m(V.instance.popper);var Ga=u(Fa);va={position:va.position};var na=ra(V,2>window.devicePixelRatio||!sa);fa="bottom"===fa?"top":"bottom";ba="right"===ba?"left":"right";var X=oa("transform"),aa=void 0,D=void 0;D="bottom"===fa?"HTML"===Fa.nodeName?-Fa.clientHeight+na.bottom:-Ga.height+na.bottom:na.top;aa="right"===ba?"HTML"===Fa.nodeName?-Fa.clientWidth+na.right:-Ga.width+na.right:na.left;ca&&X?(va[X]="translate3d("+aa+"px, "+D+"px, 0)",va[fa]=0,va[ba]=0,va.willChange="transform"):(va[fa]=D*("bottom"===
fa?-1:1),va[ba]=aa*("right"===ba?-1:1),va.willChange=fa+", "+ba);V.attributes=Na({},{"x-placement":V.placement},V.attributes);V.styles=Na({},va,V.styles);V.arrowStyles=Na({},V.offsets.arrow,V.arrowStyles);return V},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(V){ua(V.instance.popper,V.styles);Ha(V.instance.popper,V.attributes);V.arrowElement&&Object.keys(V.arrowStyles).length&&ua(V.arrowElement,V.arrowStyles);return V},onLoad:function(V,ca,fa,ba,va){ba=G(va,
ca,V,fa.positionFixed);V=z(fa.placement,ba,ca,V,fa.modifiers.flip.boundariesElement,fa.modifiers.flip.padding);ca.setAttribute("x-placement",V);ua(ca,{position:fa.positionFixed?"fixed":"absolute"});return fa},gpuAcceleration:void 0}}};return bb})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],316:[function(k,L,C){(function(y){function l(){}function v(a,m){for(var r=a.length;r--;)if(a[r].listener===m)return r;return-1}
function E(a){return function(){return this[a].apply(this,arguments)}}function c(a){return"function"===typeof a||a instanceof RegExp?!0:a&&"object"===typeof a?c(a.listener):!1}var f=l.prototype,x=y.EventEmitter;f.getListeners=function(a){var m=this._getEvents(),r;if(a instanceof RegExp){var t={};for(r in m)m.hasOwnProperty(r)&&a.test(r)&&(t[r]=m[r])}else t=m[a]||(m[a]=[]);return t};f.flattenListeners=function(a){var m=[],r;for(r=0;r<a.length;r+=1)m.push(a[r].listener);return m};f.getListenersAsObject=
function(a){var m=this.getListeners(a);if(m instanceof Array){var r={};r[a]=m}return r||m};f.addListener=function(a,m){if(!c(m))throw new TypeError("listener must be a function");a=this.getListenersAsObject(a);var r="object"===typeof m,t;for(t in a)a.hasOwnProperty(t)&&-1===v(a[t],m)&&a[t].push(r?m:{listener:m,once:!1});return this};f.on=E("addListener");f.addOnceListener=function(a,m){return this.addListener(a,{listener:m,once:!0})};f.once=E("addOnceListener");f.defineEvent=function(a){this.getListeners(a);
return this};f.defineEvents=function(a){for(var m=0;m<a.length;m+=1)this.defineEvent(a[m]);return this};f.removeListener=function(a,m){a=this.getListenersAsObject(a);var r;for(r in a)if(a.hasOwnProperty(r)){var t=v(a[r],m);-1!==t&&a[r].splice(t,1)}return this};f.off=E("removeListener");f.addListeners=function(a,m){return this.manipulateListeners(!1,a,m)};f.removeListeners=function(a,m){return this.manipulateListeners(!0,a,m)};f.manipulateListeners=function(a,m,r){var t,b,e=a?this.removeListener:this.addListener;
a=a?this.removeListeners:this.addListeners;if("object"!==typeof m||m instanceof RegExp)for(t=r.length;t--;)e.call(this,m,r[t]);else for(t in m)m.hasOwnProperty(t)&&(b=m[t])&&("function"===typeof b?e.call(this,t,b):a.call(this,t,b));return this};f.removeEvent=function(a){var m=typeof a,r=this._getEvents(),t;if("string"===m)delete r[a];else if(a instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&a.test(t)&&delete r[t];else delete this._events;return this};f.removeAllListeners=E("removeEvent");f.emitEvent=
function(a,m){var r=this.getListenersAsObject(a),t,b;for(b in r)if(r.hasOwnProperty(b)){var e=r[b].slice(0);for(t=0;t<e.length;t++){var h=e[t];!0===h.once&&this.removeListener(a,h.listener);var n=h.listener.apply(this,m||[]);n===this._getOnceReturnValue()&&this.removeListener(a,h.listener)}}return this};f.trigger=E("emitEvent");f.emit=function(a){var m=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,m)};f.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};f._getOnceReturnValue=
function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};f._getEvents=function(){return this._events||(this._events={})};l.noConflict=function(){y.EventEmitter=x;return l};"object"===typeof L&&L.exports?L.exports=l:y.EventEmitter=l})("undefined"!==typeof window?window:this||{})},{}]},{},[1])(1)});
